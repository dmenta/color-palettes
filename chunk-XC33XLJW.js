import{$a as tr,A as tt,Aa as Xe,Ba as L,Ca as V,Eb as ar,Fb as ro,G as ot,Gb as Fe,Ha as Qt,Hb as it,Ia as g,Ib as xe,Ja as F,Jb as fe,Ka as Y,Kb as ye,L as Jn,La as se,Lb as K,M as Ce,Ma as k,Mb as ze,Na as we,Nb as io,Oa as Kn,Ob as sr,Pa as Q,Pb as lr,Qa as U,Qb as ce,R as T,Ra as p,Rb as Be,Sa as f,Sb as cr,Ta as D,Tb as ur,Ua as ne,Ub as ao,Va as Ut,Vb as so,Wa as B,Wb as Me,X as Z,Xa as b,Xb as te,Y as J,Ya as Qn,Z as Ye,Za as Un,_a as er,a as Qe,ab as _,b as Zn,ba as Jt,bb as le,c as Ue,cb as de,db as be,ea as Ft,eb as eo,fa as w,fb as to,ga as Wt,gb as or,ha as j,hb as nr,ib as oo,jb as mn,kb as rr,lb as nt,mb as rt,pa as d,rb as W,sa as Kt,sb as ie,ta as qe,va as Wn,x as et,ya as M,yb as no,za as C,zb as ir}from"./chunk-3OPULTSB.js";var Bt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-display-base",""],["zzDisplayBase"]],hostVars:2,hostBindings:function(t,n){t&2&&se(n.tipo)}})},_e=class o extends Bt{tipo="inline-block";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-inline-block",""],["zzInlineBlock"]],features:[Xe]})},at=class o extends Bt{tipo="block";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-block",""],["zzBlock"]],features:[Xe]})},lo=class o extends Bt{tipo="flex";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-flex",""],["zzFlex"]],features:[Xe]})};var Ne=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["span","zz-icon",""]],hostAttrs:[1,"font-icons","text-larger-5","min-w-10","w-10","aspect-square","content-center"],features:[L([_e])]})};var st=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-appearance-none",""],["zzAppearanceNone"]],hostAttrs:[1,"appearance-none"]})},co=class o{get estilos(){return"base-select"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-appearance-base-select",""],["zzAppearanceBaseSelect"]],hostVars:2,hostBindings:function(t,n){t&2&&F("appearance",n.estilos)}})};var lt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-select-none",""],["zzSelectNone"]],hostAttrs:[1,"select-none"]})};var Le=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-transition-default",""],["zzTransitionDefault"]],hostAttrs:[1,"transition-all"]})};var uo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-background-base",""],["zzBackgroundBase"]],hostVars:2,hostBindings:function(t,n){t&2&&se(n.varname)}})},mo=class o extends uo{varname="bg-container";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-container-background",""],["zzContainerBackground"]],features:[Xe]})},po=class o extends uo{varname="bg-button";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-button-background",""],["zzButtonBackground"]],features:[Xe]})};var fo=class o{get estilos(){return"hidden"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-overflow-hidden",""],["zzOverflowHidden"]],hostVars:2,hostBindings:function(t,n){t&2&&F("overflow",n.estilos)}})},ho=class o{get estilos(){return"visible"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-overflow-visible",""],["zzOverflowVisible"]],hostVars:2,hostBindings:function(t,n){t&2&&F("overflow",n.estilos)}})},go=class o{get estilos(){return"hidden"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-overflow-y-hidden",""],["zzOverflowYHidden"]],hostVars:2,hostBindings:function(t,n){t&2&&F("overflow-y",n.estilos)}})};var aa=.125,ct=class o{radius=w("small",{alias:"zz-rounded",transform:e=>{let t=(e??"none").toLowerCase().trim();return t==="none"?"none":t==="normal"?"normal":t==="large"?"large":"small"}});get estilos(){let e=this.radius();if(e!=="none")return aa*(e==="normal"?3:e==="small"?2:4)}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-rounded",""],["zzRounded"]],hostVars:2,hostBindings:function(t,n){t&2&&F("border-radius",n.estilos,"rem")},inputs:{radius:[1,"zz-rounded","radius"]},features:[L([fo])]})};var bo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-button-hover",""],["zzButtonHover"]],hostAttrs:[1,"hover:bg-button-hover"]})};var vo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-active",""],["zzActive"]],hostAttrs:[1,"active:not-disabled:scale-90"]})};var Co=class o{enabled=w(void 0,{alias:"show-focus-ring",transform:e=>e??!0});clases=W(()=>this.enabled()?`
          group-focus-within:ring-2 group-focus-within:ring-offset-0
          ring-gris-600/50 outline-none  
          dark:ring-gris-300/60
          focus:ring-2 focus:ring-offset-0
        `:"");static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-focus-ring",""],["zzFocusRing"]],hostVars:2,hostBindings:function(t,n){t&2&&se(n.clases())},inputs:{enabled:[1,"show-focus-ring","enabled"]}})};var Ee=class o{state=w(!1,{alias:"zz-disabled"});get opacity(){return this.state()?"0.5":void 0}get cursor(){return this.state()?"not-allowed":void 0}get userSelect(){return this.state()?"none":void 0}get shadow(){return this.state()?"0 0 #0000":void 0}get isDisabled(){return this.state().toString()==="true"?"":void 0}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-disabled",""],["zzDisabled"]],hostVars:9,hostBindings:function(t,n){t&2&&(Qt("disabled",n.isDisabled),F("opacity",n.opacity)("cursor",n.cursor)("user-select",n.userSelect)("shadow",n.shadow))},inputs:{state:[1,"zz-disabled","state"]}})};var ut=class o{onClick(e){e.preventDefault(),e.stopImmediatePropagation()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-button",""]],hostAttrs:[1,"min-w-fit","mx-0.5","cursor-pointer"],hostBindings:function(t,n){t&1&&B("click",function(i){return n.onClick(i)})},features:[L([st,_e,lt,Le,po,{directive:ct,inputs:["zz-rounded","roundedSize"]},bo,vo,{directive:Co,inputs:["show-focus-ring","focus-ring"]},{directive:Ee,inputs:["zz-disabled","zzDisabled"]}])]})};var mt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-icon-button",""]],features:[L([ut])]})};var pa=["zz-icon-toggle-button",""],wo=class o{value=Wn(!0);toggle=Ft();trueIcon=w("radio_button_checked",{transform:e=>e?.trim()||"radio_button_checked"});falseIcon=w("radio_button_unchecked",{transform:e=>e?.trim()||"radio_button_unchecked"});iconName=W(()=>this.value()?this.trueIcon():this.falseIcon());onClick(e){this.value.update(t=>!t),this.toggle.emit(this.value()),e.stopPropagation()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["button","zz-icon-toggle-button",""]],hostBindings:function(t,n){t&1&&B("click",function(i){return n.onClick(i)})},inputs:{value:[1,"value"],trueIcon:[1,"trueIcon"],falseIcon:[1,"falseIcon"]},outputs:{value:"valueChange",toggle:"toggle"},features:[L([mt])],attrs:pa,decls:2,vars:1,consts:[["zz-icon",""]],template:function(t,n){t&1&&(p(0,"span",0),_(1),f()),t&2&&(d(),le(n.iconName()))},dependencies:[Ne],encapsulation:2,changeDetection:0})};var Re=class o{save(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){let t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return console.error(`Error parsing value for ${e}:`,n),null}return null}delete(e){localStorage.removeItem(e)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Ce({token:o,factory:o.\u0275fac,providedIn:"root"})};var xo=class o{store=T(Re);darkMode=j(this.store.get("darkMode")??!1);setDarkMode(e){this.darkMode.set(e)}constructor(){ie(()=>this.apply(this.darkMode()))}apply(e){this.store.save("darkMode",e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.querySelector("meta[name='color-scheme']")?.setAttribute("content",e?"dark":"light")}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Ce({token:o,factory:o.\u0275fac,providedIn:"root"})};var yo=class o{darkModeService=T(xo);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-dark-mode-toggle"]],decls:1,vars:2,consts:[["zz-icon-toggle-button","","falseIcon","dark_mode","trueIcon","light_mode",1,"m-1",2,"background-color","transparent !important",3,"toggle","focus-ring","value"]],template:function(t,n){t&1&&(p(0,"button",0),B("toggle",function(i){return n.darkModeService.setDarkMode(i)}),f()),t&2&&g("focus-ring",!1)("value",n.darkModeService.darkMode())},dependencies:[wo],encapsulation:2})};var pt=class o{show=w(!0,{alias:"zz-shadow"});static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-shadow",""],["zzShadow"]],hostVars:4,hostBindings:function(t,n){t&2&&Y("shadow-md/50",n.show())("shadow-black",n.show())},inputs:{show:[1,"zz-shadow","show"]}})};var Te=class o{colorModel=w(void 0,{alias:"color-model"});values=w(void 0);get background(){return this.bgColor()??"black"}bgColor=W(()=>{let e=this.colorModel();if(!e)return;let t=this.values()??[0,0,0];return e.convert([t[0],t[1],t[2]])});static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","color-swatch",""]],hostVars:2,hostBindings:function(t,n){t&2&&F("background-color",n.background)},inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"]}})},zo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","color-swatch-panel",""]],features:[L([{directive:Te,inputs:["color-model","color-model","values","values"]},{directive:ct,inputs:["zz-rounded","roundedSize"]},{directive:pt,inputs:["zz-shadow","shadow"]}])]})};var he=class o{constructor(e,t,n,r="",i=0,a=100,l=0){this.name=e;this.label=t;this.max=n;this.unit=r;this.precision=i;this.autoSteps=a;this.min=l;this.defaultValue=this.average(l,n),this.axisValues=this.calcAxisValues(l,n,o.axisSteps),this.stepSize=(n-l)/(o.axisSteps-1)}static axisSteps=50;defaultValue;stepSize;axisValues;calcAxisValues(e,t,n=50){let r=(t-e)/(n-1);return Array.from({length:n},(i,a)=>e+a*r)}convertAverage(e,t){return this.convert(this.internalAverage(e,t))}convert(e){return`${this.clampValue(e).toFixed(this.precision)}${this.unit}`}average(e,t){return Number.parseFloat(this.internalAverage(e,t).toFixed(this.precision))}clampValue(e){return e===void 0?this.defaultValue:Math.max(this.min,Math.min(this.max,e))}internalAverage(e,t){return(Math.max(this.min,e)+Math.min(this.max,t))/2}},dt=class{constructor(e,t,n=0,r){this.name=e;this.components=t;this.defaultVariableIndex=n;this.templateFn=r?.bind(this)||this.templateFn}templateFn=this.template;template(e){return`${this.name}(${e[0]} ${e[1]} ${e[2]})`}defaultValues(){return[this.components[0].defaultValue,this.components[1].defaultValue,this.components[2].defaultValue]}convert(e){return this.templateFn([this.components[0].convert(e[0]),this.components[1].convert(e[1]),this.components[2].convert(e[2])])}};var Nt=[new dt("oklch",[new he("Lightness","L",1,"",3,35),new he("Chroma","C",.4,"",3,20),new he("Hue","H",540,"",2,55,-180)]),new dt("hsl",[new he("Hue","H",540,"deg",0,55,-180),new he("Saturation","S",100,"%",0,20),new he("Lightness","L",100,"%",1,35)],2),new dt("rgb",[new he("Red","R",255,"",0,25),new he("Green","G",255,"",0,25),new he("Blue","B",255,"",0,25)])],Se={oklch:Nt[0],hsl:Nt[1],rgb:Nt[2]};function fa(o,e){if(o&1&&D(0,"div",2),o&2){let t=e.$implicit,n=b(2);g("color-model",n.colorModel())("values",t.valores)}}function ha(o,e){o&1&&(p(0,"div",1),Q(1,fa,1,2,"div",2,we),f()),o&2&&(F("height",24,"px"),d(),U(e.swatches))}var Mo=class o{palette=w(void 0);colorModel=W(()=>{let e=this.palette()?.model;if(e)return Se[e]});static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-mini-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"height"],[1,"flex","flex-row","justify-between"],["color-swatch","",1,"axis-swatch",3,"color-model","values"]],template:function(t,n){if(t&1&&V(0,ha,3,2,"div",0),t&2){let r;k((r=n.palette())?0:-1,r)}},dependencies:[Te],encapsulation:2,changeDetection:0})};function ga(o,e){if(o&1){let t=ne();p(0,"div",1)(1,"span",2),_(2),f(),p(3,"zz-mini-palette",3),B("click",function(){let r=Z(t).$implicit,i=b();return J(i.paletteClick(r))}),f(),p(4,"button",4),B("click",function(r){let i=Z(t).$index,a=b();return J(a.removePalette(r,i))}),p(5,"span",5),_(6,"close"),f()()()}if(o&2){let t=e.$implicit,n=e.$index;d(2),le(n+1),d(),g("palette",t.palette)}}var _o=class o{palettes=w([]);paletteSelected=Ft();paletteRemoved=Ft();paletteClick(e){this.paletteSelected.emit(e)}removePalette(e,t){e.stopPropagation(),e.preventDefault(),this.paletteRemoved.emit(t)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-list"]],inputs:{palettes:[1,"palettes"]},outputs:{paletteSelected:"paletteSelected",paletteRemoved:"paletteRemoved"},decls:3,vars:0,consts:[[1,"max-w-96","h-fit"],[1,"transition-colors","duration-200","ease-in-out","flex","items-center","gap-2","group","hover:bg-gris-100/50","dark:hover:bg-gris-900/50","p-2"],[1,"transition-opacity","duration-200","ease-in-out","text-smaller-2","group-hover:opacity-100","opacity-75","block","w-3","text-right"],[1,"block","w-full","cursor-pointer","rounded","overflow-hidden",3,"click","palette"],["title","Remove palette",1,"transition-opacity","duration-200","ease-in-out","cursor-pointer","group-hover:opacity-100","opacity-75","flex","items-center","justify-center","rounded-full",3,"click"],[1,"font-icons","text-larger","-ml-1"]],template:function(t,n){t&1&&(p(0,"div",0),Q(1,ga,7,2,"div",1,we),f()),t&2&&(d(),U(n.palettes()))},dependencies:[Mo],encapsulation:2})};var Ae=class o{store=T(Re);saved=j(this.store.get("saved-palettes")??[]);lockedPalette=j(this.store.get("locked-palette")??void 0);lockPalette(e){let t=this.lockedPalette();if(t&&this.paletteEquals(t,e))return;this.store.save("locked-palette",e),this.lockedPalette.set(e);let n=this.saved();n.length>0&&this.paletteEquals(n[0],e)||(this.saved.update(r=>[e,...r].slice(0,10)),this.store.save("saved-palettes",this.saved()))}unlockPalette(){this.store.delete("locked-palette"),this.lockedPalette.set(void 0)}removePalette(e){this.saved.update(t=>{let n=[...t];return n.splice(e,1),n}),this.store.save("saved-palettes",this.saved())}paletteEquals(e,t){if(e.palette.model!==t.palette.model||e.state.variableConfig.variable.name!==t.state.variableConfig.variable.name)return!1;let n=e.state.variableConfig.variable.precision;if(e.state.minmax[0].toFixed(n)!==t.state.minmax[0].toFixed(n)||e.state.minmax[1].toFixed(n)!==t.state.minmax[1].toFixed(n)||e.palette.swatches.length!==t.palette.swatches.length)return!1;for(let r=0;r<e.palette.swatches.length;r++)if(e.palette.swatches[r]?.valores[0]!==t.palette.swatches[r]?.valores[0]||e.palette.swatches[r]?.valores[1]!==t.palette.swatches[r]?.valores[1]||e.palette.swatches[r]?.valores[2]!==t.palette.swatches[r]?.valores[2])return!1;return!0}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Ce({token:o,factory:o.\u0275fac,providedIn:"root"})};function R(o,e){let t=o.length;Array.isArray(o[0])||(o=[o]),Array.isArray(e[0])||(e=e.map(a=>[a]));let n=e[0].length,r=e[0].map((a,l)=>e.map(s=>s[l])),i=o.map(a=>r.map(l=>{let s=0;if(!Array.isArray(a)){for(let c of l)s+=a*c;return s}for(let c=0;c<a.length;c++)s+=a[c]*(l[c]||0);return s}));return t===1&&(i=i[0]),n===1?i.map(a=>a[0]):i}function $t(o){return He(o)==="string"}function He(o){return(Object.prototype.toString.call(o).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function No(o,{precision:e,unit:t}){return $e(o)?"none":pi(o,e)+(t??"")}function $e(o){return Number.isNaN(o)||o instanceof Number&&o?.none}function q(o){return $e(o)?0:o}function pi(o,e){if(o===0)return 0;let t=~~o,n=0;t&&e&&(n=~~Math.log10(Math.abs(t))+1);let r=10**(e-n);return Math.floor(o*r+.5)/r}var ba={deg:1,grad:.9,rad:180/Math.PI,turn:360};function di(o){if(!o)return;o=o.trim();let e=/^([a-z]+)\((.+?)\)$/i,t=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,r=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,i=o.match(e);if(i){let a=[];return i[2].replace(r,(l,s)=>{let c=s.match(n),m=s;if(c){let u=c[0],h=m.slice(0,-u.length);u==="%"?(m=new Number(h/100),m.type="<percentage>"):(m=new Number(h*ba[u]),m.type="<angle>",m.unit=u)}else t.test(m)?(m=new Number(m),m.type="<number>"):m==="none"&&(m=new Number(NaN),m.none=!0);l.startsWith("/")&&(m=m instanceof Number?m:new Number(m),m.alpha=!0),typeof m=="object"&&m instanceof Number&&(m.raw=s),a.push(m)}),{name:i[1].toLowerCase(),rawName:i[1],rawArgs:i[2],args:a}}}function fi(o){return o[o.length-1]}function Rt(o,e,t){return isNaN(o)?e:isNaN(e)?o:o+(e-o)*t}function hi(o,e,t){return(t-o)/(e-o)}function Bn(o,e,t){return Rt(e[0],e[1],hi(o[0],o[1],t))}function gi(o){return o.map(e=>e.split("|").map(t=>{t=t.trim();let n=t.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let r=new String(n[1]);return r.range=[+n[2],+n[3]],r}return t}))}function bi(o,e,t){return Math.max(Math.min(t,e),o)}function Ao(o,e){return Math.sign(o)===Math.sign(e)?o:-o}function De(o,e){return Ao(Math.abs(o)**e,o)}function Nn(o,e){return e===0?0:o/e}function vi(o,e,t=0,n=o.length){for(;t<n;){let r=t+n>>1;o[r]<e?t=r+1:n=r}return t}var va=Object.freeze({__proto__:null,bisectLeft:vi,clamp:bi,copySign:Ao,interpolate:Rt,interpolateInv:hi,isNone:$e,isString:$t,last:fi,mapRange:Bn,multiplyMatrices:R,parseCoordGrammar:gi,parseFunction:di,serializeNumber:No,skipNone:q,spow:De,toPrecision:pi,type:He,zdiv:Nn}),_n=class{add(e,t,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(r){this[r]=this[r]||[],t&&this[r][n?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(n){n.call(t&&t.context?t.context:t,t)})}},Ge=new _n,pe={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}},re={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Sn(o){return Array.isArray(o)?o:re[o]}function Lo(o,e,t,n={}){if(o=Sn(o),e=Sn(e),!o||!e)throw new TypeError(`Missing white point to convert ${o?"":"from"}${!o&&!e?"/":""}${e?"":"to"}`);if(o===e)return t;let r={W1:o,W2:e,XYZ:t,options:n};if(Ge.run("chromatic-adaptation-start",r),r.M||(r.W1===re.D65&&r.W2===re.D50?r.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:r.W1===re.D50&&r.W2===re.D65&&(r.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Ge.run("chromatic-adaptation-end",r),r.M)return R(r.M,r.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var Ca=new Set(["<number>","<percentage>","<angle>"]);function hr(o,e,t,n){return Object.entries(o.coords).map(([i,a],l)=>{let s=e.coordGrammar[l],c=n[l],m=c?.type,u;if(c.none?u=s.find(v=>Ca.has(v)):u=s.find(v=>v==m),!u){let v=a.name||i;throw new TypeError(`${m??c.raw} not allowed for ${v} in ${t}()`)}let h=u.range;m==="<percentage>"&&(h||=[0,1]);let z=a.range||a.refRange;return h&&z&&(n[l]=Bn(h,z,n[l])),u})}function Ci(o,{meta:e}={}){let t={str:String(o)?.trim()};if(Ge.run("parse-start",t),t.color)return t.color;if(t.parsed=di(t.str),t.parsed){let n=t.parsed.name;if(n==="color"){let r=t.parsed.args.shift(),i=r.startsWith("--")?r.substring(2):`--${r}`,a=[r,i],l=t.parsed.rawArgs.indexOf("/")>0?t.parsed.args.pop():1;for(let m of x.all){let u=m.getFormat("color");if(u&&(a.includes(u.id)||u.ids?.filter(h=>a.includes(h)).length)){let h=Object.keys(m.coords).map((v,P)=>t.parsed.args[P]||0),z;return u.coordGrammar&&(z=hr(m,u,"color",h)),e&&Object.assign(e,{formatId:"color",types:z}),u.id.startsWith("--")&&!r.startsWith("--")&&pe.warn(`${m.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${u.id}) instead of color(${r}).`),r.startsWith("--")&&!u.id.startsWith("--")&&pe.warn(`${m.name} is a standard space and supported in the CSS spec. Use color(${u.id}) instead of prefixed color(${r}).`),{spaceId:m.id,coords:h,alpha:l}}}let s="",c=r in x.registry?r:i;if(c in x.registry){let m=x.registry[c].formats?.color?.id;m&&(s=`Did you mean color(${m})?`)}throw new TypeError(`Cannot parse color(${r}). `+(s||"Missing a plugin?"))}else for(let r of x.all){let i=r.getFormat(n);if(i&&i.type==="function"){let a=1;(i.lastAlpha||fi(t.parsed.args).alpha)&&(a=t.parsed.args.pop());let l=t.parsed.args,s;return i.coordGrammar&&(s=hr(r,i,n,l)),e&&Object.assign(e,{formatId:i.name,types:s}),{spaceId:r.id,coords:l,alpha:a}}}}else for(let n of x.all)for(let r in n.formats){let i=n.formats[r];if(i.type!=="custom"||i.test&&!i.test(t.str))continue;let a=i.parse(t.str);if(a)return a.alpha??=1,e&&(e.formatId=r),a}throw new TypeError(`Could not parse ${o} as a color. Missing a plugin?`)}function S(o){if(Array.isArray(o))return o.map(S);if(!o)throw new TypeError("Empty color reference");$t(o)&&(o=Ci(o));let e=o.space||o.spaceId;return e instanceof x||(o.space=x.get(e)),o.alpha===void 0&&(o.alpha=1),o}var wa=75e-6,x=(()=>{class o{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?o.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let n=t.coords??this.base.coords;for(let i in n)"name"in n[i]||(n[i].name=i);this.coords=n;let r=t.white??this.base.white??"D65";this.white=Sn(r),this.formats=t.formats??{};for(let i in this.formats){let a=this.formats[i];a.type||="function",a.name||=i}this.formats.color?.id||(this.formats.color=Zn(Qe({},this.formats.color??{}),{id:t.cssId||this.id})),t.gamutSpace?this.gamutSpace=t.gamutSpace==="self"?this:o.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(i,a)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:xa(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Ge.run("colorspace-init-end",this)}inGamut(t,{epsilon:n=wa}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:n});let r=Object.values(this.coords);return t.every((i,a)=>{let l=r[a];if(l.type!=="angle"&&l.range){if(Number.isNaN(i))return!0;let[s,c]=l.range;return(s===void 0||i>=s-n)&&(c===void 0||i<=c+n)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=gr(t,this),t;let n;return t==="default"?n=Object.values(this.formats)[0]:n=this.formats[t],n?(n=gr(n,this),n):null}equals(t){return t?this===t||this.id===t||this.id===t.id:!1}to(t,n){if(arguments.length===1){let s=S(t);[t,n]=[s.space,s.coords]}if(t=o.get(t),this.equals(t))return n;n=n.map(s=>Number.isNaN(s)?0:s);let r=this.path,i=t.path,a,l;for(let s=0;s<r.length&&r[s].equals(i[s]);s++)a=r[s],l=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let s=r.length-1;s>l;s--)n=r[s].toBase(n);for(let s=l+1;s<i.length;s++)n=i[s].fromBase(n);return n}from(t,n){if(arguments.length===1){let r=S(t);[t,n]=[r.space,r.coords]}return t=o.get(t),t.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let n in this.coords){let r=this.coords[n],i=r.range||r.refRange;t.push(i?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(o.registry))]}static register(t,n){if(arguments.length===1&&(n=arguments[0],t=n.id),n=this.get(n),this.registry[t]&&this.registry[t]!==n)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=n,arguments.length===1&&n.aliases)for(let r of n.aliases)this.register(r,n);return n}static get(t,...n){if(!t||t instanceof o)return t;if(He(t)==="string"){let i=o.registry[t.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${t}"`);return i}if(n.length)return o.get(...n);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,n){let r=He(t),i,a;if(r==="string"?t.includes(".")?[i,a]=t.split("."):[i,a]=[,t]:Array.isArray(t)?[i,a]=t:(i=t.space,a=t.coordId),i=o.get(i),i||(i=n),!i)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(r=He(a),r==="number"||r==="string"&&a>=0){let c=Object.entries(i.coords)[a];if(c)return Qe({space:i,id:c[0],index:a},c[1])}i=o.get(i);let l=a.toLowerCase(),s=0;for(let c in i.coords){let m=i.coords[c];if(c.toLowerCase()===l||m.name?.toLowerCase()===l)return Qe({space:i,id:c,index:s},m);s++}throw new TypeError(`No "${a}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}return o})();function xa(o){let e=[o];for(let t=o;t=t.base;)e.push(t);return e}function gr(o,{coords:e}={}){if(o.coords&&!o.coordGrammar){o.type||="function",o.name||="color",o.coordGrammar=gi(o.coords);let t=Object.entries(e).map(([n,r],i)=>{let a=o.coordGrammar[i][0],l=r.range||r.refRange,s=a.range,c="";return a=="<percentage>"?(s=[0,100],c="%"):a=="<angle>"&&(c="deg"),{fromRange:l,toRange:s,suffix:c}});o.serializeCoords=(n,r)=>n.map((i,a)=>{let{fromRange:l,toRange:s,suffix:c}=t[a];return l&&s&&(i=Bn(l,s,i)),i=No(i,{precision:r,unit:c}),i})}return o}var ee=new x({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),oe=class extends x{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=ee),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??=t=>{let n=R(e.toXYZ_M,t);return this.white!==this.base.white&&(n=Lo(this.white,this.base.white,n)),n},e.fromBase??=t=>(t=Lo(this.base.white,this.white,t),R(e.fromXYZ_M,t))),e.referred??="display",super(e)}};function Gt(o,e){return o=S(o),!e||o.space.equals(e)?o.coords.slice():(e=x.get(e),e.from(o))}function ue(o,e){o=S(o);let{space:t,index:n}=x.resolveCoord(e,o.space);return Gt(o,t)[n]}function Ln(o,e,t){return o=S(o),e=x.get(e),o.coords=e.to(o.space,t),o}Ln.returns="color";function Ve(o,e,t){if(o=S(o),arguments.length===2&&He(arguments[1])==="object"){let n=arguments[1];for(let r in n)Ve(o,r,n[r])}else{typeof t=="function"&&(t=t(ue(o,e)));let{space:n,index:r}=x.resolveCoord(e,o.space),i=Gt(o,n);i[r]=t,Ln(o,n,i)}return o}Ve.returns="color";var En=new x({id:"xyz-d50",name:"XYZ D50",white:"D50",base:ee,fromBase:o=>Lo(ee.white,"D50",o),toBase:o=>Lo("D50",ee.white,o)}),ya=216/24389,br=24/116,So=24389/27,hn=re.D50,me=new x({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:hn,base:En,fromBase(o){let t=o.map((n,r)=>n/hn[r]).map(n=>n>ya?Math.cbrt(n):(So*n+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(o){let e=[];return e[1]=(o[0]+16)/116,e[0]=o[1]/500+e[1],e[2]=e[1]-o[2]/200,[e[0]>br?Math.pow(e[0],3):(116*e[0]-16)/So,o[0]>8?Math.pow((o[0]+16)/116,3):o[0]/So,e[2]>br?Math.pow(e[2],3):(116*e[2]-16)/So].map((n,r)=>n*hn[r])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ke(o){return(o%360+360)%360}function za(o,e){if(o==="raw")return e;let[t,n]=e.map(ke),r=n-t;return o==="increasing"?r<0&&(n+=360):o==="decreasing"?r>0&&(t+=360):o==="longer"?-180<r&&r<180&&(r>0?t+=360:n+=360):o==="shorter"&&(r>180?t+=360:r<-180&&(n+=360)),[t,n]}var At=new x({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:me,fromBase(o){let[e,t,n]=o,r,i=.02;return Math.abs(t)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(r)]},toBase(o){let[e,t,n]=o;return t<0&&(t=0),isNaN(n)&&(n=0),[e,t*Math.cos(n*Math.PI/180),t*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),vr=25**7,Eo=Math.PI,Cr=180/Eo,ft=Eo/180;function wr(o){let e=o*o;return e*e*e*o}function wi(o,e,{kL:t=1,kC:n=1,kH:r=1}={}){[o,e]=S([o,e]);let[i,a,l]=me.from(o),s=At.from(me,[i,a,l])[1],[c,m,u]=me.from(e),h=At.from(me,[c,m,u])[1];s<0&&(s=0),h<0&&(h=0);let z=(s+h)/2,v=wr(z),P=.5*(1-Math.sqrt(v/(v+vr))),I=(1+P)*a,H=(1+P)*m,N=Math.sqrt(I**2+l**2),$=Math.sqrt(H**2+u**2),ae=I===0&&l===0?0:Math.atan2(l,I),Ie=H===0&&u===0?0:Math.atan2(u,H);ae<0&&(ae+=2*Eo),Ie<0&&(Ie+=2*Eo),ae*=Cr,Ie*=Cr;let qt=c-i,Xt=$-N,ve=Ie-ae,Tt=ae+Ie,Gn=Math.abs(ve),Vt;N*$===0?Vt=0:Gn<=180?Vt=ve:ve>180?Vt=ve-360:ve<-180?Vt=ve+360:pe.warn("the unthinkable has happened");let On=2*Math.sqrt($*N)*Math.sin(Vt*ft/2),ta=(i+c)/2,un=(N+$)/2,jn=wr(un),Pe;N*$===0?Pe=Tt:Gn<=180?Pe=Tt/2:Tt<360?Pe=(Tt+360)/2:Pe=(Tt-360)/2;let Yn=(ta-50)**2,oa=1+.015*Yn/Math.sqrt(20+Yn),qn=1+.045*un,It=1;It-=.17*Math.cos((Pe-30)*ft),It+=.24*Math.cos(2*Pe*ft),It+=.32*Math.cos((3*Pe+6)*ft),It-=.2*Math.cos((4*Pe-63)*ft);let Xn=1+.015*un*It,na=30*Math.exp(-1*((Pe-275)/25)**2),ra=2*Math.sqrt(jn/(jn+vr)),ia=-1*Math.sin(2*na*ft)*ra,Zt=(qt/(t*oa))**2;return Zt+=(Xt/(n*qn))**2,Zt+=(On/(r*Xn))**2,Zt+=ia*(Xt/(n*qn))*(On/(r*Xn)),Math.sqrt(Zt)}var Ma=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],_a=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Sa=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Da=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],vt=new x({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:ee,fromBase(o){let t=R(Ma,o).map(n=>Math.cbrt(n));return R(Sa,t)},toBase(o){let t=R(Da,o).map(n=>n**3);return R(_a,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Dn(o,e){[o,e]=S([o,e]);let[t,n,r]=vt.from(o),[i,a,l]=vt.from(e),s=t-i,c=n-a,m=r-l;return Math.sqrt(s**2+c**2+m**2)}var ka=75e-6;function We(o,e,{epsilon:t=ka}={}){o=S(o),e||(e=o.space),e=x.get(e);let n=o.coords;return e!==o.space&&(n=e.from(o)),e.inGamut(n,{epsilon:t})}function Ct(o){return{space:o.space,coords:o.coords.slice(),alpha:o.alpha}}function xi(o,e,t="lab"){t=x.get(t);let n=t.from(o),r=t.from(e);return Math.sqrt(n.reduce((i,a,l)=>{let s=r[l];return isNaN(a)||isNaN(s)?i:i+(s-a)**2},0))}function Pa(o,e){return xi(o,e,"lab")}var Ta=Math.PI,xr=Ta/180;function Va(o,e,{l:t=2,c:n=1}={}){[o,e]=S([o,e]);let[r,i,a]=me.from(o),[,l,s]=At.from(me,[r,i,a]),[c,m,u]=me.from(e),h=At.from(me,[c,m,u])[1];l<0&&(l=0),h<0&&(h=0);let z=r-c,v=l-h,P=i-m,I=a-u,H=P**2+I**2-v**2,N=.511;r>=16&&(N=.040975*r/(1+.01765*r));let $=.0638*l/(1+.0131*l)+.638,ae;Number.isNaN(s)&&(s=0),s>=164&&s<=345?ae=.56+Math.abs(.2*Math.cos((s+168)*xr)):ae=.36+Math.abs(.4*Math.cos((s+35)*xr));let Ie=Math.pow(l,4),qt=Math.sqrt(Ie/(Ie+1900)),Xt=$*(qt*ae+1-qt),ve=(z/(t*N))**2;return ve+=(v/(n*$))**2,ve+=H/Xt**2,Math.sqrt(ve)}var yr=203,Rn=new x({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:ee,fromBase(o){return o.map(e=>Math.max(e*yr,0))},toBase(o){return o.map(e=>Math.max(e/yr,0))}}),Do=1.15,ko=.66,zr=2610/2**14,Ia=2**14/2610,Mr=3424/2**12,_r=2413/2**7,Sr=2392/2**7,Fa=1.7*2523/2**5,Dr=2**5/(1.7*2523),Po=-.56,gn=16295499532821565e-27,Ba=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Na=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],La=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Ea=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],yi=new x({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Rn,fromBase(o){let[e,t,n]=o,r=Do*e-(Do-1)*n,i=ko*t-(ko-1)*e,l=R(Ba,[r,i,n]).map(function(h){let z=Mr+_r*(h/1e4)**zr,v=1+Sr*(h/1e4)**zr;return(z/v)**Fa}),[s,c,m]=R(La,l);return[(1+Po)*s/(1+Po*s)-gn,c,m]},toBase(o){let[e,t,n]=o,r=(e+gn)/(1+Po-Po*(e+gn)),a=R(Ea,[r,t,n]).map(function(h){let z=Mr-h**Dr,v=Sr*h**Dr-_r;return 1e4*(z/v)**Ia}),[l,s,c]=R(Na,a),m=(l+(Do-1)*c)/Do,u=(s+(ko-1)*m)/ko;return[m,u,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),kn=new x({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:yi,fromBase(o){let[e,t,n]=o,r,i=2e-4;return Math.abs(t)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(r)]},toBase(o){return[o[0],o[1]*Math.cos(o[2]*Math.PI/180),o[1]*Math.sin(o[2]*Math.PI/180)]}});function Ra(o,e){[o,e]=S([o,e]);let[t,n,r]=kn.from(o),[i,a,l]=kn.from(e),s=t-i,c=n-a;Number.isNaN(r)&&Number.isNaN(l)?(r=0,l=0):Number.isNaN(r)?r=l:Number.isNaN(l)&&(l=r);let m=r-l,u=2*Math.sqrt(n*a)*Math.sin(m/2*(Math.PI/180));return Math.sqrt(s**2+c**2+u**2)}var zi=3424/4096,Mi=2413/128,_i=2392/128,kr=2610/16384,Aa=2523/32,Ha=16384/2610,Pr=32/2523,$a=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Ga=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Oa=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],ja=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Pn=new x({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Rn,fromBase(o){let e=R($a,o);return Ya(e)},toBase(o){let e=qa(o);return R(ja,e)}});function Ya(o){let e=o.map(function(t){let n=zi+Mi*(t/1e4)**kr,r=1+_i*(t/1e4)**kr;return(n/r)**Aa});return R(Ga,e)}function qa(o){return R(Oa,o).map(function(n){let r=Math.max(n**Pr-zi,0),i=Mi-_i*n**Pr;return 1e4*(r/i)**Ha})}function Xa(o,e){[o,e]=S([o,e]);let[t,n,r]=Pn.from(o),[i,a,l]=Pn.from(e);return 720*Math.sqrt((t-i)**2+.25*(n-a)**2+(r-l)**2)}var Za=re.D65,Si=.42,Tr=1/Si,bn=2*Math.PI,Di=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],Ja=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Wa=[[460,451,288],[460,-891,-261],[460,-220,-6300]],Ka={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Je={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Qa=180/Math.PI,Vr=Math.PI/180;function ki(o,e){return o.map(n=>{let r=De(e*Math.abs(n)*.01,Si);return 400*Ao(r,n)/(r+27.13)})}function Ua(o,e){let t=100/e*27.13**Tr;return o.map(n=>{let r=Math.abs(n);return Ao(t*De(r/(400-r),Tr),n)})}function es(o){let e=ke(o);e<=Je.h[0]&&(e+=360);let t=vi(Je.h,e)-1,[n,r]=Je.h.slice(t,t+2),[i,a]=Je.e.slice(t,t+2),l=Je.H[t],s=(e-n)/i;return l+100*s/(s+(r-e)/a)}function ts(o){let e=(o%400+400)%400,t=Math.floor(.01*e);e=e%100;let[n,r]=Je.h.slice(t,t+2),[i,a]=Je.e.slice(t,t+2);return ke((e*(a*n-i*r)-100*n*a)/(e*(a-i)-100*a))}function Pi(o,e,t,n,r){let i={};i.discounting=r,i.refWhite=o,i.surround=n;let a=o.map(P=>P*100);i.la=e,i.yb=t;let l=a[1],s=R(Di,a);n=Ka[i.surround];let c=n[0];i.c=n[1],i.nc=n[2];let u=(1/(5*i.la+1))**4;i.fl=u*i.la+.1*(1-u)*(1-u)*Math.cbrt(5*i.la),i.flRoot=i.fl**.25,i.n=i.yb/l,i.z=1.48+Math.sqrt(i.n),i.nbb=.725*i.n**-.2,i.ncb=i.nbb;let h=r?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-i.la-42)/92)),1),0);i.dRgb=s.map(P=>Rt(1,l/P,h)),i.dRgbInv=i.dRgb.map(P=>1/P);let z=s.map((P,I)=>P*i.dRgb[I]),v=ki(z,i.fl);return i.aW=i.nbb*(2*v[0]+v[1]+.05*v[2]),i}var Ir=Pi(Za,64/Math.PI*.2,20,"average",!1);function Tn(o,e){if(!(o.J!==void 0^o.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(o.C!==void 0^o.M!==void 0^o.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(o.h!==void 0^o.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(o.J===0||o.Q===0)return[0,0,0];let t=0;o.h!==void 0?t=ke(o.h)*Vr:t=ts(o.H)*Vr;let n=Math.cos(t),r=Math.sin(t),i=0;o.J!==void 0?i=De(o.J,1/2)*.1:o.Q!==void 0&&(i=.25*e.c*o.Q/((e.aW+4)*e.flRoot));let a=0;o.C!==void 0?a=o.C/i:o.M!==void 0?a=o.M/e.flRoot/i:o.s!==void 0&&(a=4e-4*o.s**2*(e.aW+4)/e.c);let l=De(a*Math.pow(1.64-Math.pow(.29,e.n),-.73),10/9),s=.25*(Math.cos(t+2)+3.8),c=e.aW*De(i,2/e.c/e.z),m=5e4/13*e.nc*e.ncb*s,u=c/e.nbb,h=23*(u+.305)*Nn(l,23*m+l*(11*n+108*r)),z=h*n,v=h*r,P=Ua(R(Wa,[u,z,v]).map(I=>I*1/1403),e.fl);return R(Ja,P.map((I,H)=>I*e.dRgbInv[H])).map(I=>I/100)}function Ti(o,e){let t=o.map($=>$*100),n=ki(R(Di,t).map(($,ae)=>$*e.dRgb[ae]),e.fl),r=n[0]+(-12*n[1]+n[2])/11,i=(n[0]+n[1]-2*n[2])/9,a=(Math.atan2(i,r)%bn+bn)%bn,l=.25*(Math.cos(a+2)+3.8),s=5e4/13*e.nc*e.ncb*Nn(l*Math.sqrt(r**2+i**2),n[0]+n[1]+1.05*n[2]+.305),c=De(s,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),m=e.nbb*(2*n[0]+n[1]+.05*n[2]),u=De(m/e.aW,.5*e.c*e.z),h=100*De(u,2),z=4/e.c*u*(e.aW+4)*e.flRoot,v=c*u,P=v*e.flRoot,I=ke(a*Qa),H=es(I),N=50*De(e.c*c/(e.aW+4),1/2);return{J:h,C:v,h:I,s:N,Q:z,M:P,H}}var os=new x({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:ee,fromBase(o){let e=Ti(o,Ir);return[e.J,e.M,e.h]},toBase(o){return Tn({J:o[0],M:o[1],h:o[2]},Ir)}}),ns=re.D65,rs=216/24389,Vi=24389/27;function is(o){return 116*(o>rs?Math.cbrt(o):(Vi*o+16)/116)-16}function Vn(o){return o>8?Math.pow((o+16)/116,3):o/Vi}function as(o,e){let[t,n,r]=o,i=[],a=0;if(r===0)return[0,0,0];let l=Vn(r);r>0?a=.00379058511492914*r**2+.608983189401032*r+.9155088574762233:a=9514440756550361e-21*r**2+.08693057439788597*r-21.928975842194614;let s=2e-12,c=15,m=0,u=1/0;for(;m<=c;){i=Tn({J:a,C:n,h:t},e);let h=Math.abs(i[1]-l);if(h<u){if(h<=s)return i;u=h}a=a-(i[1]-l)*a/(2*i[1]),m+=1}return Tn({J:a,C:n,h:t},e)}function ss(o,e){let t=is(o[1]);if(t===0)return[0,0,0];let n=Ti(o,An);return[ke(n.h),n.C,t]}var An=Pi(ns,200/Math.PI*Vn(50),Vn(50)*100,"average",!1),Ht=new x({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:ee,fromBase(o){return ss(o)},toBase(o){return as(o,An)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),ls=Math.PI/180,Fr=[1,.007,.0228];function Br(o){o[1]<0&&(o=Ht.fromBase(Ht.toBase(o)));let e=Math.log(Math.max(1+Fr[2]*o[1]*An.flRoot,1))/Fr[2],t=o[0]*ls,n=e*Math.cos(t),r=e*Math.sin(t);return[o[2],n,r]}function cs(o,e){[o,e]=S([o,e]);let[t,n,r]=Br(Ht.from(o)),[i,a,l]=Br(Ht.from(e));return Math.sqrt((t-i)**2+(n-a)**2+(r-l)**2)}var wt={deltaE76:Pa,deltaECMC:Va,deltaE2000:wi,deltaEJz:Ra,deltaEITP:Xa,deltaEOK:Dn,deltaEHCT:cs};function us(o){let e=o?Math.floor(Math.log10(Math.abs(o))):0;return Math.max(parseFloat(`1e${e-2}`),1e-6)}var Nr={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Oe(o,{method:e=pe.gamut_mapping,space:t=void 0,deltaEMethod:n="",jnd:r=2,blackWhiteClamp:i={}}={}){if(o=S(o),$t(arguments[1])?t=arguments[1]:t||(t=o.space),t=x.get(t),We(o,t,{epsilon:0}))return o;let a;if(e==="css")a=ms(o,{space:t});else{if(e!=="clip"&&!We(o,t)){Object.prototype.hasOwnProperty.call(Nr,e)&&({method:e,jnd:r,deltaEMethod:n,blackWhiteClamp:i}=Nr[e]);let l=wi;if(n!==""){for(let c in wt)if("deltae"+n.toLowerCase()===c.toLowerCase()){l=wt[c];break}}let s=Oe(E(o,t),{method:"clip",space:t});if(l(o,s)>r){if(Object.keys(i).length===3){let N=x.resolveCoord(i.channel),$=ue(E(o,N.space),N.id);if($e($)&&($=0),$>=i.max)return E({space:"xyz-d65",coords:re.D65},o.space);if($<=i.min)return E({space:"xyz-d65",coords:[0,0,0]},o.space)}let c=x.resolveCoord(e),m=c.space,u=c.id,h=E(o,m);h.coords.forEach((N,$)=>{$e(N)&&(h.coords[$]=0)});let v=(c.range||c.refRange)[0],P=us(r),I=v,H=ue(h,u);for(;H-I>P;){let N=Ct(h);N=Oe(N,{space:t,method:"clip"}),l(h,N)-r<P?I=ue(h,u):H=ue(h,u),Ve(h,u,(I+H)/2)}a=E(h,t)}else a=s}else a=E(o,t);if(e==="clip"||!We(a,t,{epsilon:0})){let l=Object.values(t.coords).map(s=>s.range||[]);a.coords=a.coords.map((s,c)=>{let[m,u]=l[c];return m!==void 0&&(s=Math.max(m,s)),u!==void 0&&(s=Math.min(s,u)),s})}}return t!==o.space&&(a=E(a,o.space)),o.coords=a.coords,o}Oe.returns="color";var Lr={WHITE:{space:vt,coords:[1,0,0]},BLACK:{space:vt,coords:[0,0,0]}};function ms(o,{space:e}={}){o=S(o),e||(e=o.space),e=x.get(e);let r=x.get("oklch");if(e.isUnbounded)return E(o,e);let i=E(o,r),a=i.coords[0];if(a>=1){let v=E(Lr.WHITE,e);return v.alpha=o.alpha,E(v,e)}if(a<=0){let v=E(Lr.BLACK,e);return v.alpha=o.alpha,E(v,e)}if(We(i,e,{epsilon:0}))return E(i,e);function l(v){let P=E(v,e),I=Object.values(e.coords);return P.coords=P.coords.map((H,N)=>{if("range"in I[N]){let[$,ae]=I[N].range;return bi($,H,ae)}return H}),P}let s=0,c=i.coords[1],m=!0,u=Ct(i),h=l(u),z=Dn(h,u);if(z<.02)return h;for(;c-s>1e-4;){let v=(s+c)/2;if(u.coords[1]=v,m&&We(u,e,{epsilon:0}))s=v;else if(h=l(u),z=Dn(h,u),z<.02){if(.02-z<1e-4)break;m=!1,s=v}else c=v}return h}function E(o,e,{inGamut:t}={}){o=S(o),e=x.get(e);let n=e.from(o),r={space:e,coords:n,alpha:o.alpha};return t&&(r=Oe(r,t===!0?void 0:t)),r}E.returns="color";function Et(o,i={}){var a=i,{precision:e=pe.precision,format:t="default",inGamut:n=!0}=a,r=Ue(a,["precision","format","inGamut"]);let l;o=S(o);let s=t;t=o.space.getFormat(t)??o.space.getFormat("default")??x.DEFAULT_FORMAT;let c=o.coords.slice();if(n||=t.toGamut,n&&!We(o)&&(c=Oe(Ct(o),n===!0?void 0:n).coords),t.type==="custom")if(r.precision=e,t.serialize)l=t.serialize(c,o.alpha,r);else throw new TypeError(`format ${s} can only be used to parse colors, not for serialization`);else{let m=t.name||"color";t.serializeCoords?c=t.serializeCoords(c,e):e!==null&&(c=c.map(v=>No(v,{precision:e})));let u=[...c];if(m==="color"){let v=t.id||t.ids?.[0]||o.space.id;u.unshift(v)}let h=o.alpha;e!==null&&(h=No(h,{precision:e}));let z=o.alpha>=1||t.noAlpha?"":`${t.commas?",":" /"} ${h}`;l=`${m}(${u.join(t.commas?", ":" ")}${z})`}return l}var ps=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],ds=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],Ho=new oe({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:ps,fromXYZ_M:ds}),To=1.09929682680944,Er=.018053968510807,Ii=new oe({id:"rec2020",name:"REC.2020",base:Ho,toBase(o){return o.map(function(e){return e<Er*4.5?e/4.5:Math.pow((e+To-1)/To,1/.45)})},fromBase(o){return o.map(function(e){return e>=Er?To*Math.pow(e,.45)-(To-1):4.5*e})}}),fs=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],hs=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],Fi=new oe({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:fs,fromXYZ_M:hs}),gs=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],X=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],Bi=new oe({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:gs,fromXYZ_M:X}),Rr={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},Ar=Array(3).fill("<percentage> | <number>[0, 255]"),Hr=Array(3).fill("<number>[0, 255]"),xt=new oe({id:"srgb",name:"sRGB",base:Bi,fromBase:o=>o.map(e=>{let t=e<0?-1:1,n=e*t;return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:o=>o.map(e=>{let t=e<0?-1:1,n=e*t;return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:Ar},rgb_number:{name:"rgb",commas:!0,coords:Hr,noAlpha:!0},color:{},rgba:{coords:Ar,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Hr},hex:{type:"custom",toGamut:!0,test:o=>/^#([a-f0-9]{3,4}){1,2}$/i.test(o),parse(o){o.length<=5&&(o=o.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return o.replace(/[a-f0-9]{2}/gi,t=>{e.push(parseInt(t,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(o,e,{collapse:t=!0}={})=>{e<1&&o.push(e),o=o.map(i=>Math.round(i*255));let n=t&&o.every(i=>i%17===0);return"#"+o.map(i=>n?(i/17).toString(16):i.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:o=>/^[a-z]+$/i.test(o),parse(o){o=o.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(o==="transparent"?(e.coords=Rr.black,e.alpha=0):e.coords=Rr[o],e.coords)return e}}}}),Ni=new oe({id:"p3",cssId:"display-p3",name:"P3",base:Fi,fromBase:xt.fromBase,toBase:xt.toBase});pe.display_space=xt;var bs;if(typeof CSS<"u"&&CSS.supports)for(let o of[me,Ii,Ni]){let e=o.getMinCoords(),n=Et({space:o,coords:e,alpha:1});if(CSS.supports("color",n)){pe.display_space=o;break}}function vs(o,n={}){var r=n,{space:e=pe.display_space}=r,t=Ue(r,["space"]);let i=Et(o,t);if(typeof CSS>"u"||CSS.supports("color",i)||!pe.display_space)i=new String(i),i.color=o;else{let a=o;if((o.coords.some($e)||$e(o.alpha))&&!(bs??=CSS.supports("color","hsl(none 50% 50%)"))&&(a=Ct(o),a.coords=a.coords.map(q),a.alpha=q(a.alpha),i=Et(a,t),CSS.supports("color",i)))return i=new String(i),i.color=a,i;a=E(a,e),i=new String(Et(a,t)),i.color=a}return i}function Cs(o,e){return o=S(o),e=S(e),o.space===e.space&&o.alpha===e.alpha&&o.coords.every((t,n)=>t===e.coords[n])}function je(o){return ue(o,[ee,"y"])}function Li(o,e){Ve(o,[ee,"y"],e)}function ws(o){Object.defineProperty(o.prototype,"luminance",{get(){return je(this)},set(e){Li(this,e)}})}var xs=Object.freeze({__proto__:null,getLuminance:je,register:ws,setLuminance:Li});function ys(o,e){o=S(o),e=S(e);let t=Math.max(je(o),0),n=Math.max(je(e),0);return n>t&&([t,n]=[n,t]),(t+.05)/(n+.05)}var zs=.56,Ms=.57,_s=.62,Ss=.65,$r=.022,Ds=1.414,ks=.1,Ps=5e-4,Ts=1.14,Gr=.027,Vs=1.14;function Or(o){return o>=$r?o:o+($r-o)**Ds}function ht(o){let e=o<0?-1:1,t=Math.abs(o);return e*Math.pow(t,2.4)}function Is(o,e){e=S(e),o=S(o);let t,n,r,i,a,l;e=E(e,"srgb"),[i,a,l]=e.coords;let s=ht(i)*.2126729+ht(a)*.7151522+ht(l)*.072175;o=E(o,"srgb"),[i,a,l]=o.coords;let c=ht(i)*.2126729+ht(a)*.7151522+ht(l)*.072175,m=Or(s),u=Or(c),h=u>m;return Math.abs(u-m)<Ps?n=0:h?(t=u**zs-m**Ms,n=t*Ts):(t=u**Ss-m**_s,n=t*Vs),Math.abs(n)<ks?r=0:n>0?r=n-Gr:r=n+Gr,r*100}function Fs(o,e){o=S(o),e=S(e);let t=Math.max(je(o),0),n=Math.max(je(e),0);n>t&&([t,n]=[n,t]);let r=t+n;return r===0?0:(t-n)/r}var Bs=5e4;function Ns(o,e){o=S(o),e=S(e);let t=Math.max(je(o),0),n=Math.max(je(e),0);return n>t&&([t,n]=[n,t]),n===0?Bs:(t-n)/n}function Ls(o,e){o=S(o),e=S(e);let t=ue(o,[me,"l"]),n=ue(e,[me,"l"]);return Math.abs(t-n)}var Es=216/24389,jr=24/116,Vo=24389/27,vn=re.D65,In=new x({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:vn,base:ee,fromBase(o){let t=o.map((n,r)=>n/vn[r]).map(n=>n>Es?Math.cbrt(n):(Vo*n+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(o){let e=[];return e[1]=(o[0]+16)/116,e[0]=o[1]/500+e[1],e[2]=e[1]-o[2]/200,[e[0]>jr?Math.pow(e[0],3):(116*e[0]-16)/Vo,o[0]>8?Math.pow((o[0]+16)/116,3):o[0]/Vo,e[2]>jr?Math.pow(e[2],3):(116*e[2]-16)/Vo].map((n,r)=>n*vn[r])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Cn=Math.pow(5,.5)*.5+.5;function Rs(o,e){o=S(o),e=S(e);let t=ue(o,[In,"l"]),n=ue(e,[In,"l"]),r=Math.abs(Math.pow(t,Cn)-Math.pow(n,Cn)),i=Math.pow(r,1/Cn)*Math.SQRT2-40;return i<7.5?0:i}var Bo=Object.freeze({__proto__:null,contrastAPCA:Is,contrastDeltaPhi:Rs,contrastLstar:Ls,contrastMichelson:Fs,contrastWCAG21:ys,contrastWeber:Ns});function As(o,e,t={}){$t(t)&&(t={algorithm:t});let i=t,{algorithm:n}=i,r=Ue(i,["algorithm"]);if(!n){let a=Object.keys(Bo).map(l=>l.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}o=S(o),e=S(e);for(let a in Bo)if("contrast"+n.toLowerCase()===a.toLowerCase())return Bo[a](o,e,r);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function $o(o){let[e,t,n]=Gt(o,ee),r=e+15*t+3*n;return[4*e/r,9*t/r]}function Ei(o){let[e,t,n]=Gt(o,ee),r=e+t+n;return[e/r,t/r]}function Hs(o){Object.defineProperty(o.prototype,"uv",{get(){return $o(this)}}),Object.defineProperty(o.prototype,"xy",{get(){return Ei(this)}})}var $s=Object.freeze({__proto__:null,register:Hs,uv:$o,xy:Ei});function Lt(o,e,t={}){$t(t)&&(t={method:t});let i=t,{method:n=pe.deltaE}=i,r=Ue(i,["method"]);for(let a in wt)if("deltae"+n.toLowerCase()===a.toLowerCase())return wt[a](o,e,r);throw new TypeError(`Unknown deltaE method: ${n}`)}function Gs(o,e=.25){let n=[x.get("oklch","lch"),"l"];return Ve(o,n,r=>r*(1+e))}function Os(o,e=.25){let n=[x.get("oklch","lch"),"l"];return Ve(o,n,r=>r*(1-e))}var js=Object.freeze({__proto__:null,darken:Os,lighten:Gs});function Ri(o,e,t=.5,n={}){return[o,e]=[S(o),S(e)],He(t)==="object"&&([t,n]=[.5,t]),Ot(o,e,n)(t)}function Ai(o,e,t={}){let n;Hn(o)&&([n,t]=[o,e],[o,e]=n.rangeArgs.colors);let h=t,{maxDeltaE:r,deltaEMethod:i,steps:a=2,maxSteps:l=1e3}=h,s=Ue(h,["maxDeltaE","deltaEMethod","steps","maxSteps"]);n||([o,e]=[S(o),S(e)],n=Ot(o,e,s));let c=Lt(o,e),m=r>0?Math.max(a,Math.ceil(c/r)+1):a,u=[];if(l!==void 0&&(m=Math.min(m,l)),m===1)u=[{p:.5,color:n(.5)}];else{let z=1/(m-1);u=Array.from({length:m},(v,P)=>{let I=P*z;return{p:I,color:n(I)}})}if(r>0){let z=u.reduce((v,P,I)=>{if(I===0)return 0;let H=Lt(P.color,u[I-1].color,i);return Math.max(v,H)},0);for(;z>r;){z=0;for(let v=1;v<u.length&&u.length<l;v++){let P=u[v-1],I=u[v],H=(I.p+P.p)/2,N=n(H);z=Math.max(z,Lt(N,P.color),Lt(N,I.color)),u.splice(v,0,{p:H,color:n(H)}),v++}}}return u=u.map(z=>z.color),u}function Ot(o,e,t={}){if(Hn(o)){let[s,c]=[o,e];return Ot(...s.rangeArgs.colors,Qe(Qe({},s.rangeArgs.options),c))}let{space:n,outputSpace:r,progression:i,premultiplied:a}=t;o=S(o),e=S(e),o=Ct(o),e=Ct(e);let l={colors:[o,e],options:t};if(n?n=x.get(n):n=x.registry[pe.interpolationSpace]||o.space,r=r?x.get(r):n,o=E(o,n),e=E(e,n),o=Oe(o),e=Oe(e),n.coords.h&&n.coords.h.type==="angle"){let s=t.hue=t.hue||"shorter",c=[n,"h"],[m,u]=[ue(o,c),ue(e,c)];isNaN(m)&&!isNaN(u)?m=u:isNaN(u)&&!isNaN(m)&&(u=m),[m,u]=za(s,[m,u]),Ve(o,c,m),Ve(e,c,u)}return a&&(o.coords=o.coords.map(s=>s*o.alpha),e.coords=e.coords.map(s=>s*e.alpha)),Object.assign(s=>{s=i?i(s):s;let c=o.coords.map((h,z)=>{let v=e.coords[z];return Rt(h,v,s)}),m=Rt(o.alpha,e.alpha,s),u={space:n,coords:c,alpha:m};return a&&(u.coords=u.coords.map(h=>h/m)),r!==n&&(u=E(u,r)),u},{rangeArgs:l})}function Hn(o){return He(o)==="function"&&!!o.rangeArgs}pe.interpolationSpace="lab";function Ys(o){o.defineFunction("mix",Ri,{returns:"color"}),o.defineFunction("range",Ot,{returns:"function<color>"}),o.defineFunction("steps",Ai,{returns:"array<color>"})}var qs=Object.freeze({__proto__:null,isRange:Hn,mix:Ri,range:Ot,register:Ys,steps:Ai}),Hi=new x({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:xt,fromBase:o=>{let e=Math.max(...o),t=Math.min(...o),[n,r,i]=o,[a,l,s]=[NaN,0,(t+e)/2],c=e-t;if(c!==0){switch(l=s===0||s===1?0:(e-s)/Math.min(s,1-s),e){case n:a=(r-i)/c+(r<i?6:0);break;case r:a=(i-n)/c+2;break;case i:a=(n-r)/c+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,s*100]},toBase:o=>{let[e,t,n]=o;e=e%360,e<0&&(e+=360),t/=100,n/=100;function r(i){let a=(i+e/30)%12,l=t*Math.min(n,1-n);return n-l*Math.max(-1,Math.min(a-3,9-a,1))}return[r(0),r(8),r(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),$i=new x({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Hi,fromBase(o){let[e,t,n]=o;t/=100,n/=100;let r=n+t*Math.min(n,1-n);return[e,r===0?0:200*(1-n/r),100*r]},toBase(o){let[e,t,n]=o;t/=100,n/=100;let r=n*(1-t/2);return[e,r===0||r===1?0:(n-r)/Math.min(r,1-r)*100,r*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Xs=new x({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:$i,fromBase(o){let[e,t,n]=o;return[e,n*(100-t)/100,100-n]},toBase(o){let[e,t,n]=o;t/=100,n/=100;let r=t+n;if(r>=1){let l=t/r;return[e,0,l*100]}let i=1-n,a=i===0?0:1-t/i;return[e,a*100,i*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Zs=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],Js=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],Gi=new oe({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:Zs,fromXYZ_M:Js}),Ws=new oe({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:Gi,toBase:o=>o.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:o=>o.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),Ks=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],Qs=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],Oi=new oe({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:En,toXYZ_M:Ks,fromXYZ_M:Qs}),Us=1/512,el=16/512,tl=new oe({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:Oi,toBase(o){return o.map(e=>e<el?e/16:e**1.8)},fromBase(o){return o.map(e=>e>=Us?e**(1/1.8):16*e)}}),ol=new x({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:vt,fromBase(o){let[e,t,n]=o,r,i=2e-4;return Math.abs(t)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(r)]},toBase(o){let[e,t,n]=o,r,i;return isNaN(n)?(r=0,i=0):(r=t*Math.cos(n*Math.PI/180),i=t*Math.sin(n*Math.PI/180)),[e,r,i]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),ji=re.D65,nl=216/24389,Yr=24389/27,[qr,Xr]=$o({space:ee,coords:ji}),Yi=new x({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:ji,base:ee,fromBase(o){let e=[q(o[0]),q(o[1]),q(o[2])],t=e[1],[n,r]=$o({space:ee,coords:e});if(!Number.isFinite(n)||!Number.isFinite(r))return[0,0,0];let i=t<=nl?Yr*t:116*Math.cbrt(t)-16;return[i,13*i*(n-qr),13*i*(r-Xr)]},toBase(o){let[e,t,n]=o;if(e===0||$e(e))return[0,0,0];t=q(t),n=q(n);let r=t/(13*e)+qr,i=n/(13*e)+Xr,a=e<=8?e/Yr:Math.pow((e+16)/116,3);return[a*(9*r/(4*i)),a,a*((12-3*r-20*i)/(4*i))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),$n=new x({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Yi,fromBase(o){let[e,t,n]=o,r,i=.02;return Math.abs(t)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(r)]},toBase(o){let[e,t,n]=o;return t<0&&(t=0),isNaN(n)&&(n=0),[e,t*Math.cos(n*Math.PI/180),t*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),rl=216/24389,il=24389/27,Zr=X[0][0],Jr=X[0][1],wn=X[0][2],Wr=X[1][0],Kr=X[1][1],xn=X[1][2],Qr=X[2][0],Ur=X[2][1],yn=X[2][2];function gt(o,e,t){let n=e/(Math.sin(t)-o*Math.cos(t));return n<0?1/0:n}function Ro(o){let e=Math.pow(o+16,3)/1560896,t=e>rl?e:o/il,n=t*(284517*Zr-94839*wn),r=t*(838422*wn+769860*Jr+731718*Zr),i=t*(632260*wn-126452*Jr),a=t*(284517*Wr-94839*xn),l=t*(838422*xn+769860*Kr+731718*Wr),s=t*(632260*xn-126452*Kr),c=t*(284517*Qr-94839*yn),m=t*(838422*yn+769860*Ur+731718*Qr),u=t*(632260*yn-126452*Ur);return{r0s:n/i,r0i:r*o/i,r1s:n/(i+126452),r1i:(r-769860)*o/(i+126452),g0s:a/s,g0i:l*o/s,g1s:a/(s+126452),g1i:(l-769860)*o/(s+126452),b0s:c/u,b0i:m*o/u,b1s:c/(u+126452),b1i:(m-769860)*o/(u+126452)}}function ei(o,e){let t=e/360*Math.PI*2,n=gt(o.r0s,o.r0i,t),r=gt(o.r1s,o.r1i,t),i=gt(o.g0s,o.g0i,t),a=gt(o.g1s,o.g1i,t),l=gt(o.b0s,o.b0i,t),s=gt(o.b1s,o.b1i,t);return Math.min(n,r,i,a,l,s)}var al=new x({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:$n,gamutSpace:xt,fromBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],r;if(e>99.9999999)r=0,e=100;else if(e<1e-8)r=0,e=0;else{let i=Ro(e),a=ei(i,n);r=t/a*100}return[n,r,e]},toBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let i=Ro(n);r=ei(i,e)/100*t}return[n,r,e]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});X[0][0];X[0][1];X[0][2];X[1][0];X[1][1];X[1][2];X[2][0];X[2][1];X[2][2];function bt(o,e){return Math.abs(e)/Math.sqrt(Math.pow(o,2)+1)}function ti(o){let e=bt(o.r0s,o.r0i),t=bt(o.r1s,o.r1i),n=bt(o.g0s,o.g0i),r=bt(o.g1s,o.g1i),i=bt(o.b0s,o.b0i),a=bt(o.b1s,o.b1i);return Math.min(e,t,n,r,i,a)}var sl=new x({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:$n,gamutSpace:"self",fromBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],r;if(e>99.9999999)r=0,e=100;else if(e<1e-8)r=0,e=0;else{let i=Ro(e),a=ti(i);r=t/a*100}return[n,r,e]},toBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let i=Ro(n);r=ti(i)/100*t}return[n,r,e]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),oi=203,ni=2610/2**14,ll=2**14/2610,cl=2523/2**5,ri=2**5/2523,ii=3424/2**12,ai=2413/2**7,si=2392/2**7,ul=new oe({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:Ho,toBase(o){return o.map(function(e){return(Math.max(e**ri-ii,0)/(ai-si*e**ri))**ll*1e4/oi})},fromBase(o){return o.map(function(e){let t=Math.max(e*oi/1e4,0),n=ii+ai*t**ni,r=1+si*t**ni;return(n/r)**cl})}}),li=.17883277,ci=.28466892,ui=.55991073,zn=3.7743,ml=new oe({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Ho,toBase(o){return o.map(function(e){return e<=.5?e**2/3*zn:(Math.exp((e-ui)/li)+ci)/12*zn})},fromBase(o){return o.map(function(e){return e/=zn,e<=1/12?Math.sqrt(3*e):li*Math.log(12*e-ci)+ui})}}),qi={};Ge.add("chromatic-adaptation-start",o=>{o.options.method&&(o.M=Xi(o.W1,o.W2,o.options.method))});Ge.add("chromatic-adaptation-end",o=>{o.M||(o.M=Xi(o.W1,o.W2,o.options.method))});function Go({id:o,toCone_M:e,fromCone_M:t}){qi[o]=arguments[0]}function Xi(o,e,t="Bradford"){let n=qi[t],[r,i,a]=R(n.toCone_M,o),[l,s,c]=R(n.toCone_M,e),m=[[l/r,0,0],[0,s/i,0],[0,0,c/a]],u=R(m,n.toCone_M);return R(n.fromCone_M,u)}Go({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});Go({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});Go({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});Go({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(re,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});re.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var pl=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],dl=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Zi=new oe({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:re.ACES,toXYZ_M:pl,fromXYZ_M:dl}),Io=2**-16,Mn=-.35828683,Fo=(Math.log2(65504)+9.72)/17.52,fl=new oe({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[Mn,Fo],name:"Red"},g:{range:[Mn,Fo],name:"Green"},b:{range:[Mn,Fo],name:"Blue"}},referred:"scene",base:Zi,toBase(o){let e=-.3013698630136986;return o.map(function(t){return t<=e?(2**(t*17.52-9.72)-Io)*2:t<Fo?2**(t*17.52-9.72):65504})},fromBase(o){return o.map(function(e){return e<=0?(Math.log2(Io)+9.72)/17.52:e<Io?(Math.log2(Io+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}}),mi=Object.freeze({__proto__:null,A98RGB:Ws,A98RGB_Linear:Gi,ACEScc:fl,ACEScg:Zi,CAM16_JMh:os,HCT:Ht,HPLuv:sl,HSL:Hi,HSLuv:al,HSV:$i,HWB:Xs,ICTCP:Pn,JzCzHz:kn,Jzazbz:yi,LCH:At,LCHuv:$n,Lab:me,Lab_D65:In,Luv:Yi,OKLCH:ol,OKLab:vt,P3:Ni,P3_Linear:Fi,ProPhoto:tl,ProPhoto_Linear:Oi,REC_2020:Ii,REC_2020_Linear:Ho,REC_2100_HLG:ml,REC_2100_PQ:ul,XYZ_ABS_D65:Rn,XYZ_D50:En,XYZ_D65:ee,sRGB:xt,sRGB_Linear:Bi}),O=class o{constructor(...e){let t;e.length===1&&(t=S(e[0]));let n,r,i;t?(n=t.space||t.spaceId,r=t.coords,i=t.alpha):[n,r,i]=e,Object.defineProperty(this,"space",{value:x.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=r?r.slice():[0,0,0],this.alpha=i>1||i===void 0?1:i<0?0:i;for(let a=0;a<this.coords.length;a++)this.coords[a]==="NaN"&&(this.coords[a]=NaN);for(let a in this.space.coords)Object.defineProperty(this,a,{get:()=>this.get(a),set:l=>this.set(a,l)})}get spaceId(){return this.space.id}clone(){return new o(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let t=vs(this,...e);return t.color=new o(t.color),t}static get(e,...t){return e instanceof o?e:new o(e,...t)}static defineFunction(e,t,n=t){let{instance:r=!0,returns:i}=n,a=function(...l){let s=t(...l);if(i==="color")s=o.get(s);else if(i==="function<color>"){let c=s;s=function(...m){let u=c(...m);return o.get(u)},Object.assign(s,c)}else i==="array<color>"&&(s=s.map(c=>o.get(c)));return s};e in o||(o[e]=a),r&&(o.prototype[e]=function(...l){return a(this,...l)})}static defineFunctions(e){for(let t in e)o.defineFunction(t,e[t],e[t])}static extend(e){if(e.register)e.register(o);else for(let t in e)o.defineFunction(t,e[t])}};O.defineFunctions({get:ue,getAll:Gt,set:Ve,setAll:Ln,to:E,equals:Cs,inGamut:We,toGamut:Oe,distance:xi,toString:Et});Object.assign(O,{util:va,hooks:Ge,WHITES:re,Space:x,spaces:x.registry,parse:Ci,defaults:pe});for(let o of Object.keys(mi))x.register(mi[o]);for(let o in x.registry)Fn(o,x.registry[o]);Ge.add("colorspace-init-end",o=>{Fn(o.id,o),o.aliases?.forEach(e=>{Fn(e,o)})});function Fn(o,e){let t=o.replace(/-/g,"_");Object.defineProperty(O.prototype,t,{get(){let n=this.getAll(o);return typeof Proxy>"u"?n:new Proxy(n,{has:(r,i)=>{try{return x.resolveCoord([e,i]),!0}catch{}return Reflect.has(r,i)},get:(r,i,a)=>{if(i&&typeof i!="symbol"&&!(i in r)){let{index:l}=x.resolveCoord([e,i]);if(l>=0)return r[l]}return Reflect.get(r,i,a)},set:(r,i,a,l)=>{if(i&&typeof i!="symbol"&&!(i in r)||i>=0){let{index:s}=x.resolveCoord([e,i]);if(s>=0)return r[s]=a,this.setAll(o,r),!0}return Reflect.set(r,i,a,l)}})},set(n){this.setAll(o,n)},configurable:!0,enumerable:!0})}O.extend(wt);O.extend({deltaE:Lt});Object.assign(O,{deltaEMethods:wt});O.extend(js);O.extend({contrast:As});O.extend($s);O.extend(xs);O.extend(qs);O.extend(Bo);function jt(o){let e=new O(o),t=Math.max(0,Math.min(1,e.srgb.r??0))*255,n=Math.max(0,Math.min(1,e.srgb.g??0))*255,r=Math.max(0,Math.min(1,e.srgb.b??0))*255;return[Math.round(t),Math.round(n),Math.round(r)]}function Ji(o){let e=jt(o),t=new O(`rgb(${e[0]} ${e[1]} ${e[2]})`).to("hsl");return[t.coords[0].valueOf(),t.coords[1].valueOf(),t.coords[2].valueOf()]}function Wi(o){let e=new O(o).to("oklch");return[e.coords[0].valueOf(),e.coords[1].valueOf(),e.coords[2].valueOf()]}function Yt(o){let e=new O(o).to("srgb"),t=e.contrastWCAG21("white"),n=e.contrastWCAG21("black");return t>2.4&&n<7.5?"white":"black"}function Ki(o){return`#${o[0].toString(16).padStart(2,"0")}${o[1].toString(16).padStart(2,"0")}${o[2].toString(16).padStart(2,"0")}`.toUpperCase()}function Qi(o){o=o?.replace("#","")??"000000",o.length!==6&&(o="000000");let e=parseInt(o,16),t=e>>16&255,n=e>>8&255,r=e&255;return[t,n,r]}var A=class o{loadPalette(e){this.colorModelChanged(Se[e.palette.model]),this.onVariableConfigChanged(e.state.variableConfig.variable),this.paletteStepsConfigChanged(e.state.stepsConfig),this.colorBase.set(e.state.currentColor),this.currentColor.set(e.state.currentColor),this.rangeChanged(e.state.minmax)}store=T(Re);initialState=this.store.get("color-state")??hl;showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"}];colorModel=j(Se[this.initialState.colorModel]);variableConfig=j(this.initialState.variableConfig);paletteStepsConfig=j(this.initialState.paletteStepsConfig);paletteVisualConfig=j(this.initialState.paletteVisualConfig);paletteValuesConfig=j(this.initialState.paletteValuesConfig);colorBase=j(this.initialState.colorBase);currentColor=j(this.initialState.currentColor);minmax=j(this.initialState.minmax);rgb=W(()=>jt(this.colorModel().convert(this.currentColor())));currentState=W(()=>({colorModel:this.colorModel().name,variableConfig:this.variableConfig(),paletteStepsConfig:this.paletteStepsConfig(),paletteVisualConfig:this.paletteVisualConfig(),paletteValuesConfig:this.paletteValuesConfig(),colorBase:this.currentColor(),currentColor:this.currentColor(),minmax:this.minmax()}));constructor(){ie(()=>this.store.save("color-state",this.currentState()))}colorModelChanged(e){this.onColorModelChanged(e)}variableChanged(e){this.onVariableConfigChanged(e)}paletteStepsConfigChanged(e){this.paletteStepsConfig.set(e)}paletteVisualConfigChanged(e){this.paletteVisualConfig.set(e)}paletteValuesConfigChanged(e){this.paletteValuesConfig.set(e)}rangeChanged(e){this.minmax.set(e)}colorChanged(e){this.currentColor.set(e)}colorSelected(e){let t=this.getChannels(e);this.colorBase.set(t),this.colorChanged(t)}getChannels(e){let t=this.colorModel();if(!t||t.name==="rgb")return e;console.debug("Convirtiendo a",t.name,"con valores",e);let n=new O(`rgb(${e[0]} ${e[1]} ${e[2]})`).to(t.name),r=this.ensureCoord(n.coords[0],t.components[0]),i=this.ensureCoord(n.coords[1],t.components[1]),a=this.ensureCoord(n.coords[2],t.components[2]);return[r,i,a]}ensureCoord(e,t){let n=Number.isNaN(e)?0:e;return Math.max(0,Math.min(t.max,n))}onColorModelChanged(e){let t=this.colorModel().convert(this.currentColor()),n=e.defaultValues()??[0,0,0];if(t)switch(e.name){case"hsl":n=Ji(t);break;case"oklch":n=Wi(t);break;default:n=jt(t)}this.colorModel.set(e),this.onVariableConfigChanged(e.components[e.defaultVariableIndex]),this.colorBase.set(n),this.currentColor.set(n)}onVariableConfigChanged(e){let t=this.colorModel().components.findIndex(n=>n.name===e.name);this.variableConfig.set({variable:e,variableIndex:t}),this.minmax.set(e?[e.min,e.max]:[0,0])}palette=W(()=>{let e=this.colorModel(),t=this.variableConfig(),n=this.paletteStepsConfig(),r=this.currentColor()??e.defaultValues(),i=this.minmax()[0],a=this.minmax()[1],l=n?.pasos??10;if(n?.automatico??!0){let m=t.variable;l=Math.min(l,Math.max(2,Math.ceil(Math.abs(a-i)/(m.max-m.min)*m.autoSteps)))}let s=(a-i)/(l-1),c=Array.from({length:l},(m,u)=>{let h=i+u*s,z=[...r];z[t.variableIndex]=h;let v=e.convert([z[0],z[1],z[2]]),P=jt(v);return{valores:z,color:P,fore:Yt(v)}});if(c.length>0){let m=c[0].color;for(let u=1;u<c.length;u++){let h=c[u].color,z=Math.abs(h[0]-m[0]),v=Math.abs(h[1]-m[1]),P=Math.abs(h[2]-m[2]);z<=7&&v<=3&&P<=14&&(c[u-1].clamp=!0,c[u].clamp=!0),m=h}}return{model:e.name,swatches:c}});static \u0275fac=function(t){return new(t||o)};static \u0275prov=Ce({token:o,factory:o.\u0275fac,providedIn:"root"})},ge=Se.oklch,hl={colorModel:ge.name,variableConfig:{variable:ge.components[ge.defaultVariableIndex],variableIndex:ge.components.findIndex(o=>o.name===ge.components[ge.defaultVariableIndex].name)},paletteStepsConfig:{pasos:12,automatico:!0},paletteVisualConfig:{alto:80,continuo:!1,separate:!1},paletteValuesConfig:{showValues:"no"},colorBase:ge.defaultValues(),currentColor:ge.defaultValues(),minmax:[ge.components[ge.defaultVariableIndex].min,ge.components[ge.defaultVariableIndex].max]};var yt=class o{collapse=w(!1,{alias:"zz-collapse-vertical"});static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-collapse-vertical",""],["zzCollapseVertical"]],hostVars:4,hostBindings:function(t,n){t&2&&(F("height",n.collapse()?"0":"calc-size(auto, size)"),Y("opacity-50",n.collapse()))},inputs:{collapse:[1,"zz-collapse-vertical","collapse"]},features:[L([at,go,Le])]})};var zt=class o{size=w("thin",{alias:"zz-border",transform:e=>{let t=(e??"none").toLowerCase().trim();return t==="none"?"none":["thin","normal","thick"].includes(t)?t:"thin"}});color=w("color-mix(in srgb, var(--text-color), transparent 70%)",{alias:"zz-border-color",transform:e=>{let t=(e??"").trim().replace(/ /g,"-").toLowerCase();return t===""?void 0:t}});style=w("solid",{alias:"zz-border-style",transform:e=>{let t=(e??"solid").toLowerCase().trim();return["solid","dashed","dotted","double","groove","ridge","inset","outset"].includes(t)?t:"solid"}});get borderSize(){if(this.size())return{thin:1,normal:2,thick:4}[this.size()]}get borderColor(){return this.color()}get borderStyle(){return this.style()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-border",""],["zzBorder"]],hostVars:6,hostBindings:function(t,n){t&2&&F("border-width",n.borderSize,"px")("border-color",n.borderColor)("border-style",n.borderStyle)},inputs:{size:[1,"zz-border","size"],color:[1,"zz-border-color","color"],style:[1,"zz-border-style","style"]}})};function bl(o,e){if(o&1){let t=ne();p(0,"div",4)(1,"zz-palette-list",5),B("paletteSelected",function(r){Z(t);let i=b();return J(i.state.loadPalette(r))})("paletteRemoved",function(r){Z(t);let i=b();return J(i.store.removePalette(r))}),f()()}if(o&2){let t=b();g("zz-collapse-vertical",!t.open())("zz-border",t.open()?"thin":"none")("zz-shadow",!0),d(),g("palettes",t.store.saved())}}var Oo=class o{store=T(Ae);state=T(A);open=j(!1);toggleOpen(){this.open.update(e=>!e),this.open()?(window.addEventListener("keydown",this.onKeyDown.bind(this)),window.addEventListener("click",this.onClick.bind(this))):(window.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown))}onKeyDown(e){e.key==="Escape"&&(this.open.set(!1),e.stopPropagation())}onClick(e){this.open.set(!1),e.stopPropagation()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-selector"]],decls:8,vars:3,consts:[[1,"relative"],["zz-button","",1,"ring-0","outline-none","bg-transparent","hover:bg-gris-100/50","dark:hover:bg-gris-950/50","px-2","py-1","w-24",3,"click","zzDisabled"],[1,"flex","flex-row","items-center","gap-2","justify-between"],[1,"font-icons"],[1,"absolute","top-10","left-0","z-10","rounded",3,"zz-collapse-vertical","zz-border","zz-shadow"],[1,"block","bg-white","dark:bg-gris-800","w-56",3,"paletteSelected","paletteRemoved","palettes"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"button",1),B("click",function(){return n.toggleOpen()}),p(2,"span",2)(3,"span"),_(4,"Saved palettes"),f(),p(5,"span",3),_(6),f()()(),V(7,bl,2,4,"div",4),f()),t&2&&(d(),g("zzDisabled",n.store.saved().length===0),d(5),le(n.open()?"arrow_drop_up":"arrow_drop_down"),d(),k(n.store.saved().length>0?7:-1))},dependencies:[ut,_o,yt,zt,pt],encapsulation:2})};var jo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palettes-header"]],decls:6,vars:0,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","max-w-[1600px]","leading-8"],[1,"text-3xl","m-0","font-museo-moderno","leading-7","text-orange-600","dark:text-orange-500"]],template:function(t,n){t&1&&(p(0,"header")(1,"nav",0)(2,"h1",1),_(3,"CoLoRina"),f(),D(4,"zz-palette-selector")(5,"zz-dark-mode-toggle"),f()())},dependencies:[yo,Oo],encapsulation:2,changeDetection:0})};var Mt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-container",""]],features:[L([at,mo,{directive:zt,inputs:["zz-border","zzBorderSize","zz-border-color","zzBorderColor","zz-border-style","zzBorderStyle"]}])]})};var vl=(o,e,t)=>({"bg-gris-100/85":o,"dark:bg-gris-800/85":e,bold:t}),Cl=(o,e,t)=>({"bg-gris-100/50":o,"dark:bg-gris-700/45":e,"semi-bold":t}),Ui=(o,e)=>e.name;function wl(o,e){if(o&1){let t=ne();be(0),p(1,"li")(2,"span",4),B("click",function(){let r=Z(t).$implicit,i=b(2);return J(i.state.variableChanged(r))}),_(3),f()()}if(o&2){let t=e.$implicit,n=b(2).state.variableConfig().variable.name===t.name;d(2),se(mn(3,Cl,n,n,n)),d(),le(t.name)}}function xl(o,e){if(o&1){let t=ne();be(0),p(1,"li")(2,"div",1)(3,"span",2),B("click",function(){let r=Z(t).$implicit,i=b();return J(i.state.colorModelChanged(r))}),_(4),f(),p(5,"ul",3),Q(6,wl,4,7,"li",null,Ui),f()()()}if(o&2){let t=e.$implicit,n=b().state.colorModel().name===t.name;d(2),g("zzBorderSize",n?"thin":"none"),d(),se(mn(7,vl,n,n,n)),d(),le(t.name),d(),Y("p-2",n),g("zz-collapse-vertical",!n),d(),U(t.components)}}var Yo=class o{models=Nt;state=T(A);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-menu"]],decls:3,vars:0,consts:[[1,"space-y-2","min-w-36","w-[14ch]"],["zz-container","",1,"rounded","bg-transparent",3,"zzBorderSize"],[1,"select-none","uppercase","text-larger-2","w-full","cursor-pointer","inline-block","transition-all","p-2","rounded","hover:bg-gris-100","dark:hover:bg-gris-800/95",3,"click"],[1,"space-y-1",3,"zz-collapse-vertical"],[1,"select-none","w-full","inline-block","cursor-pointer","transition-all","px-2","py-1","rounded","dark:hover:bg-gris-700/60",3,"click"]],template:function(t,n){t&1&&(p(0,"ul",0),Q(1,xl,8,11,"li",null,Ui),f()),t&2&&(d(),U(n.models))},dependencies:[yt,Mt],encapsulation:2,changeDetection:0})};function yl(o,e){if(o&1&&(be(0),p(1,"span"),_(2),p(3,"span",1),_(4),nt(5,"number"),f()(),p(6,"span"),_(7),p(8,"span",1),_(9),nt(10,"number"),f()(),p(11,"span"),_(12),p(13,"span",1),_(14),nt(15,"number"),f()()),o&2){let t=e,n=b().colorModel().components;d(2),de("",n[0].label,": "),d(2),le(rt(5,6,t[0],"0.0-"+n[0].precision)),d(3),de(" ",n[1].label,": "),d(2),le(rt(10,9,t[1],"0.0-"+n[1].precision)),d(3),de(" ",n[2].label,": "),d(2),le(rt(15,12,t[2],"0.0-"+n[2].precision))}}var _t=class o{colorModel=w(Se.rgb,{alias:"color-model"});values=w(void 0,{alias:"values",transform:e=>e??[0,0,0]});vertical=w(!1,{alias:"vertical"});static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-values-display"]],inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"],vertical:[1,"vertical"]},decls:2,vars:5,consts:[[1,"flex","px-1","justify-center","font-roboto"],[1,"inline-block","text-right"]],template:function(t,n){if(t&1&&(p(0,"div",0),V(1,yl,16,15),f()),t&2){let r;Y("flex-col",n.vertical())("gap-2",!n.vertical()),d(),k((r=n.values())?1:-1,r)}},dependencies:[no],encapsulation:2,changeDetection:0})};var zl=(o,e)=>({"border-white/40":o,"border-black/40":e});function Ml(o,e){if(o&1){let t=ne();p(0,"input",1),B("change",function(){Z(t);let r=b();return J(r.updateColor())}),f()}if(o&2){let t=b();se(oo(3,zl,t.borderColor()==="white",t.borderColor()==="black")),g("formControl",t.colorControl)}}var qo=class o{colorControl=void 0;value=w("#000000",{alias:"color",transform:e=>{let t=e??"#000000";return typeof t=="string"?t.startsWith("#")?t:`#${t}`:Ki(t)}});colorChange=new Jt;borderColor=j("");constructor(){ie(()=>{this.colorControl?.setValue(this.value());let e=Yt(this.value());this.borderColor.set(e)})}ngOnInit(){let e=Yt(this.value());this.borderColor.set(e),this.colorControl=new K(this.value(),{nonNullable:!0})}updateColor(){this.colorChange.emit(Qi(this.colorControl.value))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-selector"]],inputs:{value:[1,"color","value"]},outputs:{colorChange:"color-change"},decls:1,vars:1,consts:[["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"class","formControl"],["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"change","formControl"]],template:function(t,n){t&1&&V(0,Ml,1,6,"input",0),t&2&&k(n.colorControl?0:-1)},dependencies:[te,Fe,xe,lr],encapsulation:2})};function _l(o,e){if(o&1&&D(0,"zz-color-values-display",5),o&2){let t=b();g("values",t.state.rgb())}}var Xo=class o{height=w(120);state=T(A);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-sample"]],inputs:{height:[1,"height"]},decls:6,vars:8,consts:[["zz-container","",1,"max-w-[25ch]","rounded-lg"],["color-swatch","",1,"text-right","p-4","rounded-lg",3,"color-model","values"],[3,"color-change","color"],[1,"transition-all","text-smaller","justify-center","w-full","min-h-10","max-h-20","py-2","flex","flex-col","items-center","text-md","dark:text-gris-100","text-gris-700"],[1,"whitespace-nowrap","w-[25ch]","text-center",2,"font-variation-settings","'wght' 450",3,"color-model","values"],[1,"opacity-70","text-smaller",2,"line-height","1rem",3,"values"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"div",1)(2,"zz-color-selector",2),B("color-change",function(i){return n.state.colorSelected(i)}),f()(),p(3,"div",3),D(4,"zz-color-values-display",4),V(5,_l,1,1,"zz-color-values-display",5),f()()),t&2&&(d(),F("height",n.height(),"px"),g("color-model",n.state.colorModel())("values",n.state.currentColor()),d(),g("color",n.state.rgb()),d(2),g("color-model",n.state.colorModel())("values",n.state.currentColor()),d(),k(n.state.colorModel().name!=="rgb"?5:-1))},dependencies:[te,Te,_t,qo,Mt],encapsulation:2,changeDetection:0})};function Sl(o,e){if(o&1&&_(0),o&2){let t=b(2);de(" ",t.unit," ")}}function Dl(o,e){if(o&1&&(p(0,"span",1),_(1),nt(2,"number"),f(),p(3,"span",2),V(4,Sl,1,1),f()),o&2){let t=b();d(),de(" ",rt(2,2,t.value,"1."+t.decimals+"-"+t.decimals)," "),d(3),k(t.showUnit?4:-1)}}function kl(o,e){if(o&1&&(p(0,"span",1),_(1),f()),o&2){let t=b();d(),de(" ",t.nullValueText," ")}}var Zo=class o{value=null;unit;length;nullValueText="";decimals=0;get showUnit(){return(this.unit?.length??0)>0}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-field-value"]],inputs:{value:"value",unit:"unit",length:"length",nullValueText:"nullValueText",decimals:"decimals"},features:[L([Le,lt])],decls:3,vars:1,consts:[[1,"flex","flex-row","justify-end","opacity-95"],[1,"field-value-number"],[1,"field-value-unit"]],template:function(t,n){t&1&&(p(0,"div",0),V(1,Dl,5,5)(2,kl,2,1,"span",1),f()),t&2&&(d(),k(n.value!==null?1:2))},dependencies:[no],encapsulation:2,changeDetection:0})};var Jo=class o{controlPressed=j(!1);constructor(){window.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("keyup",this.handleKeyUp.bind(this))}handleKeyDown(e){this.controlPressed.set(e.ctrlKey)}handleKeyUp(e){this.controlPressed.set(e.ctrlKey)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Ce({token:o,factory:o.\u0275fac,providedIn:"root"})};var Pl=(o,e,t,n)=>({"dark:[&::-webkit-slider-runnable-track]:bg-white/30":o,"[&::-webkit-slider-runnable-track]:bg-black/20":e,"focus:[&::-webkit-slider-runnable-track]:bg-black/50":t,"focus:dark:[&::-webkit-slider-runnable-track]:bg-white/50":n}),Wo=class o{constructor(e,t){this.el=e;this.renderer=t;ie(()=>{let n=this.accent()??!1;this.toggleAccent[n.toString()]?.forEach(r=>this.renderer.addClass(this.el.nativeElement,r)),this.toggleAccent[(!n).toString()]?.forEach(r=>this.renderer.removeClass(this.el.nativeElement,r))})}accent=w(!1);showTrack=w(!0);step=w(1,{alias:"zzStep",transform:e=>Math.max(Math.min(400,e??1),.001)});get stepCorregido(){return this.resolvedStep()}get current(){return this.value()}value=w(0,{alias:"zzValue",transform:e=>Math.max(Math.min(720,e??0),-720)});keyPressedService=T(Jo);resolvedStep=W(()=>{let e=this.step();return this.keyPressedService.controlPressed()?Number.isInteger(e)?1:e>=2?.5:.01:e});toggleAccent={false:["dark:[&::-webkit-slider-thumb]:bg-blue-400","[&::-webkit-slider-thumb]:bg-sky-400/90"],true:["dark:[&::-webkit-slider-thumb]:bg-orange-400","[&::-webkit-slider-thumb]:bg-orange-300"]};static \u0275fac=function(t){return new(t||o)(qe(Wt),qe(Kt))};static \u0275dir=C({type:o,selectors:[["input","type","range","zz-slider",""]],hostAttrs:[1,"h-[.75rem]","cursor-pointer","flex-row","items-center","focus:outline-none","[&::-webkit-slider-thumb]:shadow-md","[&::-webkit-slider-thumb]:shadow-black","[&::-webkit-slider-thumb]:transition-all","[&::-webkit-slider-thumb]:duration-150","focus:[&::-webkit-slider-thumb]:outline-gris-500","dark:focus:[&::-webkit-slider-thumb]:outline-gris-300","[&::-webkit-slider-thumb]:mt-[-0.35rem]","[&::-webkit-slider-thumb]:h-[.75rem]","[&::-webkit-slider-thumb]:w-[.75rem]","[&::-webkit-slider-thumb]:appearance-none","[&::-webkit-slider-thumb]:rounded-full","focus:[&::-webkit-slider-thumb]:outline-2","focus:[&::-webkit-slider-thumb]:outline-offset-0","[&::-webkit-slider-runnable-track]:h-[.125rem]","[&::-webkit-slider-runnable-track]:rounded-full","w-full"],hostVars:9,hostBindings:function(t,n){t&2&&(Ut("step",n.stepCorregido)("value",n.current),se(rr(4,Pl,n.showTrack(),n.showTrack(),n.showTrack(),n.showTrack())))},inputs:{accent:[1,"accent"],showTrack:[1,"showTrack"],step:[1,"zzStep","step"],value:[1,"zzValue","value"]},features:[L([st,lo])]})};var Ko=class o{length=w(void 0,{alias:"zz-text-length",transform:e=>{let t=Math.max(0,e??0);return Number.isInteger(t)?t:void 0}});get width(){return this.length()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-text-length",""],["zzTextLength"]],hostAttrs:[1,"truncate","select-none","opacity-95"],hostVars:2,hostBindings:function(t,n){t&2&&F("width",n.width,"ch")},inputs:{length:[1,"zz-text-length","length"]}})};function Tl(o,e){if(o&1&&D(0,"option",1),o&2){let t=e.$implicit;g("value",t)}}function Vl(o,e){if(o&1&&(p(0,"datalist",0),Q(1,Tl,1,1,"option",1,Kn),f()),o&2){let t=b();g("id",t.id),d(),U(t.values)}}var Qo=class o{_values=[];id;set values(e){this._values=e.sort((t,n)=>t-n).reduce((t,n)=>(t.includes(n)||t.push(n),t),[])}get values(){return this._values}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-data-list"]],inputs:{id:"id",values:"values"},decls:1,vars:1,consts:[[3,"id"],[3,"value"]],template:function(t,n){t&1&&V(0,Vl,3,1,"datalist",0),t&2&&k(n.id?0:-1)},encapsulation:2,changeDetection:0})};var Il=()=>[];function Fl(o,e){if(o&1){let t=ne();p(0,"label",8),B("dblclick",function(){Z(t);let r=b(2);return J(r.control.reset())}),_(1),f()}if(o&2){let t=b(2);Y("text-right",t.labelsReverse)("opacity-80",t.defaultValue!==void 0&&t.control.value===t.defaultValue),g("for",t.fieldName)("zz-text-length",t.labelLength),d(),de(" ",t.label," ")}}function Bl(o,e){o&1&&D(0,"div")}function Nl(o,e){if(o&1&&D(0,"zz-field-value",9),o&2){let t=b(2);Y("opacity-70",t.defaultValue!==void 0&&t.control.value===t.defaultValue),g("value",t.control.value)("length",t.valueLength)("decimals",t.decimales)("unit",t.unit)}}function Ll(o,e){if(o&1&&(p(0,"div",2)(1,"div",3),V(2,Fl,2,7,"label",4)(3,Bl,1,0,"div")(4,Nl,1,6,"zz-field-value",5),f(),D(5,"input",6,0)(7,"zz-data-list",7),f()),o&2){let t,n,r=b();Y("flex-col-reverse",!r.labelsAbove),g("formGroup",r.formGroup),d(),Y("flex-row-reverse",r.labelsReverse),d(),k(r.showLabel?2:3),d(2),k(r.showValue?4:-1),d(),g("zzStep",(t=r.step)!==null&&t!==void 0?t:1)("accent",r.defaultValue!==void 0&&r.control.value!==r.defaultValue)("formControlName",r.fieldName)("zzValue",r.control.value)("showTrack",r.showTrack())("min",r.min)("max",r.max),Qt("aria-label","Input for "+r.label)("list",r.fieldName+"-list"),d(2),g("id",r.fieldName+"-list")("values",(n=r.stops)!==null&&n!==void 0?n:nr(18,Il))}}var St=class o{constructor(e){this._parentFormGroupDirective=e}fieldName="";labelsAbove=!0;labelsReverse=!1;label="";valueLength;unit="";showTrack=w(!0);min=0;max=10;step=1;stops=[];labelLength;_defaultValue=0;get defaultValue(){return this._defaultValue}set defaultValue(e){this._defaultValue=e}_showLabel=!1;get showLabel(){return this._showLabel&&(this.labelLength??1)>0}set showLabel(e){this._showLabel=e}_showValue=!1;get showValue(){return this._showValue&&(this.valueLength??1)>0}set showValue(e){this._showValue=e}get decimales(){let e=0;if((this.step??1)!==1&&!Number.isInteger(this.step)&&(e=this.step.toString().split(".")[1]?.length??0),(this.min??0)!==0&&!Number.isInteger(this.min)){let t=this.min.toString();e=Math.max(e,t.split(".")[1]?.length??0)}if((this.max??10)!==10&&!Number.isInteger(this.max)){let t=this.max.toString();e=Math.max(e,t.split(".")[1]?.length??0)}return e}get formGroup(){return this._parentFormGroupDirective?.control}get control(){return this._parentFormGroupDirective?.control.controls[this.fieldName]}static \u0275fac=function(t){return new(t||o)(qe(ce,8))};static \u0275cmp=M({type:o,selectors:[["zz-slider-field"]],inputs:{fieldName:"fieldName",labelsAbove:[0,"labels-above","labelsAbove"],labelsReverse:[0,"labels-reverse","labelsReverse"],label:"label",valueLength:"valueLength",unit:"unit",showTrack:[1,"showTrack"],min:"min",max:"max",step:"step",stops:"stops",labelLength:"labelLength",defaultValue:"defaultValue",showLabel:"showLabel",showValue:"showValue"},decls:1,vars:1,consts:[["slider",""],["zz-overflow-visible","",1,"w-full","p-1","bg-transparent","flex","flex-col",3,"flex-col-reverse","formGroup"],["zz-overflow-visible","",1,"w-full","p-1","bg-transparent","flex","flex-col",3,"formGroup"],["zz-overflow-visible","",1,"flex","flex-row","items-base","justify-between"],[3,"for","zz-text-length","text-right","opacity-80"],[3,"value","length","decimals","unit","opacity-70"],["zz-slider","","type","range",3,"zzStep","accent","formControlName","zzValue","showTrack","min","max"],[3,"id","values"],[3,"dblclick","for","zz-text-length"],[3,"value","length","decimals","unit"]],template:function(t,n){t&1&&V(0,Ll,8,19,"div",1),t&2&&k(n.control?0:-1)},dependencies:[te,Fe,sr,xe,fe,ce,Be,Wo,Zo,Ko,Qo,ho],encapsulation:2})};function El(o,e){if(o&1&&D(0,"div",1),o&2){let t=e.$implicit,n=b();g("color-model",n.colorModel())("values",t)}}var Dt=class o{colorModel=w(void 0,{alias:"color-model"});variableConfig=w(void 0,{alias:"variable-config"});height=w(30,{transform:e=>{if(e===void 0)return 30;let t=Number.isInteger(e)?e:30;return Math.max(1,Math.min(400,t))}});colorBase=w(void 0,{alias:"color-base"});swatches=void 0;ngOnInit(){this.swatches=W(()=>{let e=this.colorModel();if(!e)return[];let t=this.variableConfig(),n=this.colorBase()??e.defaultValues();return t.variable.axisValues.map(r=>{let i=[...n];return i[t.variableIndex]=r,i})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-axis"]],inputs:{colorModel:[1,"color-model","colorModel"],variableConfig:[1,"variable-config","variableConfig"],height:[1,"height"],colorBase:[1,"color-base","colorBase"]},decls:3,vars:2,consts:[[1,"flex","flex-row","justify-between"],["color-swatch","",1,"axis-swatch",3,"color-model","values"]],template:function(t,n){t&1&&(p(0,"div",0),Q(1,El,1,2,"div",1,we),f()),t&2&&(F("height",n.height(),"px"),d(),U(n.swatches()))},dependencies:[Te],encapsulation:2,changeDetection:0})};function Rl(o,e){if(o&1&&(p(0,"div",1)(1,"span",2),_(2,"arrow_range"),f()(),D(3,"zz-slider-field",3)(4,"zz-color-axis",4)(5,"zz-slider-field",5)),o&2){b();let t=to(1),n=b();d(3),g("showTrack",!1)("min",t.variable.min)("max",t.variable.max)("step",n.componentStep(t.variable.precision))("label",t.variable.name)("defaultValue",t.variable.max)("showLabel",!0)("labelLength",10)("unit",t.variable.unit)("showValue",!0)("valueLength",9),d(),g("color-model",n.state.colorModel())("variable-config",t)("color-base",n.currentColor())("height",n.height()),d(),g("showTrack",!1)("labels-above",!1)("labels-reverse",!0)("min",t.variable.min)("max",t.variable.max)("step",n.componentStep(t.variable.precision))("label",t.variable.name)("defaultValue",t.variable.min)("showLabel",!1)("labelLength",10)("unit",t.variable.unit)("showValue",!0)("valueLength",9)}}function Al(o,e){if(o&1&&(p(0,"form",0),be(1),V(2,Rl,6,28),f()),o&2){let t=b();g("formGroup",t.formDual),d();let n=eo(t.state.variableConfig());d(),k(n?2:-1)}}var Uo=class o{state=T(A);currentColor=w(void 0);value=w(void 0);height=w(30,{transform:e=>{if(e===void 0)return 30;let t=Number.isInteger(e)?e:30;return Math.max(1,Math.min(400,t))}});minmaxChange=new Jt;formDual=void 0;init=!1;constructor(){ie(()=>{if(!this.init){this.init=!0;return}let e=this.minMax(this.state.variableConfig(),this.value());this.formDual?.patchValue({min:e.min,max:e.max},{emitEvent:!0})})}ngOnInit(){let e=this.state.minmax();this.formDual=new ye({min:new K(e[0],{nonNullable:!0}),max:new K(e[1],{nonNullable:!0})}),this.formDual.valueChanges.subscribe(t=>{this.minmaxChange.emit([t.min??this.formDual?.controls.min.value??0,t.max??this.formDual?.controls.max.value??0])})}minMax(e,t){if(e===void 0||t===void 0)return{min:0,max:0};let n=(e.variable.max+e.variable.min)/2,r=t>n?e.variable.max:t*2-e.variable.min;return{min:t<n?e.variable.min:t*2-e.variable.max,max:r}}componentStep(e){return 1/Math.pow(10,e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-dual-axis-slider"]],hostAttrs:[1,"block","w-full"],inputs:{currentColor:[1,"currentColor"],value:[1,"value"],height:[1,"height"]},outputs:{minmaxChange:"minmaxChange"},decls:1,vars:1,consts:[[1,"relative",3,"formGroup"],[1,"absolute","left-1/2","top-1"],["zz-icon","",1,"h-6"],["fieldName","max",1,"relative","z-2","font-bold",3,"showTrack","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-model","variable-config","color-base","height"],["fieldName","min",1,"relative","z-2","-mt-2.5","block",3,"showTrack","labels-above","labels-reverse","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"]],template:function(t,n){t&1&&V(0,Al,3,3,"form",0),t&2&&k(n.formDual!==void 0?0:-1)},dependencies:[St,Dt,te,ze,fe,ce,Ne],encapsulation:2,changeDetection:0})};var Hl=(o,e)=>({variable:o,variableIndex:e});function $l(o,e){if(o&1){let t=ne();p(0,"zz-dual-axis-slider",4),B("minmaxChange",function(r){Z(t);let i=b(3);return J(i.onVariableChange(r))}),f()}if(o&2){let t=b().$implicit,n=b(2);g("value",n.state.colorBase()[t])("currentColor",n.state.currentColor())("height",n.height)}}function Gl(o,e){if(o&1&&D(0,"zz-slider-field",5)(1,"zz-color-axis",6),o&2){let t=b().$implicit,n=to(0),r=b(2);g("showTrack",!1)("fieldName","v"+t)("min",n.min)("max",n.max)("step",r.componentStep(n.precision))("label",n.name)("defaultValue",n.defaultValue)("showLabel",!0)("labelLength",10)("unit",n.unit)("showValue",!0)("valueLength",9),d(),g("color-model",r.state.colorModel())("variable-config",oo(16,Hl,n,t))("color-base",r.state.currentColor())("height",r.height)}}function Ol(o,e){if(o&1&&(be(0),p(1,"div"),V(2,$l,1,3,"zz-dual-axis-slider",3)(3,Gl,2,19),f()),o&2){let t=e.$implicit,n=b(),r=b();eo(r.state.colorModel().components[t]),d(),F("min-height",70+r.height,"px"),d(),k(t===n.variableIndex?2:3)}}function jl(o,e){if(o&1&&(p(0,"form",1),Q(1,Ol,4,4,"div",2,we),f()),o&2){let t=b();g("formGroup",t.configGroup),d(),U(t.indices)}}var en=class o{state=T(A);height=30;indices=[0,1,2];configGroup=void 0;constructor(){ie(()=>{let e=this.state.colorBase()??[0,0,0];this.configGroup?.patchValue({v0:e[0],v1:e[1],v2:e[2]},{emitEvent:!0})})}ngOnInit(){let e=this.state.colorBase()??[0,0,0];this.configGroup=new ye({v0:new K(e[0],{nonNullable:!0}),v1:new K(e[1],{nonNullable:!0}),v2:new K(e[2],{nonNullable:!0})}),this.configGroup.valueChanges.subscribe(()=>{let{v0:t,v1:n,v2:r}=this.configGroup?.value??{v0:0,v1:0,v2:0},i=[t,n,r];this.state.colorChanged(i)})}onVariableChange(e){this.configGroup.patchValue({["v"+this.state.variableConfig().variableIndex]:(e[0]+e[1])/2}),this.state.rangeChanged(e)}componentStep(e){return 1/Math.pow(10,e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-range-selector"]],decls:2,vars:1,consts:[[1,"h-fit",2,"background-color","none !important","border-width","0px !important"],[1,"min-w-fit","h-fit",3,"formGroup"],[3,"minHeight"],[1,"block",3,"value","currentColor","height"],[1,"block",3,"minmaxChange","value","currentColor","height"],[1,"relative","z-2",3,"showTrack","fieldName","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-model","variable-config","color-base","height"]],template:function(t,n){if(t&1&&(p(0,"div",0),V(1,jl,3,1,"form",1),f()),t&2){let r;d(),k((r=n.state.variableConfig())?1:-1,r)}},dependencies:[St,Me,ze,fe,te,ce,Dt,Uo],encapsulation:2,changeDetection:0})};function Yl(o,e){if(o&1&&(p(0,"div",5),D(1,"zz-color-values-display",6),f()),o&2){let t=b().$implicit,n=b(3);F("color",t.fore),d(),g("color-model",n.colorModel())("values",t.valores)("vertical",!0)}}function ql(o,e){if(o&1&&(p(0,"div",5),D(1,"zz-color-values-display",7),f()),o&2){let t=b().$implicit;F("color",t.fore),d(),g("values",t.color)("vertical",!0)}}function Xl(o,e){if(o&1&&(p(0,"div",2)(1,"div",3),_(2," \u26A0 "),f(),be(3),V(4,Yl,2,5,"div",4)(5,ql,2,4,"div",4),f()),o&2){let t=e.$implicit,n=b(2),r=b();g("shadow",!n.continuo)("roundedSize",n.continuo?"none":"large")("color-model",r.colorModel())("values",t.valores),d(),F("color",t.fore),Y("opacity-60",t.clamp);let i=r.state.paletteValuesConfig();d(3),k(i.showValues==="yes"?4:-1),d(),k(i.showValues==="rgb"?5:-1)}}function Zl(o,e){if(o&1&&(p(0,"div",1),Q(1,Xl,6,10,"div",2,we),f()),o&2){let t=b();F("height",t.alto,"px"),Y("space-x-1",t.separate),d(),U(e.swatches)}}function Jl(o,e){if(o&1&&V(0,Zl,3,4,"div",0),o&2){let t,n=b();k((t=n.palette())?0:-1,t)}}var tn=class o{state=T(A);palette=w(void 0);colorModel=W(()=>{let e=this.palette()?.model;if(e)return Se[e]});static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"space-x-1","height"],[1,"flex","flex-row","justify-between"],["color-swatch-panel","",1,"axis-swatch",3,"shadow","roundedSize","color-model","values"],[1,"text-larger-2","absolute","select-none","bottom-1","right-2","opacity-0","transition-opacity","duration-500","ease-in-out"],[1,"text-smaller-2",3,"color"],[1,"text-smaller-2"],[3,"color-model","values","vertical"],[3,"values","vertical"]],template:function(t,n){if(t&1&&V(0,Jl,1,1),t&2){let r;k((r=n.state.paletteVisualConfig())?0:-1,r)}},dependencies:[zo,_t],encapsulation:2,changeDetection:0})};var on=class o{store=T(Ae);state=T(A);lock(){this.store.lockPalette({palette:this.state.palette(),state:{variableConfig:this.state.variableConfig(),stepsConfig:this.state.paletteStepsConfig(),currentColor:this.state.currentColor(),minmax:this.state.minmax()}})}unlock(){this.store.unlockPalette()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-save-palette"]],decls:7,vars:1,consts:[[1,"flex","items-center"],["zz-icon-button","","title","Lock palette",1,"not-disabled:text-green-600","dark:not-disabled:text-green-400","bg-transparent","hover:bg-transparent",3,"click"],["zz-icon",""],["zz-icon-button","","title","Unlock palette",1,"not-disabled:text-red-600","dark:not-disabled:text-red-500","bg-transparent","hover:bg-transparent",3,"click","zzDisabled"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"button",1),B("click",function(){return n.lock()}),p(2,"span",2),_(3,"lock"),f()(),p(4,"button",3),B("click",function(){return n.unlock()}),p(5,"span",2),_(6,"lock_open_right"),f()()()),t&2&&(d(4),g("zzDisabled",n.store.lockedPalette()===void 0))},dependencies:[mt,Ne],encapsulation:2})};var kt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-input",""],["zzInput"]],hostAttrs:[1,"py-1","ring-none","px-1","transition-all","transition-discrete","focus:px-0","focus:[&::-webkit-inner-spin-button]:block","[&::-webkit-inner-spin-button]:hidden","outline-none","border-b-1","border-b-gris-500/80","dark:focus:border-b-sky-600","focus:border-b-sky-600","w-12","text-right","dark:text-gris-100","text-gris-900","invalid:dark:border-b-red-500","invalid:border-b-red-700","dark:bg-gris-900"],features:[L([_e,{directive:Ee,inputs:["zz-disabled","zzDisabled"]}])]})};var Pt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","type","checkbox","zz-simple-check",""]],hostAttrs:[1,"appearance-none","text-inherit","inline-block","min-w-4","w-4","h-4","p-1","cursor-pointer","bg-white","dark:bg-gris-900","rounded-[25%]","border-[2px]","border-white","dark:border-gris-900","outline-[1px]","outline-gris-500","dark:outline-gris-400","focus:ring-[2px]","focus:ring-gris-900","dark:focus:ring-gris-100","transition-all","duration-100","checked:bg-sky-400","dark:checked:bg-sky-600"]})};function Wl(o,e){if(o&1&&(p(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),_(4,"Steps:"),f(),D(5,"input",4),f(),p(6,"label",5),D(7,"input",6),p(8,"span"),_(9,"Auto"),f()()()()),o&2){let t=b();g("formGroup",t.configGroup),d(5),g("zzDisabled",t.configGroup.controls.pasos.disabled)("min",2)("max",100)}}var nn=class o{state=T(A);configGroup=void 0;constructor(){ie(()=>{let e=this.state.paletteStepsConfig();e.pasos!==this.configGroup?.controls.pasos.value&&this.configGroup?.controls.pasos.setValue(e.pasos,{emitEvent:!1}),e.automatico!==this.configGroup?.controls.automatico.value&&this.configGroup?.controls.automatico.setValue(e.automatico,{emitEvent:!1})})}ngOnInit(){let e=this.state.paletteStepsConfig();this.configGroup=new ye({pasos:new K(e.pasos,{nonNullable:!0,validators:[it.min(2),it.max(100)]}),automatico:new K(e.automatico,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(et(30),tt((t,n)=>t.pasos===n.pasos&&t.automatico===n.automatico),ot(this.configGroup.value)).subscribe(t=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteStepsConfigChanged({pasos:t.pasos??n.pasos.value,automatico:t.automatico??n.automatico.value})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-steps-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-2",2,"line-height","0.9rem"],[1,"flex","flex-row","items-center"],["for","pasos",1,"select-none"],["type","number","id","pasos","zz-input","","formControlName","pasos","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","zz-simple-check","","formControlName","automatico"]],template:function(t,n){t&1&&V(0,Wl,10,4,"form",0),t&2&&k(n.configGroup?0:-1)},dependencies:[Me,ze,Fe,io,ro,xe,fe,so,ao,te,ce,Be,kt,Pt],encapsulation:2,changeDetection:0})};function Kl(o,e){if(o&1&&(p(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),_(4,"Height:"),f(),D(5,"input",4),f(),p(6,"label",5),D(7,"input",6),p(8,"span"),_(9,"Flat"),f()(),p(10,"label",5),D(11,"input",7),p(12,"span"),_(13,"Separate"),f()()()()),o&2){let t=b();g("formGroup",t.configGroup),d(5),g("zzDisabled",t.configGroup.controls.alto.disabled)("min",1)("max",180)}}var rn=class o{state=T(A);configGroup=void 0;ngOnInit(){let e=this.state.paletteVisualConfig();this.configGroup=new ye({alto:new K(e.alto,{nonNullable:!0,validators:[it.min(1),it.max(180)]}),continuo:new K(e.continuo,{nonNullable:!0}),separate:new K(e.separate,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(et(30),tt((t,n)=>t.alto===n.alto&&t.continuo===n.continuo&&t.separate===n.separate),ot(this.configGroup.value)).subscribe(t=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteVisualConfigChanged({alto:t.alto??n.alto.value,continuo:t.continuo??n.continuo.value,separate:t.separate??n.separate.value})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-visual-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-4",2,"line-height","0.9rem"],[1,"flex","flex-row","items-center"],["for","alto",1,"select-none"],["type","number","id","alto","zz-input","","formControlName","alto","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","zz-simple-check","","formControlName","continuo"],["type","checkbox","zz-simple-check","","formControlName","separate"]],template:function(t,n){t&1&&V(0,Kl,14,4,"form",0),t&2&&k(n.configGroup?0:-1)},dependencies:[Me,ze,Fe,io,ro,xe,fe,so,ao,te,ce,Be,kt,Pt],encapsulation:2,changeDetection:0})};var an=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-width-full",""],["zzWidthFull"]],hostAttrs:[1,"w-full"]})};var sn=class o{get baseSelectClass(){return!0}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["select","zz-select",""],["zzSelect"]],hostAttrs:[1,"[&::picker-icon]:font-icons","[&::picker-icon]:opacity-80","[&::picker-icon]:text-larger-5","[&::picker-icon]:leading-[1lh]","transition-all","ring-none","outline-none","border-b-1","border-b-gris-500/80","dark:focus:border-b-sky-600","focus:border-b-sky-600"],hostVars:2,hostBindings:function(t,n){t&2&&Y("zz-select",n.baseSelectClass)},features:[L([co,_e,an,{directive:Ee,inputs:["zz-disabled","zzDisabled"]}])]})};var Ul=["valor"];function ec(o,e){if(o&1&&(p(0,"option",2),_(1),f()),o&2){let t=e.$implicit,n=b();g("value",t)("selected",n.value&&t[n.displayKey()]===n.value[n.displayKey()]),d(),de(" ",t[n.displayKey()]," ")}}var ln=class o{constructor(e){this._elementRef=e}trackValue(e,t){let n=t[this.displayKey()]?.toString();return n?e+"-"+n:e.toString()}static nextId=0;controlType="select";valorInput;id=`${this.controlType}-${o.nextId++}`;selectId=`${this.id}-select`;userAriaDescribedBy;items=w([]);displayKey=w.required();upperCase=w(!1);get disabled(){return this._disabled}set disabled(e){this._disabled=e}_disabled=!1;get value(){return this._value}set value(e){this._value=e,this.touched||this.writeValue(e)}_value=void 0;_renderer=T(Kt);onValueChange(e){let t=e.target.selectedIndex;this.value=this.items()[t],this.onChange(this._value),e.stopPropagation()}touched=!1;onFocusOut(e){this.touched=!0,this.onTouched?.call(this)}writeValue(e){if(this._value=e,e){let t=e[this.displayKey()],n=this.items().findIndex(i=>i[this.displayKey()]===t);n=n===-1?0:n;let r=this.valorInput?.nativeElement.querySelector(`option:nth-of-type(${n+1})`);this._renderer.setProperty(r,"selected","selected")}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e}onChange=e=>{};onTouched=()=>{};static \u0275fac=function(t){return new(t||o)(qe(Wt))};static \u0275cmp=M({type:o,selectors:[["zz-select"]],viewQuery:function(t,n){if(t&1&&Qn(Ul,7),t&2){let r;Un(r=er())&&(n.valorInput=r.first)}},hostVars:2,hostBindings:function(t,n){t&2&&Ut("id",n.id)("selectId",n.selectId)},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],items:[1,"items"],displayKey:[1,"displayKey"],upperCase:[1,"upperCase"],disabled:"disabled",value:"value"},features:[or([{provide:ar,useExisting:Jn(()=>o),multi:!0}])],decls:4,vars:4,consts:[["valor",""],["zz-select","",1,"py-1","pl-2","pr-1","group","cursor-pointer","transition-all","ease-in-out","text-gris-900","group-focus-within:text-black","dark:bg-gris-900","dark:text-gris-100","group-focus-within:dark:text-white",3,"focusout","change","zzDisabled","id"],[3,"value","selected"]],template:function(t,n){if(t&1){let r=ne();p(0,"select",1,0),B("focusout",function(a){return Z(r),J(n.onFocusOut(a))})("change",function(a){return Z(r),J(n.onValueChange(a))}),Q(2,ec,2,3,"option",2,n.trackValue,!0),f()}t&2&&(Y("uppercase",n.upperCase()),g("zzDisabled",n.disabled)("id",n.selectId),d(2),U(n.items()))},dependencies:[ir,Me,cr,ur,sn],styles:['.zz-select::picker-icon{content:"arrow_drop_down"}  .zz-select:open::picker-icon{content:"arrow_drop_up"}  .zz-select option{padding-inline:calc(var(--spacing) * 3);padding-block:calc(var(--spacing) * 1);color:light-dark(var(--color-gris-800),var(--color-gris-50));transition:background-color .15s}  .zz-select option::checkmark{display:none}  .zz-select option:focus{background-color:light-dark(var(--color-gris-200),var(--color-gris-600));outline:none}  .zz-select option:checked{color:light-dark(white,white);background-color:light-dark(var(--color-sky-500),var(--color-sky-700))}  .zz-select option:checked:hover{color:light-dark(white,white);background:light-dark(var(--color-sky-600),var(--color-sky-600))}  .zz-select::picker(select){appearance:base-select;transition:all .15s allow-discrete;outline:none;background-color:light-dark(white,var(--color-gris-800));border-color:color-mix(in srgb,light-dark(black,white),transparent 80%)}'],changeDetection:0})};function tc(o,e){if(o&1&&(p(0,"form",1)(1,"div",2)(2,"label",3),_(3,"Values:"),f(),D(4,"zz-select",4,0),f()()),o&2){let t=tr(5),n=b();g("formGroup",n.configGroup),d(2),g("for",t.selectId),d(2),g("items",n.state.showValuesOptions)}}var cn=class o{state=T(A);configGroup=void 0;ngOnInit(){let e=this.state.paletteValuesConfig(),t=this.state.showValuesOptions.find(n=>n.value===e.showValues);this.configGroup=new ye({showValues:new K(t,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(et(30),tt((n,r)=>n.showValues?.value===r.showValues?.value),ot(this.configGroup.value)).subscribe(n=>{let r=this.configGroup?.controls;r&&this.configGroup?.valid&&this.state.paletteValuesConfigChanged({showValues:n.showValues?.value??r.showValues.value.value})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-values-config"]],decls:1,vars:1,consts:[["showValues",""],[3,"formGroup"],[1,"flex","flex-row","items-center",2,"line-height","0.9rem"],[1,"select-none",3,"for"],["displayKey","text","formControlName","showValues",1,"w-16",3,"items"]],template:function(t,n){t&1&&V(0,tc,6,3,"form",1),t&2&&k(n.configGroup?0:-1)},dependencies:[Me,ze,xe,fe,te,ce,Be,ln],encapsulation:2,changeDetection:0})};function oc(o,e){o&1&&D(0,"zz-color-palette",5),o&2&&g("palette",e.palette)}var ea=class o{state=T(A);store=T(Ae);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palettes"]],hostAttrs:["styles","display: block;  height: 100vh;  width: 100vw;  overflow-x: hidden;"],decls:16,vars:3,consts:[[1,"flex","flex-row","items-top","justify-center","gap-8","pl-5","pr-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"py-2"],[1,"min-w-36","w-full","pt-1","relative","flex","flex-col"],[1,"flex","items-center","justify-between","gap-1","mt-6","mb-4"],[1,"opacity-80","hover:opacity-100"],[1,"block","pb-4",3,"palette"],[1,"py-2","hidden","lg:block"],[1,"block",3,"height"]],template:function(t,n){if(t&1&&(p(0,"div"),D(1,"zz-palettes-header"),f(),p(2,"main",0)(3,"div",1),D(4,"zz-color-menu"),f(),p(5,"div",2),D(6,"zz-color-range-selector"),p(7,"div",3),D(8,"zz-palette-steps-config",4)(9,"zz-palette-visual-config",4)(10,"zz-palette-values-config",4)(11,"zz-save-palette"),f(),D(12,"zz-color-palette",5),V(13,oc,1,1,"zz-color-palette",5),f(),p(14,"div",6),D(15,"zz-color-sample",7),f()()),t&2){let r;d(12),g("palette",n.state.palette()),d(),k((r=n.store.lockedPalette())?13:-1,r),d(2),g("height",200)}},dependencies:[jo,Yo,Xo,en,nn,rn,cn,tn,on],encapsulation:2,changeDetection:0})};export{ea as PalettesComponent};
