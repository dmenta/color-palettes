import{a as Jo,b as Mt,c as xt,d as Re,e as en,f as yt}from"./chunk-66P3HUGY.js";import{B as Xo,C as Zo,E as Te,F as V,G as Wo,Q as Le,R as Qo,S as Uo,T as Ko,f as Yo,m as wt,n as We,o as Ne,p as ie,q as ae,r as F,t as se,u as jo,w as qo,x as le,y as vt}from"./chunk-65LVICLJ.js";import{$ as xe,Ba as B,C as Ao,Da as ye,Ga as _e,Ha as Z,Hb as ge,I as ut,Ib as ze,L as Fo,Na as w,Oa as U,Pa as mt,Ra as Po,Sa as O,Ta as ft,Va as dt,Wa as pt,Xa as b,Ya as g,Za as R,_ as Me,_a as je,a as we,b as Eo,c as ve,cb as W,db as N,ea as H,gb as $o,hb as ko,ia as M,ib as Vo,jb as qe,ka as Q,kb as A,lb as ht,mb as gt,qb as Xe,rb as Ze,sa as h,sb as Se,ub as Go,v as Io,vb as Ho,wb as Oo,yb as bt,z as Bo,zb as Ct}from"./chunk-64GRCL5E.js";var _t=class e{colorModel=M(void 0,{alias:"color-model"});values=M(void 0);get background(){return this.bgColor()??"black"}bgColor=ge(()=>{let t=this.colorModel();if(!t)return;let o=this.values();return t.convert([o[0],o[1],o[2]])});static \u0275fac=function(o){return new(o||e)};static \u0275dir=ye({type:e,selectors:[["","color-swatch",""]],hostVars:2,hostBindings:function(o,n){o&2&&U("background-color",n.background)},inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"]},features:[_e([{directive:Le,inputs:["zz-rounded","roundedSize"]},{directive:xt,inputs:["zz-shadow","shadow"]}])]})},De=class e{height=M(50);get heightResolved(){return this.height()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=ye({type:e,selectors:[["","color-swatch-full",""]],hostVars:2,hostBindings:function(o,n){o&2&&U("height",n.heightResolved,"px")},inputs:{height:[1,"height"]},features:[_e([{directive:_t,inputs:["color-model","color-model","values","values"]},Jo])]})},tn=class e{width=M("full");get widthResolved(){let t=this.width();return t==="full"?"100%":`${t}px`}get heightResolved(){return"1 / 1"}static \u0275fac=function(o){return new(o||e)};static \u0275dir=ye({type:e,selectors:[["","color-swatch-square",""]],hostVars:4,hostBindings:function(o,n){o&2&&U("width",n.widthResolved)("aspect-ratio",n.heightResolved)},inputs:{width:[1,"width"]},features:[_e([{directive:_t,inputs:["color-model","color-model","values","values"]}])]})};var X=class{constructor(t,o,n,r="",i=0,a=200,l=0){this.name=t;this.label=o;this.max=n;this.unit=r;this.precision=i;this.steps=a;this.min=l;this.defaultValue=this.average(l,n)}defaultValue;convertAverage(t,o){return this.convert(this.internalAverage(t,o))}convert(t){return`${this.clampValue(t).toFixed(this.precision)}${this.unit}`}average(t,o){return Number.parseFloat(this.internalAverage(t,o).toFixed(this.precision))}clampValue(t){return t===void 0?this.defaultValue:Math.max(this.min,Math.min(this.max,t))}internalAverage(t,o){return(Math.max(this.min,t)+Math.min(this.max,o))/2}},Ee=class{constructor(t,o,n){this.name=t;this.components=o;this.templateFn=n?.bind(this)||this.templateFn}templateFn=this.template;template(t){return`${this.name}(${t[0]} ${t[1]} ${t[2]})`}defaultValues(){return[this.components[0].defaultValue,this.components[1].defaultValue,this.components[2].defaultValue]}convert(t){return this.templateFn([this.components[0].convert(t[0]),this.components[1].convert(t[1]),this.components[2].convert(t[2])])}};var Je=[new Ee("rgb",[new X("Red","R",255,"",0,25),new X("Green","G",255,"",0,25),new X("Blue","B",255,"",0,25)]),new Ee("hsl",[new X("Hue","H",540,"deg",0,55,-180),new X("Saturation","S",100,"%",0,20),new X("Lightness","L",100,"%",1,35)]),new Ee("oklch",[new X("Lightness","L",1,"",3,35),new X("Chroma","C",.4,"",3,20),new X("Hue","H",540,"",2,55,-180)])],Qe={rgb:Je[0],hsl:Je[1],oklch:Je[2]};var Ie=class e{colorModel=M(Qe.rgb,{alias:"color-model"});values=M(void 0,{alias:"values",transform:t=>t??[0,0,0]});vertical=M(!1,{alias:"vertical"});static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-values-display"]],inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"],vertical:[1,"vertical"]},decls:16,vars:19,consts:[[1,"flex","px-1"],[1,"inline-block","text-right"]],template:function(o,n){o&1&&(b(0,"div",0)(1,"span"),A(2),b(3,"span",1),A(4),bt(5,"number"),g()(),b(6,"span"),A(7),b(8,"span",1),A(9),bt(10,"number"),g()(),b(11,"span"),A(12),b(13,"span",1),A(14),bt(15,"number"),g()()()),o&2&&(mt("flex-col",n.vertical())("gap-2",!n.vertical()),h(2),gt("",n.colorModel().components[0].label,": "),h(2),ht(Ct(5,10,n.values()[0],"0.0-"+n.colorModel().components[0].precision)),h(3),gt(" ",n.colorModel().components[1].label,": "),h(2),ht(Ct(10,13,n.values()[1],"0.0-"+n.colorModel().components[1].precision)),h(3),gt(" ",n.colorModel().components[2].label,": "),h(2),ht(Ct(15,16,n.values()[2],"0.0-"+n.colorModel().components[2].precision)))},dependencies:[Yo],encapsulation:2})};function z(e,t){let o=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(a=>[a]));let n=t[0].length,r=t[0].map((a,l)=>t.map(s=>s[l])),i=e.map(a=>r.map(l=>{let s=0;if(!Array.isArray(a)){for(let c of l)s+=a*c;return s}for(let c=0;c<a.length;c++)s+=a[c]*(l[c]||0);return s}));return o===1&&(i=i[0]),n===1?i.map(a=>a[0]):i}function nt(e){return ue(e)==="string"}function ue(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Bt(e,{precision:t,unit:o}){return me(e)?"none":er(e,t)+(o??"")}function me(e){return Number.isNaN(e)||e instanceof Number&&e?.none}function D(e){return me(e)?0:e}function er(e,t){if(e===0)return 0;let o=~~e,n=0;o&&t&&(n=~~Math.log10(Math.abs(o))+1);let r=10**(t-n);return Math.floor(e*r+.5)/r}var qr={deg:1,grad:.9,rad:180/Math.PI,turn:360};function tr(e){if(!e)return;e=e.trim();let t=/^([a-z]+)\((.+?)\)$/i,o=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,r=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,i=e.match(t);if(i){let a=[];return i[2].replace(r,(l,s)=>{let c=s.match(n),m=s;if(c){let u=c[0],f=m.slice(0,-u.length);u==="%"?(m=new Number(f/100),m.type="<percentage>"):(m=new Number(f*qr[u]),m.type="<angle>",m.unit=u)}else o.test(m)?(m=new Number(m),m.type="<number>"):m==="none"&&(m=new Number(NaN),m.none=!0);l.startsWith("/")&&(m=m instanceof Number?m:new Number(m),m.alpha=!0),typeof m=="object"&&m instanceof Number&&(m.raw=s),a.push(m)}),{name:i[1].toLowerCase(),rawName:i[1],rawArgs:i[2],args:a}}}function or(e){return e[e.length-1]}function et(e,t,o){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*o}function nr(e,t,o){return(o-e)/(t-e)}function Co(e,t,o){return et(t[0],t[1],nr(e[0],e[1],o))}function rr(e){return e.map(t=>t.split("|").map(o=>{o=o.trim();let n=o.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let r=new String(n[1]);return r.range=[+n[2],+n[3]],r}return o}))}function ir(e,t,o){return Math.max(Math.min(o,t),e)}function $t(e,t){return Math.sign(e)===Math.sign(t)?e:-e}function ee(e,t){return $t(Math.abs(e)**t,e)}function wo(e,t){return t===0?0:e/t}function ar(e,t,o=0,n=e.length){for(;o<n;){let r=o+n>>1;e[r]<t?o=r+1:n=r}return o}var Xr=Object.freeze({__proto__:null,bisectLeft:ar,clamp:ir,copySign:$t,interpolate:et,interpolateInv:nr,isNone:me,isString:nt,last:or,mapRange:Co,multiplyMatrices:z,parseCoordGrammar:rr,parseFunction:tr,serializeNumber:Bt,skipNone:D,spow:ee,toPrecision:er,type:ue,zdiv:wo}),lo=class{add(t,o,n){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(r){this[r]=this[r]||[],o&&this[r][n?"unshift":"push"](o)},this)}run(t,o){this[t]=this[t]||[],this[t].forEach(function(n){n.call(o&&o.context?o.context:o,o)})}},fe=new lo,q={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(t){this.verbose&&globalThis?.console?.warn?.(t)}},k={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function co(e){return Array.isArray(e)?e:k[e]}function At(e,t,o,n={}){if(e=co(e),t=co(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${!e&&!t?"/":""}${t?"":"to"}`);if(e===t)return o;let r={W1:e,W2:t,XYZ:o,options:n};if(fe.run("chromatic-adaptation-start",r),r.M||(r.W1===k.D65&&r.W2===k.D50?r.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:r.W1===k.D50&&r.W2===k.D65&&(r.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),fe.run("chromatic-adaptation-end",r),r.M)return z(r.M,r.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var Zr=new Set(["<number>","<percentage>","<angle>"]);function on(e,t,o,n){return Object.entries(e.coords).map(([i,a],l)=>{let s=t.coordGrammar[l],c=n[l],m=c?.type,u;if(c.none?u=s.find(d=>Zr.has(d)):u=s.find(d=>d==m),!u){let d=a.name||i;throw new TypeError(`${m??c.raw} not allowed for ${d} in ${o}()`)}let f=u.range;m==="<percentage>"&&(f||=[0,1]);let v=a.range||a.refRange;return f&&v&&(n[l]=Co(f,v,n[l])),u})}function sr(e,{meta:t}={}){let o={str:String(e)?.trim()};if(fe.run("parse-start",o),o.color)return o.color;if(o.parsed=tr(o.str),o.parsed){let n=o.parsed.name;if(n==="color"){let r=o.parsed.args.shift(),i=r.startsWith("--")?r.substring(2):`--${r}`,a=[r,i],l=o.parsed.rawArgs.indexOf("/")>0?o.parsed.args.pop():1;for(let m of p.all){let u=m.getFormat("color");if(u&&(a.includes(u.id)||u.ids?.filter(f=>a.includes(f)).length)){let f=Object.keys(m.coords).map((d,x)=>o.parsed.args[x]||0),v;return u.coordGrammar&&(v=on(m,u,"color",f)),t&&Object.assign(t,{formatId:"color",types:v}),u.id.startsWith("--")&&!r.startsWith("--")&&q.warn(`${m.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${u.id}) instead of color(${r}).`),r.startsWith("--")&&!u.id.startsWith("--")&&q.warn(`${m.name} is a standard space and supported in the CSS spec. Use color(${u.id}) instead of prefixed color(${r}).`),{spaceId:m.id,coords:f,alpha:l}}}let s="",c=r in p.registry?r:i;if(c in p.registry){let m=p.registry[c].formats?.color?.id;m&&(s=`Did you mean color(${m})?`)}throw new TypeError(`Cannot parse color(${r}). `+(s||"Missing a plugin?"))}else for(let r of p.all){let i=r.getFormat(n);if(i&&i.type==="function"){let a=1;(i.lastAlpha||or(o.parsed.args).alpha)&&(a=o.parsed.args.pop());let l=o.parsed.args,s;return i.coordGrammar&&(s=on(r,i,n,l)),t&&Object.assign(t,{formatId:i.name,types:s}),{spaceId:r.id,coords:l,alpha:a}}}}else for(let n of p.all)for(let r in n.formats){let i=n.formats[r];if(i.type!=="custom"||i.test&&!i.test(o.str))continue;let a=i.parse(o.str);if(a)return a.alpha??=1,t&&(t.formatId=r),a}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function C(e){if(Array.isArray(e))return e.map(C);if(!e)throw new TypeError("Empty color reference");nt(e)&&(e=sr(e));let t=e.space||e.spaceId;return t instanceof p||(e.space=p.get(t)),e.alpha===void 0&&(e.alpha=1),e}var Wr=75e-6,p=(()=>{class e{constructor(o){this.id=o.id,this.name=o.name,this.base=o.base?e.get(o.base):null,this.aliases=o.aliases,this.base&&(this.fromBase=o.fromBase,this.toBase=o.toBase);let n=o.coords??this.base.coords;for(let i in n)"name"in n[i]||(n[i].name=i);this.coords=n;let r=o.white??this.base.white??"D65";this.white=co(r),this.formats=o.formats??{};for(let i in this.formats){let a=this.formats[i];a.type||="function",a.name||=i}this.formats.color?.id||(this.formats.color=Eo(we({},this.formats.color??{}),{id:o.cssId||this.id})),o.gamutSpace?this.gamutSpace=o.gamutSpace==="self"?this:e.get(o.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(i,a)=>!0),this.referred=o.referred,Object.defineProperty(this,"path",{value:Jr(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),fe.run("colorspace-init-end",this)}inGamut(o,{epsilon:n=Wr}={}){if(!this.equals(this.gamutSpace))return o=this.to(this.gamutSpace,o),this.gamutSpace.inGamut(o,{epsilon:n});let r=Object.values(this.coords);return o.every((i,a)=>{let l=r[a];if(l.type!=="angle"&&l.range){if(Number.isNaN(i))return!0;let[s,c]=l.range;return(s===void 0||i>=s-n)&&(c===void 0||i<=c+n)}return!0})}get isUnbounded(){return Object.values(this.coords).every(o=>!("range"in o))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let o in this.coords)if(this.coords[o].type==="angle")return!0;return!1}getFormat(o){if(typeof o=="object")return o=nn(o,this),o;let n;return o==="default"?n=Object.values(this.formats)[0]:n=this.formats[o],n?(n=nn(n,this),n):null}equals(o){return o?this===o||this.id===o||this.id===o.id:!1}to(o,n){if(arguments.length===1){let s=C(o);[o,n]=[s.space,s.coords]}if(o=e.get(o),this.equals(o))return n;n=n.map(s=>Number.isNaN(s)?0:s);let r=this.path,i=o.path,a,l;for(let s=0;s<r.length&&r[s].equals(i[s]);s++)a=r[s],l=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${o}: no connection space was found`);for(let s=r.length-1;s>l;s--)n=r[s].toBase(n);for(let s=l+1;s<i.length;s++)n=i[s].fromBase(n);return n}from(o,n){if(arguments.length===1){let r=C(o);[o,n]=[r.space,r.coords]}return o=e.get(o),o.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let o=[];for(let n in this.coords){let r=this.coords[n],i=r.range||r.refRange;o.push(i?.min??0)}return o}static registry={};static get all(){return[...new Set(Object.values(e.registry))]}static register(o,n){if(arguments.length===1&&(n=arguments[0],o=n.id),n=this.get(n),this.registry[o]&&this.registry[o]!==n)throw new Error(`Duplicate color space registration: '${o}'`);if(this.registry[o]=n,arguments.length===1&&n.aliases)for(let r of n.aliases)this.register(r,n);return n}static get(o,...n){if(!o||o instanceof e)return o;if(ue(o)==="string"){let i=e.registry[o.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${o}"`);return i}if(n.length)return e.get(...n);throw new TypeError(`${o} is not a valid color space`)}static resolveCoord(o,n){let r=ue(o),i,a;if(r==="string"?o.includes(".")?[i,a]=o.split("."):[i,a]=[,o]:Array.isArray(o)?[i,a]=o:(i=o.space,a=o.coordId),i=e.get(i),i||(i=n),!i)throw new TypeError(`Cannot resolve coordinate reference ${o}: No color space specified and relative references are not allowed here`);if(r=ue(a),r==="number"||r==="string"&&a>=0){let c=Object.entries(i.coords)[a];if(c)return we({space:i,id:c[0],index:a},c[1])}i=e.get(i);let l=a.toLowerCase(),s=0;for(let c in i.coords){let m=i.coords[c];if(c.toLowerCase()===l||m.name?.toLowerCase()===l)return we({space:i,id:c,index:s},m);s++}throw new TypeError(`No "${a}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}return e})();function Jr(e){let t=[e];for(let o=e;o=o.base;)t.push(o);return t}function nn(e,{coords:t}={}){if(e.coords&&!e.coordGrammar){e.type||="function",e.name||="color",e.coordGrammar=rr(e.coords);let o=Object.entries(t).map(([n,r],i)=>{let a=e.coordGrammar[i][0],l=r.range||r.refRange,s=a.range,c="";return a=="<percentage>"?(s=[0,100],c="%"):a=="<angle>"&&(c="deg"),{fromRange:l,toRange:s,suffix:c}});e.serializeCoords=(n,r)=>n.map((i,a)=>{let{fromRange:l,toRange:s,suffix:c}=o[a];return l&&s&&(i=Co(l,s,i)),i=Bt(i,{precision:r,unit:c}),i})}return e}var P=new p({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),$=class extends p{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=P),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=o=>{let n=z(t.toXYZ_M,o);return this.white!==this.base.white&&(n=At(this.white,this.base.white,n)),n},t.fromBase??=o=>(o=At(this.base.white,this.white,o),z(t.fromXYZ_M,o))),t.referred??="display",super(t)}};function rt(e,t){return e=C(e),!t||e.space.equals(t)?e.coords.slice():(t=p.get(t),t.from(e))}function Y(e,t){e=C(e);let{space:o,index:n}=p.resolveCoord(t,e.space);return rt(e,o)[n]}function vo(e,t,o){return e=C(e),t=p.get(t),e.coords=t.to(e.space,o),e}vo.returns="color";function ne(e,t,o){if(e=C(e),arguments.length===2&&ue(arguments[1])==="object"){let n=arguments[1];for(let r in n)ne(e,r,n[r])}else{typeof o=="function"&&(o=o(Y(e,t)));let{space:n,index:r}=p.resolveCoord(t,e.space),i=rt(e,n);i[r]=o,vo(e,n,i)}return e}ne.returns="color";var Mo=new p({id:"xyz-d50",name:"XYZ D50",white:"D50",base:P,fromBase:e=>At(P.white,"D50",e),toBase:e=>At("D50",P.white,e)}),Qr=216/24389,rn=24/116,St=24389/27,Ut=k.D50,j=new p({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Ut,base:Mo,fromBase(e){let o=e.map((n,r)=>n/Ut[r]).map(n=>n>Qr?Math.cbrt(n):(St*n+16)/116);return[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>rn?Math.pow(t[0],3):(116*t[0]-16)/St,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/St,t[2]>rn?Math.pow(t[2],3):(116*t[2]-16)/St].map((n,r)=>n*Ut[r])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function te(e){return(e%360+360)%360}function Ur(e,t){if(e==="raw")return t;let[o,n]=t.map(te),r=n-o;return e==="increasing"?r<0&&(n+=360):e==="decreasing"?r>0&&(o+=360):e==="longer"?-180<r&&r<180&&(r>0?o+=360:n+=360):e==="shorter"&&(r>180?o+=360:r<-180&&(n+=360)),[o,n]}var tt=new p({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:j,fromBase(e){let[t,o,n]=e,r,i=.02;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),te(r)]},toBase(e){let[t,o,n]=e;return o<0&&(o=0),isNaN(n)&&(n=0),[t,o*Math.cos(n*Math.PI/180),o*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),an=25**7,Ft=Math.PI,sn=180/Ft,Be=Ft/180;function ln(e){let t=e*e;return t*t*t*e}function lr(e,t,{kL:o=1,kC:n=1,kH:r=1}={}){[e,t]=C([e,t]);let[i,a,l]=j.from(e),s=tt.from(j,[i,a,l])[1],[c,m,u]=j.from(t),f=tt.from(j,[c,m,u])[1];s<0&&(s=0),f<0&&(f=0);let v=(s+f)/2,d=ln(v),x=.5*(1-Math.sqrt(d/(d+an))),y=(1+x)*a,T=(1+x)*m,_=Math.sqrt(y**2+l**2),L=Math.sqrt(T**2+u**2),G=y===0&&l===0?0:Math.atan2(l,y),re=T===0&&u===0?0:Math.atan2(u,T);G<0&&(G+=2*Ft),re<0&&(re+=2*Ft),G*=sn,re*=sn;let st=c-i,lt=L-_,J=re-G,He=G+re,zo=Math.abs(J),Oe;_*L===0?Oe=0:zo<=180?Oe=J:J>180?Oe=J-360:J<-180?Oe=J+360:q.warn("the unthinkable has happened");let No=2*Math.sqrt(L*_)*Math.sin(Oe*Be/2),Vr=(i+c)/2,Qt=(_+L)/2,To=ln(Qt),oe;_*L===0?oe=He:zo<=180?oe=He/2:He<360?oe=(He+360)/2:oe=(He-360)/2;let Lo=(Vr-50)**2,Gr=1+.015*Lo/Math.sqrt(20+Lo),Ro=1+.045*Qt,Ye=1;Ye-=.17*Math.cos((oe-30)*Be),Ye+=.24*Math.cos(2*oe*Be),Ye+=.32*Math.cos((3*oe+6)*Be),Ye-=.2*Math.cos((4*oe-63)*Be);let Do=1+.015*Qt*Ye,Hr=30*Math.exp(-1*((oe-275)/25)**2),Or=2*Math.sqrt(To/(To+an)),Yr=-1*Math.sin(2*Hr*Be)*Or,ct=(st/(o*Gr))**2;return ct+=(lt/(n*Ro))**2,ct+=(No/(r*Do))**2,ct+=Yr*(lt/(n*Ro))*(No/(r*Do)),Math.sqrt(ct)}var Kr=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],ei=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],ti=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],oi=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],$e=new p({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:P,fromBase(e){let o=z(Kr,e).map(n=>Math.cbrt(n));return z(ti,o)},toBase(e){let o=z(oi,e).map(n=>n**3);return z(ei,o)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function uo(e,t){[e,t]=C([e,t]);let[o,n,r]=$e.from(e),[i,a,l]=$e.from(t),s=o-i,c=n-a,m=r-l;return Math.sqrt(s**2+c**2+m**2)}var ni=75e-6;function Ce(e,t,{epsilon:o=ni}={}){e=C(e),t||(t=e.space),t=p.get(t);let n=e.coords;return t!==e.space&&(n=t.from(e)),t.inGamut(n,{epsilon:o})}function ke(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function cr(e,t,o="lab"){o=p.get(o);let n=o.from(e),r=o.from(t);return Math.sqrt(n.reduce((i,a,l)=>{let s=r[l];return isNaN(a)||isNaN(s)?i:i+(s-a)**2},0))}function ri(e,t){return cr(e,t,"lab")}var ii=Math.PI,cn=ii/180;function ai(e,t,{l:o=2,c:n=1}={}){[e,t]=C([e,t]);let[r,i,a]=j.from(e),[,l,s]=tt.from(j,[r,i,a]),[c,m,u]=j.from(t),f=tt.from(j,[c,m,u])[1];l<0&&(l=0),f<0&&(f=0);let v=r-c,d=l-f,x=i-m,y=a-u,T=x**2+y**2-d**2,_=.511;r>=16&&(_=.040975*r/(1+.01765*r));let L=.0638*l/(1+.0131*l)+.638,G;Number.isNaN(s)&&(s=0),s>=164&&s<=345?G=.56+Math.abs(.2*Math.cos((s+168)*cn)):G=.36+Math.abs(.4*Math.cos((s+35)*cn));let re=Math.pow(l,4),st=Math.sqrt(re/(re+1900)),lt=L*(st*G+1-st),J=(v/(o*_))**2;return J+=(d/(n*L))**2,J+=T/lt**2,Math.sqrt(J)}var un=203,xo=new p({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:P,fromBase(e){return e.map(t=>Math.max(t*un,0))},toBase(e){return e.map(t=>Math.max(t/un,0))}}),zt=1.15,Nt=.66,mn=2610/2**14,si=2**14/2610,fn=3424/2**12,dn=2413/2**7,pn=2392/2**7,li=1.7*2523/2**5,hn=2**5/(1.7*2523),Tt=-.56,Kt=16295499532821565e-27,ci=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],ui=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],mi=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],fi=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],ur=new p({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:xo,fromBase(e){let[t,o,n]=e,r=zt*t-(zt-1)*n,i=Nt*o-(Nt-1)*t,l=z(ci,[r,i,n]).map(function(f){let v=fn+dn*(f/1e4)**mn,d=1+pn*(f/1e4)**mn;return(v/d)**li}),[s,c,m]=z(mi,l);return[(1+Tt)*s/(1+Tt*s)-Kt,c,m]},toBase(e){let[t,o,n]=e,r=(t+Kt)/(1+Tt-Tt*(t+Kt)),a=z(fi,[r,o,n]).map(function(f){let v=fn-f**hn,d=pn*f**hn-dn;return 1e4*(v/d)**si}),[l,s,c]=z(ui,a),m=(l+(zt-1)*c)/zt,u=(s+(Nt-1)*m)/Nt;return[m,u,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),mo=new p({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:ur,fromBase(e){let[t,o,n]=e,r,i=2e-4;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),te(r)]},toBase(e){return[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)]}});function di(e,t){[e,t]=C([e,t]);let[o,n,r]=mo.from(e),[i,a,l]=mo.from(t),s=o-i,c=n-a;Number.isNaN(r)&&Number.isNaN(l)?(r=0,l=0):Number.isNaN(r)?r=l:Number.isNaN(l)&&(l=r);let m=r-l,u=2*Math.sqrt(n*a)*Math.sin(m/2*(Math.PI/180));return Math.sqrt(s**2+c**2+u**2)}var mr=3424/4096,fr=2413/128,dr=2392/128,gn=2610/16384,pi=2523/32,hi=16384/2610,bn=32/2523,gi=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],bi=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Ci=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],wi=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],fo=new p({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:xo,fromBase(e){let t=z(gi,e);return vi(t)},toBase(e){let t=Mi(e);return z(wi,t)}});function vi(e){let t=e.map(function(o){let n=mr+fr*(o/1e4)**gn,r=1+dr*(o/1e4)**gn;return(n/r)**pi});return z(bi,t)}function Mi(e){return z(Ci,e).map(function(n){let r=Math.max(n**bn-mr,0),i=fr-dr*n**bn;return 1e4*(r/i)**hi})}function xi(e,t){[e,t]=C([e,t]);let[o,n,r]=fo.from(e),[i,a,l]=fo.from(t);return 720*Math.sqrt((o-i)**2+.25*(n-a)**2+(r-l)**2)}var yi=k.D65,pr=.42,Cn=1/pr,eo=2*Math.PI,hr=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],_i=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Si=[[460,451,288],[460,-891,-261],[460,-220,-6300]],zi={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},be={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Ni=180/Math.PI,wn=Math.PI/180;function gr(e,t){return e.map(n=>{let r=ee(t*Math.abs(n)*.01,pr);return 400*$t(r,n)/(r+27.13)})}function Ti(e,t){let o=100/t*27.13**Cn;return e.map(n=>{let r=Math.abs(n);return $t(o*ee(r/(400-r),Cn),n)})}function Li(e){let t=te(e);t<=be.h[0]&&(t+=360);let o=ar(be.h,t)-1,[n,r]=be.h.slice(o,o+2),[i,a]=be.e.slice(o,o+2),l=be.H[o],s=(t-n)/i;return l+100*s/(s+(r-t)/a)}function Ri(e){let t=(e%400+400)%400,o=Math.floor(.01*t);t=t%100;let[n,r]=be.h.slice(o,o+2),[i,a]=be.e.slice(o,o+2);return te((t*(a*n-i*r)-100*n*a)/(t*(a-i)-100*a))}function br(e,t,o,n,r){let i={};i.discounting=r,i.refWhite=e,i.surround=n;let a=e.map(x=>x*100);i.la=t,i.yb=o;let l=a[1],s=z(hr,a);n=zi[i.surround];let c=n[0];i.c=n[1],i.nc=n[2];let u=(1/(5*i.la+1))**4;i.fl=u*i.la+.1*(1-u)*(1-u)*Math.cbrt(5*i.la),i.flRoot=i.fl**.25,i.n=i.yb/l,i.z=1.48+Math.sqrt(i.n),i.nbb=.725*i.n**-.2,i.ncb=i.nbb;let f=r?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-i.la-42)/92)),1),0);i.dRgb=s.map(x=>et(1,l/x,f)),i.dRgbInv=i.dRgb.map(x=>1/x);let v=s.map((x,y)=>x*i.dRgb[y]),d=gr(v,i.fl);return i.aW=i.nbb*(2*d[0]+d[1]+.05*d[2]),i}var vn=br(yi,64/Math.PI*.2,20,"average",!1);function po(e,t){if(!(e.J!==void 0^e.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(e.C!==void 0^e.M!==void 0^e.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(e.h!==void 0^e.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(e.J===0||e.Q===0)return[0,0,0];let o=0;e.h!==void 0?o=te(e.h)*wn:o=Ri(e.H)*wn;let n=Math.cos(o),r=Math.sin(o),i=0;e.J!==void 0?i=ee(e.J,1/2)*.1:e.Q!==void 0&&(i=.25*t.c*e.Q/((t.aW+4)*t.flRoot));let a=0;e.C!==void 0?a=e.C/i:e.M!==void 0?a=e.M/t.flRoot/i:e.s!==void 0&&(a=4e-4*e.s**2*(t.aW+4)/t.c);let l=ee(a*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),s=.25*(Math.cos(o+2)+3.8),c=t.aW*ee(i,2/t.c/t.z),m=5e4/13*t.nc*t.ncb*s,u=c/t.nbb,f=23*(u+.305)*wo(l,23*m+l*(11*n+108*r)),v=f*n,d=f*r,x=Ti(z(Si,[u,v,d]).map(y=>y*1/1403),t.fl);return z(_i,x.map((y,T)=>y*t.dRgbInv[T])).map(y=>y/100)}function Cr(e,t){let o=e.map(L=>L*100),n=gr(z(hr,o).map((L,G)=>L*t.dRgb[G]),t.fl),r=n[0]+(-12*n[1]+n[2])/11,i=(n[0]+n[1]-2*n[2])/9,a=(Math.atan2(i,r)%eo+eo)%eo,l=.25*(Math.cos(a+2)+3.8),s=5e4/13*t.nc*t.ncb*wo(l*Math.sqrt(r**2+i**2),n[0]+n[1]+1.05*n[2]+.305),c=ee(s,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),m=t.nbb*(2*n[0]+n[1]+.05*n[2]),u=ee(m/t.aW,.5*t.c*t.z),f=100*ee(u,2),v=4/t.c*u*(t.aW+4)*t.flRoot,d=c*u,x=d*t.flRoot,y=te(a*Ni),T=Li(y),_=50*ee(t.c*c/(t.aW+4),1/2);return{J:f,C:d,h:y,s:_,Q:v,M:x,H:T}}var Di=new p({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:P,fromBase(e){let t=Cr(e,vn);return[t.J,t.M,t.h]},toBase(e){return po({J:e[0],M:e[1],h:e[2]},vn)}}),Ei=k.D65,Ii=216/24389,wr=24389/27;function Bi(e){return 116*(e>Ii?Math.cbrt(e):(wr*e+16)/116)-16}function ho(e){return e>8?Math.pow((e+16)/116,3):e/wr}function Ai(e,t){let[o,n,r]=e,i=[],a=0;if(r===0)return[0,0,0];let l=ho(r);r>0?a=.00379058511492914*r**2+.608983189401032*r+.9155088574762233:a=9514440756550361e-21*r**2+.08693057439788597*r-21.928975842194614;let s=2e-12,c=15,m=0,u=1/0;for(;m<=c;){i=po({J:a,C:n,h:o},t);let f=Math.abs(i[1]-l);if(f<u){if(f<=s)return i;u=f}a=a-(i[1]-l)*a/(2*i[1]),m+=1}return po({J:a,C:n,h:o},t)}function Fi(e,t){let o=Bi(e[1]);if(o===0)return[0,0,0];let n=Cr(e,yo);return[te(n.h),n.C,o]}var yo=br(Ei,200/Math.PI*ho(50),ho(50)*100,"average",!1),ot=new p({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:P,fromBase(e){return Fi(e)},toBase(e){return Ai(e,yo)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Pi=Math.PI/180,Mn=[1,.007,.0228];function xn(e){e[1]<0&&(e=ot.fromBase(ot.toBase(e)));let t=Math.log(Math.max(1+Mn[2]*e[1]*yo.flRoot,1))/Mn[2],o=e[0]*Pi,n=t*Math.cos(o),r=t*Math.sin(o);return[e[2],n,r]}function $i(e,t){[e,t]=C([e,t]);let[o,n,r]=xn(ot.from(e)),[i,a,l]=xn(ot.from(t));return Math.sqrt((o-i)**2+(n-a)**2+(r-l)**2)}var Ve={deltaE76:ri,deltaECMC:ai,deltaE2000:lr,deltaEJz:di,deltaEITP:xi,deltaEOK:uo,deltaEHCT:$i};function ki(e){let t=e?Math.floor(Math.log10(Math.abs(e))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}var yn={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function de(e,{method:t=q.gamut_mapping,space:o=void 0,deltaEMethod:n="",jnd:r=2,blackWhiteClamp:i={}}={}){if(e=C(e),nt(arguments[1])?o=arguments[1]:o||(o=e.space),o=p.get(o),Ce(e,o,{epsilon:0}))return e;let a;if(t==="css")a=Vi(e,{space:o});else{if(t!=="clip"&&!Ce(e,o)){Object.prototype.hasOwnProperty.call(yn,t)&&({method:t,jnd:r,deltaEMethod:n,blackWhiteClamp:i}=yn[t]);let l=lr;if(n!==""){for(let c in Ve)if("deltae"+n.toLowerCase()===c.toLowerCase()){l=Ve[c];break}}let s=de(S(e,o),{method:"clip",space:o});if(l(e,s)>r){if(Object.keys(i).length===3){let _=p.resolveCoord(i.channel),L=Y(S(e,_.space),_.id);if(me(L)&&(L=0),L>=i.max)return S({space:"xyz-d65",coords:k.D65},e.space);if(L<=i.min)return S({space:"xyz-d65",coords:[0,0,0]},e.space)}let c=p.resolveCoord(t),m=c.space,u=c.id,f=S(e,m);f.coords.forEach((_,L)=>{me(_)&&(f.coords[L]=0)});let d=(c.range||c.refRange)[0],x=ki(r),y=d,T=Y(f,u);for(;T-y>x;){let _=ke(f);_=de(_,{space:o,method:"clip"}),l(f,_)-r<x?y=Y(f,u):T=Y(f,u),ne(f,u,(y+T)/2)}a=S(f,o)}else a=s}else a=S(e,o);if(t==="clip"||!Ce(a,o,{epsilon:0})){let l=Object.values(o.coords).map(s=>s.range||[]);a.coords=a.coords.map((s,c)=>{let[m,u]=l[c];return m!==void 0&&(s=Math.max(m,s)),u!==void 0&&(s=Math.min(s,u)),s})}}return o!==e.space&&(a=S(a,e.space)),e.coords=a.coords,e}de.returns="color";var _n={WHITE:{space:$e,coords:[1,0,0]},BLACK:{space:$e,coords:[0,0,0]}};function Vi(e,{space:t}={}){e=C(e),t||(t=e.space),t=p.get(t);let r=p.get("oklch");if(t.isUnbounded)return S(e,t);let i=S(e,r),a=i.coords[0];if(a>=1){let d=S(_n.WHITE,t);return d.alpha=e.alpha,S(d,t)}if(a<=0){let d=S(_n.BLACK,t);return d.alpha=e.alpha,S(d,t)}if(Ce(i,t,{epsilon:0}))return S(i,t);function l(d){let x=S(d,t),y=Object.values(t.coords);return x.coords=x.coords.map((T,_)=>{if("range"in y[_]){let[L,G]=y[_].range;return ir(L,T,G)}return T}),x}let s=0,c=i.coords[1],m=!0,u=ke(i),f=l(u),v=uo(f,u);if(v<.02)return f;for(;c-s>1e-4;){let d=(s+c)/2;if(u.coords[1]=d,m&&Ce(u,t,{epsilon:0}))s=d;else if(f=l(u),v=uo(f,u),v<.02){if(.02-v<1e-4)break;m=!1,s=d}else c=d}return f}function S(e,t,{inGamut:o}={}){e=C(e),t=p.get(t);let n=t.from(e),r={space:t,coords:n,alpha:e.alpha};return o&&(r=de(r,o===!0?void 0:o)),r}S.returns="color";function Ke(e,i={}){var a=i,{precision:t=q.precision,format:o="default",inGamut:n=!0}=a,r=ve(a,["precision","format","inGamut"]);let l;e=C(e);let s=o;o=e.space.getFormat(o)??e.space.getFormat("default")??p.DEFAULT_FORMAT;let c=e.coords.slice();if(n||=o.toGamut,n&&!Ce(e)&&(c=de(ke(e),n===!0?void 0:n).coords),o.type==="custom")if(r.precision=t,o.serialize)l=o.serialize(c,e.alpha,r);else throw new TypeError(`format ${s} can only be used to parse colors, not for serialization`);else{let m=o.name||"color";o.serializeCoords?c=o.serializeCoords(c,t):t!==null&&(c=c.map(d=>Bt(d,{precision:t})));let u=[...c];if(m==="color"){let d=o.id||o.ids?.[0]||e.space.id;u.unshift(d)}let f=e.alpha;t!==null&&(f=Bt(f,{precision:t}));let v=e.alpha>=1||o.noAlpha?"":`${o.commas?",":" /"} ${f}`;l=`${m}(${u.join(o.commas?", ":" ")}${v})`}return l}var Gi=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Hi=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],kt=new $({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:Gi,fromXYZ_M:Hi}),Lt=1.09929682680944,Sn=.018053968510807,vr=new $({id:"rec2020",name:"REC.2020",base:kt,toBase(e){return e.map(function(t){return t<Sn*4.5?t/4.5:Math.pow((t+Lt-1)/Lt,1/.45)})},fromBase(e){return e.map(function(t){return t>=Sn?Lt*Math.pow(t,.45)-(Lt-1):4.5*t})}}),Oi=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Yi=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],Mr=new $({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:Oi,fromXYZ_M:Yi}),ji=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],I=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],xr=new $({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:ji,fromXYZ_M:I}),zn={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},Nn=Array(3).fill("<percentage> | <number>[0, 255]"),Tn=Array(3).fill("<number>[0, 255]"),Ge=new $({id:"srgb",name:"sRGB",base:xr,fromBase:e=>e.map(t=>{let o=t<0?-1:1,n=t*o;return n>.0031308?o*(1.055*n**(1/2.4)-.055):12.92*t}),toBase:e=>e.map(t=>{let o=t<0?-1:1,n=t*o;return n<=.04045?t/12.92:o*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:Nn},rgb_number:{name:"rgb",commas:!0,coords:Tn,noAlpha:!0},color:{},rgba:{coords:Nn,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Tn},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,o=>{t.push(parseInt(o,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(e,t,{collapse:o=!0}={})=>{t<1&&e.push(t),e=e.map(i=>Math.round(i*255));let n=o&&e.every(i=>i%17===0);return"#"+e.map(i=>n?(i/17).toString(16):i.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){e=e.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(e==="transparent"?(t.coords=zn.black,t.alpha=0):t.coords=zn[e],t.coords)return t}}}}),yr=new $({id:"p3",cssId:"display-p3",name:"P3",base:Mr,fromBase:Ge.fromBase,toBase:Ge.toBase});q.display_space=Ge;var qi;if(typeof CSS<"u"&&CSS.supports)for(let e of[j,vr,yr]){let t=e.getMinCoords(),n=Ke({space:e,coords:t,alpha:1});if(CSS.supports("color",n)){q.display_space=e;break}}function Xi(e,n={}){var r=n,{space:t=q.display_space}=r,o=ve(r,["space"]);let i=Ke(e,o);if(typeof CSS>"u"||CSS.supports("color",i)||!q.display_space)i=new String(i),i.color=e;else{let a=e;if((e.coords.some(me)||me(e.alpha))&&!(qi??=CSS.supports("color","hsl(none 50% 50%)"))&&(a=ke(e),a.coords=a.coords.map(D),a.alpha=D(a.alpha),i=Ke(a,o),CSS.supports("color",i)))return i=new String(i),i.color=a,i;a=S(a,t),i=new String(Ke(a,o)),i.color=a}return i}function Zi(e,t){return e=C(e),t=C(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every((o,n)=>o===t.coords[n])}function pe(e){return Y(e,[P,"y"])}function _r(e,t){ne(e,[P,"y"],t)}function Wi(e){Object.defineProperty(e.prototype,"luminance",{get(){return pe(this)},set(t){_r(this,t)}})}var Ji=Object.freeze({__proto__:null,getLuminance:pe,register:Wi,setLuminance:_r});function Qi(e,t){e=C(e),t=C(t);let o=Math.max(pe(e),0),n=Math.max(pe(t),0);return n>o&&([o,n]=[n,o]),(o+.05)/(n+.05)}var Ui=.56,Ki=.57,ea=.62,ta=.65,Ln=.022,oa=1.414,na=.1,ra=5e-4,ia=1.14,Rn=.027,aa=1.14;function Dn(e){return e>=Ln?e:e+(Ln-e)**oa}function Ae(e){let t=e<0?-1:1,o=Math.abs(e);return t*Math.pow(o,2.4)}function sa(e,t){t=C(t),e=C(e);let o,n,r,i,a,l;t=S(t,"srgb"),[i,a,l]=t.coords;let s=Ae(i)*.2126729+Ae(a)*.7151522+Ae(l)*.072175;e=S(e,"srgb"),[i,a,l]=e.coords;let c=Ae(i)*.2126729+Ae(a)*.7151522+Ae(l)*.072175,m=Dn(s),u=Dn(c),f=u>m;return Math.abs(u-m)<ra?n=0:f?(o=u**Ui-m**Ki,n=o*ia):(o=u**ta-m**ea,n=o*aa),Math.abs(n)<na?r=0:n>0?r=n-Rn:r=n+Rn,r*100}function la(e,t){e=C(e),t=C(t);let o=Math.max(pe(e),0),n=Math.max(pe(t),0);n>o&&([o,n]=[n,o]);let r=o+n;return r===0?0:(o-n)/r}var ca=5e4;function ua(e,t){e=C(e),t=C(t);let o=Math.max(pe(e),0),n=Math.max(pe(t),0);return n>o&&([o,n]=[n,o]),n===0?ca:(o-n)/n}function ma(e,t){e=C(e),t=C(t);let o=Y(e,[j,"l"]),n=Y(t,[j,"l"]);return Math.abs(o-n)}var fa=216/24389,En=24/116,Rt=24389/27,to=k.D65,go=new p({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:to,base:P,fromBase(e){let o=e.map((n,r)=>n/to[r]).map(n=>n>fa?Math.cbrt(n):(Rt*n+16)/116);return[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>En?Math.pow(t[0],3):(116*t[0]-16)/Rt,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/Rt,t[2]>En?Math.pow(t[2],3):(116*t[2]-16)/Rt].map((n,r)=>n*to[r])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),oo=Math.pow(5,.5)*.5+.5;function da(e,t){e=C(e),t=C(t);let o=Y(e,[go,"l"]),n=Y(t,[go,"l"]),r=Math.abs(Math.pow(o,oo)-Math.pow(n,oo)),i=Math.pow(r,1/oo)*Math.SQRT2-40;return i<7.5?0:i}var It=Object.freeze({__proto__:null,contrastAPCA:sa,contrastDeltaPhi:da,contrastLstar:ma,contrastMichelson:la,contrastWCAG21:Qi,contrastWeber:ua});function pa(e,t,o={}){nt(o)&&(o={algorithm:o});let i=o,{algorithm:n}=i,r=ve(i,["algorithm"]);if(!n){let a=Object.keys(It).map(l=>l.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}e=C(e),t=C(t);for(let a in It)if("contrast"+n.toLowerCase()===a.toLowerCase())return It[a](e,t,r);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function Vt(e){let[t,o,n]=rt(e,P),r=t+15*o+3*n;return[4*t/r,9*o/r]}function Sr(e){let[t,o,n]=rt(e,P),r=t+o+n;return[t/r,o/r]}function ha(e){Object.defineProperty(e.prototype,"uv",{get(){return Vt(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return Sr(this)}})}var ga=Object.freeze({__proto__:null,register:ha,uv:Vt,xy:Sr});function Ue(e,t,o={}){nt(o)&&(o={method:o});let i=o,{method:n=q.deltaE}=i,r=ve(i,["method"]);for(let a in Ve)if("deltae"+n.toLowerCase()===a.toLowerCase())return Ve[a](e,t,r);throw new TypeError(`Unknown deltaE method: ${n}`)}function ba(e,t=.25){let n=[p.get("oklch","lch"),"l"];return ne(e,n,r=>r*(1+t))}function Ca(e,t=.25){let n=[p.get("oklch","lch"),"l"];return ne(e,n,r=>r*(1-t))}var wa=Object.freeze({__proto__:null,darken:Ca,lighten:ba});function zr(e,t,o=.5,n={}){return[e,t]=[C(e),C(t)],ue(o)==="object"&&([o,n]=[.5,o]),it(e,t,n)(o)}function Nr(e,t,o={}){let n;_o(e)&&([n,o]=[e,t],[e,t]=n.rangeArgs.colors);let f=o,{maxDeltaE:r,deltaEMethod:i,steps:a=2,maxSteps:l=1e3}=f,s=ve(f,["maxDeltaE","deltaEMethod","steps","maxSteps"]);n||([e,t]=[C(e),C(t)],n=it(e,t,s));let c=Ue(e,t),m=r>0?Math.max(a,Math.ceil(c/r)+1):a,u=[];if(l!==void 0&&(m=Math.min(m,l)),m===1)u=[{p:.5,color:n(.5)}];else{let v=1/(m-1);u=Array.from({length:m},(d,x)=>{let y=x*v;return{p:y,color:n(y)}})}if(r>0){let v=u.reduce((d,x,y)=>{if(y===0)return 0;let T=Ue(x.color,u[y-1].color,i);return Math.max(d,T)},0);for(;v>r;){v=0;for(let d=1;d<u.length&&u.length<l;d++){let x=u[d-1],y=u[d],T=(y.p+x.p)/2,_=n(T);v=Math.max(v,Ue(_,x.color),Ue(_,y.color)),u.splice(d,0,{p:T,color:n(T)}),d++}}}return u=u.map(v=>v.color),u}function it(e,t,o={}){if(_o(e)){let[s,c]=[e,t];return it(...s.rangeArgs.colors,we(we({},s.rangeArgs.options),c))}let{space:n,outputSpace:r,progression:i,premultiplied:a}=o;e=C(e),t=C(t),e=ke(e),t=ke(t);let l={colors:[e,t],options:o};if(n?n=p.get(n):n=p.registry[q.interpolationSpace]||e.space,r=r?p.get(r):n,e=S(e,n),t=S(t,n),e=de(e),t=de(t),n.coords.h&&n.coords.h.type==="angle"){let s=o.hue=o.hue||"shorter",c=[n,"h"],[m,u]=[Y(e,c),Y(t,c)];isNaN(m)&&!isNaN(u)?m=u:isNaN(u)&&!isNaN(m)&&(u=m),[m,u]=Ur(s,[m,u]),ne(e,c,m),ne(t,c,u)}return a&&(e.coords=e.coords.map(s=>s*e.alpha),t.coords=t.coords.map(s=>s*t.alpha)),Object.assign(s=>{s=i?i(s):s;let c=e.coords.map((f,v)=>{let d=t.coords[v];return et(f,d,s)}),m=et(e.alpha,t.alpha,s),u={space:n,coords:c,alpha:m};return a&&(u.coords=u.coords.map(f=>f/m)),r!==n&&(u=S(u,r)),u},{rangeArgs:l})}function _o(e){return ue(e)==="function"&&!!e.rangeArgs}q.interpolationSpace="lab";function va(e){e.defineFunction("mix",zr,{returns:"color"}),e.defineFunction("range",it,{returns:"function<color>"}),e.defineFunction("steps",Nr,{returns:"array<color>"})}var Ma=Object.freeze({__proto__:null,isRange:_o,mix:zr,range:it,register:va,steps:Nr}),Tr=new p({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Ge,fromBase:e=>{let t=Math.max(...e),o=Math.min(...e),[n,r,i]=e,[a,l,s]=[NaN,0,(o+t)/2],c=t-o;if(c!==0){switch(l=s===0||s===1?0:(t-s)/Math.min(s,1-s),t){case n:a=(r-i)/c+(r<i?6:0);break;case r:a=(i-n)/c+2;break;case i:a=(n-r)/c+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,s*100]},toBase:e=>{let[t,o,n]=e;t=t%360,t<0&&(t+=360),o/=100,n/=100;function r(i){let a=(i+t/30)%12,l=o*Math.min(n,1-n);return n-l*Math.max(-1,Math.min(a-3,9-a,1))}return[r(0),r(8),r(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Lr=new p({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Tr,fromBase(e){let[t,o,n]=e;o/=100,n/=100;let r=n+o*Math.min(n,1-n);return[t,r===0?0:200*(1-n/r),100*r]},toBase(e){let[t,o,n]=e;o/=100,n/=100;let r=n*(1-o/2);return[t,r===0||r===1?0:(n-r)/Math.min(r,1-r)*100,r*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),xa=new p({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Lr,fromBase(e){let[t,o,n]=e;return[t,n*(100-o)/100,100-n]},toBase(e){let[t,o,n]=e;o/=100,n/=100;let r=o+n;if(r>=1){let l=o/r;return[t,0,l*100]}let i=1-n,a=i===0?0:1-o/i;return[t,a*100,i*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),ya=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],_a=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],Rr=new $({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:ya,fromXYZ_M:_a}),Sa=new $({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:Rr,toBase:e=>e.map(t=>Math.pow(Math.abs(t),563/256)*Math.sign(t)),fromBase:e=>e.map(t=>Math.pow(Math.abs(t),256/563)*Math.sign(t))}),za=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],Na=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],Dr=new $({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Mo,toXYZ_M:za,fromXYZ_M:Na}),Ta=1/512,La=16/512,Ra=new $({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:Dr,toBase(e){return e.map(t=>t<La?t/16:t**1.8)},fromBase(e){return e.map(t=>t>=Ta?t**(1/1.8):16*t)}}),Da=new p({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:$e,fromBase(e){let[t,o,n]=e,r,i=2e-4;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),te(r)]},toBase(e){let[t,o,n]=e,r,i;return isNaN(n)?(r=0,i=0):(r=o*Math.cos(n*Math.PI/180),i=o*Math.sin(n*Math.PI/180)),[t,r,i]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),Er=k.D65,Ea=216/24389,In=24389/27,[Bn,An]=Vt({space:P,coords:Er}),Ir=new p({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:Er,base:P,fromBase(e){let t=[D(e[0]),D(e[1]),D(e[2])],o=t[1],[n,r]=Vt({space:P,coords:t});if(!Number.isFinite(n)||!Number.isFinite(r))return[0,0,0];let i=o<=Ea?In*o:116*Math.cbrt(o)-16;return[i,13*i*(n-Bn),13*i*(r-An)]},toBase(e){let[t,o,n]=e;if(t===0||me(t))return[0,0,0];o=D(o),n=D(n);let r=o/(13*t)+Bn,i=n/(13*t)+An,a=t<=8?t/In:Math.pow((t+16)/116,3);return[a*(9*r/(4*i)),a,a*((12-3*r-20*i)/(4*i))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),So=new p({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ir,fromBase(e){let[t,o,n]=e,r,i=.02;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),te(r)]},toBase(e){let[t,o,n]=e;return o<0&&(o=0),isNaN(n)&&(n=0),[t,o*Math.cos(n*Math.PI/180),o*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),Ia=216/24389,Ba=24389/27,Fn=I[0][0],Pn=I[0][1],no=I[0][2],$n=I[1][0],kn=I[1][1],ro=I[1][2],Vn=I[2][0],Gn=I[2][1],io=I[2][2];function Fe(e,t,o){let n=t/(Math.sin(o)-e*Math.cos(o));return n<0?1/0:n}function Pt(e){let t=Math.pow(e+16,3)/1560896,o=t>Ia?t:e/Ba,n=o*(284517*Fn-94839*no),r=o*(838422*no+769860*Pn+731718*Fn),i=o*(632260*no-126452*Pn),a=o*(284517*$n-94839*ro),l=o*(838422*ro+769860*kn+731718*$n),s=o*(632260*ro-126452*kn),c=o*(284517*Vn-94839*io),m=o*(838422*io+769860*Gn+731718*Vn),u=o*(632260*io-126452*Gn);return{r0s:n/i,r0i:r*e/i,r1s:n/(i+126452),r1i:(r-769860)*e/(i+126452),g0s:a/s,g0i:l*e/s,g1s:a/(s+126452),g1i:(l-769860)*e/(s+126452),b0s:c/u,b0i:m*e/u,b1s:c/(u+126452),b1i:(m-769860)*e/(u+126452)}}function Hn(e,t){let o=t/360*Math.PI*2,n=Fe(e.r0s,e.r0i,o),r=Fe(e.r1s,e.r1i,o),i=Fe(e.g0s,e.g0i,o),a=Fe(e.g1s,e.g1i,o),l=Fe(e.b0s,e.b0i,o),s=Fe(e.b1s,e.b1i,o);return Math.min(n,r,i,a,l,s)}var Aa=new p({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:So,gamutSpace:Ge,fromBase(e){let[t,o,n]=[D(e[0]),D(e[1]),D(e[2])],r;if(t>99.9999999)r=0,t=100;else if(t<1e-8)r=0,t=0;else{let i=Pt(t),a=Hn(i,n);r=o/a*100}return[n,r,t]},toBase(e){let[t,o,n]=[D(e[0]),D(e[1]),D(e[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let i=Pt(n);r=Hn(i,t)/100*o}return[n,r,t]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});I[0][0];I[0][1];I[0][2];I[1][0];I[1][1];I[1][2];I[2][0];I[2][1];I[2][2];function Pe(e,t){return Math.abs(t)/Math.sqrt(Math.pow(e,2)+1)}function On(e){let t=Pe(e.r0s,e.r0i),o=Pe(e.r1s,e.r1i),n=Pe(e.g0s,e.g0i),r=Pe(e.g1s,e.g1i),i=Pe(e.b0s,e.b0i),a=Pe(e.b1s,e.b1i);return Math.min(t,o,n,r,i,a)}var Fa=new p({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:So,gamutSpace:"self",fromBase(e){let[t,o,n]=[D(e[0]),D(e[1]),D(e[2])],r;if(t>99.9999999)r=0,t=100;else if(t<1e-8)r=0,t=0;else{let i=Pt(t),a=On(i);r=o/a*100}return[n,r,t]},toBase(e){let[t,o,n]=[D(e[0]),D(e[1]),D(e[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let i=Pt(n);r=On(i)/100*o}return[n,r,t]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Yn=203,jn=2610/2**14,Pa=2**14/2610,$a=2523/2**5,qn=2**5/2523,Xn=3424/2**12,Zn=2413/2**7,Wn=2392/2**7,ka=new $({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:kt,toBase(e){return e.map(function(t){return(Math.max(t**qn-Xn,0)/(Zn-Wn*t**qn))**Pa*1e4/Yn})},fromBase(e){return e.map(function(t){let o=Math.max(t*Yn/1e4,0),n=Xn+Zn*o**jn,r=1+Wn*o**jn;return(n/r)**$a})}}),Jn=.17883277,Qn=.28466892,Un=.55991073,ao=3.7743,Va=new $({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:kt,toBase(e){return e.map(function(t){return t<=.5?t**2/3*ao:(Math.exp((t-Un)/Jn)+Qn)/12*ao})},fromBase(e){return e.map(function(t){return t/=ao,t<=1/12?Math.sqrt(3*t):Jn*Math.log(12*t-Qn)+Un})}}),Br={};fe.add("chromatic-adaptation-start",e=>{e.options.method&&(e.M=Ar(e.W1,e.W2,e.options.method))});fe.add("chromatic-adaptation-end",e=>{e.M||(e.M=Ar(e.W1,e.W2,e.options.method))});function Gt({id:e,toCone_M:t,fromCone_M:o}){Br[e]=arguments[0]}function Ar(e,t,o="Bradford"){let n=Br[o],[r,i,a]=z(n.toCone_M,e),[l,s,c]=z(n.toCone_M,t),m=[[l/r,0,0],[0,s/i,0],[0,0,c/a]],u=z(m,n.toCone_M);return z(n.fromCone_M,u)}Gt({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});Gt({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});Gt({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});Gt({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(k,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});k.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var Ga=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],Ha=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Fr=new $({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:k.ACES,toXYZ_M:Ga,fromXYZ_M:Ha}),Dt=2**-16,so=-.35828683,Et=(Math.log2(65504)+9.72)/17.52,Oa=new $({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[so,Et],name:"Red"},g:{range:[so,Et],name:"Green"},b:{range:[so,Et],name:"Blue"}},referred:"scene",base:Fr,toBase(e){let t=-.3013698630136986;return e.map(function(o){return o<=t?(2**(o*17.52-9.72)-Dt)*2:o<Et?2**(o*17.52-9.72):65504})},fromBase(e){return e.map(function(t){return t<=0?(Math.log2(Dt)+9.72)/17.52:t<Dt?(Math.log2(Dt+t*.5)+9.72)/17.52:(Math.log2(t)+9.72)/17.52})}}),Kn=Object.freeze({__proto__:null,A98RGB:Sa,A98RGB_Linear:Rr,ACEScc:Oa,ACEScg:Fr,CAM16_JMh:Di,HCT:ot,HPLuv:Fa,HSL:Tr,HSLuv:Aa,HSV:Lr,HWB:xa,ICTCP:fo,JzCzHz:mo,Jzazbz:ur,LCH:tt,LCHuv:So,Lab:j,Lab_D65:go,Luv:Ir,OKLCH:Da,OKLab:$e,P3:yr,P3_Linear:Mr,ProPhoto:Ra,ProPhoto_Linear:Dr,REC_2020:vr,REC_2020_Linear:kt,REC_2100_HLG:Va,REC_2100_PQ:ka,XYZ_ABS_D65:xo,XYZ_D50:Mo,XYZ_D65:P,sRGB:Ge,sRGB_Linear:xr}),E=class e{constructor(...t){let o;t.length===1&&(o=C(t[0]));let n,r,i;o?(n=o.space||o.spaceId,r=o.coords,i=o.alpha):[n,r,i]=t,Object.defineProperty(this,"space",{value:p.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=r?r.slice():[0,0,0],this.alpha=i>1||i===void 0?1:i<0?0:i;for(let a=0;a<this.coords.length;a++)this.coords[a]==="NaN"&&(this.coords[a]=NaN);for(let a in this.space.coords)Object.defineProperty(this,a,{get:()=>this.get(a),set:l=>this.set(a,l)})}get spaceId(){return this.space.id}clone(){return new e(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...t){let o=Xi(this,...t);return o.color=new e(o.color),o}static get(t,...o){return t instanceof e?t:new e(t,...o)}static defineFunction(t,o,n=o){let{instance:r=!0,returns:i}=n,a=function(...l){let s=o(...l);if(i==="color")s=e.get(s);else if(i==="function<color>"){let c=s;s=function(...m){let u=c(...m);return e.get(u)},Object.assign(s,c)}else i==="array<color>"&&(s=s.map(c=>e.get(c)));return s};t in e||(e[t]=a),r&&(e.prototype[t]=function(...l){return a(this,...l)})}static defineFunctions(t){for(let o in t)e.defineFunction(o,t[o],t[o])}static extend(t){if(t.register)t.register(e);else for(let o in t)e.defineFunction(o,t[o])}};E.defineFunctions({get:Y,getAll:rt,set:ne,setAll:vo,to:S,equals:Zi,inGamut:Ce,toGamut:de,distance:cr,toString:Ke});Object.assign(E,{util:Xr,hooks:fe,WHITES:k,Space:p,spaces:p.registry,parse:sr,defaults:q});for(let e of Object.keys(Kn))p.register(Kn[e]);for(let e in p.registry)bo(e,p.registry[e]);fe.add("colorspace-init-end",e=>{bo(e.id,e),e.aliases?.forEach(t=>{bo(t,e)})});function bo(e,t){let o=e.replace(/-/g,"_");Object.defineProperty(E.prototype,o,{get(){let n=this.getAll(e);return typeof Proxy>"u"?n:new Proxy(n,{has:(r,i)=>{try{return p.resolveCoord([t,i]),!0}catch{}return Reflect.has(r,i)},get:(r,i,a)=>{if(i&&typeof i!="symbol"&&!(i in r)){let{index:l}=p.resolveCoord([t,i]);if(l>=0)return r[l]}return Reflect.get(r,i,a)},set:(r,i,a,l)=>{if(i&&typeof i!="symbol"&&!(i in r)||i>=0){let{index:s}=p.resolveCoord([t,i]);if(s>=0)return r[s]=a,this.setAll(e,r),!0}return Reflect.set(r,i,a,l)}})},set(n){this.setAll(e,n)},configurable:!0,enumerable:!0})}E.extend(Ve);E.extend({deltaE:Ue});Object.assign(E,{deltaEMethods:Ve});E.extend(wa);E.extend({contrast:pa});E.extend(ga);E.extend(Ji);E.extend(Ma);E.extend(It);function Ht(e){let t=new E(e),o=Math.max(0,Math.min(1,t.srgb.r))*255,n=Math.max(0,Math.min(1,t.srgb.g))*255,r=Math.max(0,Math.min(1,t.srgb.b))*255;return[Math.round(o),Math.round(n),Math.round(r)]}function at(e){let t=new E(e).to("srgb"),o=t.contrastWCAG21("white"),n=t.contrastWCAG21("black");return o>2.4&&n<7.5?"white":"black"}function Pr(e){return`#${e[0].toString(16).padStart(2,"0")}${e[1].toString(16).padStart(2,"0")}${e[2].toString(16).padStart(2,"0")}`.toUpperCase()}function $r(e){e=e?.replace("#","")??"000000",e.length!==6&&(e="000000");let t=parseInt(e,16),o=t>>16&255,n=t>>8&255,r=t&255;return[o,n,r]}function Ya(e,t){if(e&1&&(b(0,"div",4),A(1," \u26A0 "),g()),e&2){let o=N().$implicit;U("color",o.fore),mt("opacity-60",o.clamp)}}function ja(e,t){if(e&1&&(b(0,"div"),R(1,"zz-color-values-display",5),g()),e&2){let o=N().$implicit,n=N();U("color",o.fore),h(),w("color-model",n.colorConfig().model)("values",o.valores)("vertical",!0)}}function qa(e,t){if(e&1&&(b(0,"div"),R(1,"zz-color-values-display",6),g()),e&2){let o=N().$implicit;U("color",o.fore),h(),w("values",o.color)("vertical",!0)}}function Xa(e,t){if(e&1&&(b(0,"div",1),Z(1,Ya,2,4,"div",2)(2,ja,2,5,"div",3)(3,qa,2,4,"div",3),g()),e&2){let o=t.$implicit,n=N();w("shadow",!n.axisConfig().continuo)("roundedSize",n.axisConfig().continuo?"none":"large")("height",n.axisConfig().alto)("color-model",n.colorConfig().model)("values",o.valores),h(),O(n.showClamp()?1:-1),h(),O(n.axisConfig().showValues==="yes"?2:-1),h(),O(n.axisConfig().showValues==="rgb"?3:-1)}}var he=class e{colorConfig=M(void 0,{alias:"color-config"});axisConfig=M(void 0,{alias:"axis-config"});colorBase=M(void 0,{alias:"color-base"});min=M(void 0);max=M(void 0);showClamp=M(!1);width=M("full");swatches=void 0;pasos=void 0;ngOnInit(){this.pasos=ge(()=>{let t=this.axisConfig(),o=t.pasos??10;if(t.automatico){let n=this.colorConfig().variable,r=this.min(),i=this.max();return Math.min(o,Math.max(2,Math.ceil(Math.abs(i-r)/(n.max-n.min)*n.steps)))}return o}),this.swatches=ge(()=>{let t=this.colorConfig().model,o=this.colorBase()??[t.components[0].defaultValue,t.components[1].defaultValue,t.components[2].defaultValue],n=this.pasos(),r=(this.max()-this.min())/(n-1),i=Array.from({length:n},(l,s)=>{let c=this.min()+s*r,m=[...o];m[this.colorConfig().variableIndex]=c;let u=t.convert([m[0],m[1],m[2]]),f=Ht(u);return{valores:m,color:f,fore:at(u)}}),a=i[0].color;for(let l=1;l<i.length;l++){let s=i[l].color,c=Math.abs(s[0]-a[0]),m=Math.abs(s[1]-a[1]),u=Math.abs(s[2]-a[2]);c<=7&&m<=3&&u<=14&&(i[l-1].clamp=!0,i[l].clamp=!0),a=s}return i})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-axis"]],inputs:{colorConfig:[1,"color-config","colorConfig"],axisConfig:[1,"axis-config","axisConfig"],colorBase:[1,"color-base","colorBase"],min:[1,"min"],max:[1,"max"],showClamp:[1,"showClamp"],width:[1,"width"]},decls:3,vars:0,consts:[[1,"flex","flex-row","justify-between","rounded-sm","overflow-hidden"],["color-swatch-full","",1,"grow","relative","flex","flex-row","items-center","text-xs","justify-center","overflow-hidden",3,"shadow","roundedSize","height","color-model","values"],[1,"text-lg","absolute","select-none","bottom-0","right-2","opacity-0","transition-opacity","duration-500","ease-in-out",3,"opacity-60","color"],[3,"color"],[1,"text-lg","absolute","select-none","bottom-0","right-2","opacity-0","transition-opacity","duration-500","ease-in-out"],[3,"color-model","values","vertical"],[3,"values","vertical"]],template:function(o,n){o&1&&(b(0,"div",0),dt(1,Xa,4,8,"div",1,ft),g()),o&2&&(h(),pt(n.swatches()))},dependencies:[De,Ie],encapsulation:2})};var Ot=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=ye({type:e,selectors:[["","zz-input",""],["zzInput"]],hostAttrs:[1,"p-1","py-2","border-1","border-gris-500","w-14","text-right","dark:text-gris-100","text-gris-900","invalid:dark:border-red-500","invalid:border-red-700","dark:bg-gris-900"],features:[_e([Wo,Le,Qo,{directive:Uo,inputs:["zz-disabled","zzDisabled"]}])]})};var Yt=class e{configGroup=void 0;axisConfigChange=new H;showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"}];ngOnInit(){this.configGroup=new ae({alto:new F(100,{nonNullable:!0,validators:[We.min(1),We.max(180)]}),continuo:new F(!1,{nonNullable:!0}),pasos:new F(12,{nonNullable:!0,validators:[We.min(2),We.max(100)]}),automatico:new F(!0,{nonNullable:!0}),showValues:new F(this.showValuesOptions[0],{nonNullable:!0})}),this.configGroup.valueChanges.pipe(Bo(30),Ao((t,o)=>JSON.stringify(t)===JSON.stringify(o)),ut(this.configGroup.value)).subscribe(t=>{this.configGroup.valid&&this.axisConfigChange.emit({alto:t.alto,continuo:t.continuo,pasos:t.pasos,automatico:t.automatico,showValues:t.showValues.value})})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-axis-config"]],outputs:{axisConfigChange:"axisConfigChange"},decls:22,vars:11,consts:[["showValues",""],[1,"h-fit","w-full",2,"font-size","0.9em","line-height","0.9rem",3,"formGroup"],["zz-panel","",1,"p-4","h-fit","w-full"],[1,"space-y-4"],[1,"flex","flex-row","flex-wrap","items-center","justify-between"],[1,"flex","flex-row","items-center","justify-between","w-28"],["for","alto"],["type","number","id","alto","zz-input","","formControlName","alto","value","10",3,"zzDisabled","min","max"],["formControlName","continuo","label","Continuo",3,"before"],["for","pasos"],["type","number","id","pasos","zz-input","","formControlName","pasos","value","10",3,"zzDisabled","min","max"],["formControlName","automatico","label","Auto",3,"before"],[1,"flex","flex-row","items-center","justify-between","w-34"],[3,"for"],["displayKey","text","formControlName","showValues",1,"w-20",3,"items"]],template:function(o,n){if(o&1&&(b(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"label",6),A(6,"Height "),g(),R(7,"input",7),g(),b(8,"div"),R(9,"zz-toggle-check",8),g()(),b(10,"div",4)(11,"div",5)(12,"label",9),A(13," Steps "),g(),R(14,"input",10),g(),b(15,"div"),R(16,"zz-toggle-check",11),g()(),b(17,"div",12)(18,"label",13),A(19,"Values"),g(),R(20,"zz-select",14,0),g()()()()),o&2){let r=qe(21);w("formGroup",n.configGroup),h(7),w("zzDisabled",n.configGroup.controls.alto.disabled)("min",1)("max",180),h(2),w("before",!0),h(5),w("zzDisabled",n.configGroup.controls.pasos.disabled)("min",2)("max",100),h(2),w("before",!0),h(2),w("for",r),h(2),w("items",n.showValuesOptions)}},dependencies:[Te,se,wt,jo,Ne,ie,Zo,Xo,V,le,vt,Re,Ot,en,Mt],encapsulation:2})};var qt=class e{models=Je;variableSelection=M(!0);configGroup=void 0;colorConfigChange=new H;ngOnInit(){this.configGroup=new ae({model:new F(Qe.oklch,{nonNullable:!0}),variable:new F({value:Qe.oklch.components[0],disabled:!this.variableSelection()},{nonNullable:!0})}),Io(this.configGroup.controls.model.valueChanges.pipe(Fo(t=>{if(t){let o=t.components[0];this.configGroup?.controls.variable.setValue(o)}})),this.configGroup.controls.variable.valueChanges).pipe(ut(this.configGroup.value)).subscribe(()=>{let t=this.configGroup.controls.model.value,o=this.configGroup.controls.variable.value;this.colorConfigChange.emit({model:t,variable:o,variableIndex:t.components.findIndex(n=>n.name===o.name)})})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-config"]],inputs:{variableSelection:[1,"variableSelection"]},outputs:{colorConfigChange:"colorConfigChange"},decls:13,vars:6,consts:[["colorModel",""],["colorVariable",""],[1,"h-fit","w-full",2,"font-size","0.9em","line-height","0.9rem",3,"formGroup"],["zz-panel","",1,"p-4","h-fit","w-full"],[1,"opacity-80","space-y-4"],[1,"flex","flex-row","items-center","gap-2"],[1,"min-w-14",3,"for"],["displayKey","name","formControlName","model",1,"w-full",3,"upperCase","items"],["displayKey","name","formControlName","variable",1,"w-full",3,"items"]],template:function(o,n){if(o&1&&(b(0,"form",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label",6),A(5,"Model"),g(),R(6,"zz-select",7,0),g(),b(8,"div",5)(9,"label",6),A(10,"Variable"),g(),R(11,"zz-select",8,1),g()()()()),o&2){let r=qe(7),i=qe(12);w("formGroup",n.configGroup),h(4),w("for",r.selectId),h(2),w("upperCase",!0)("items",n.models),h(3),w("for",i.selectId),h(2),w("items",n.configGroup.controls.model.value.components)}},dependencies:[Te,se,Ne,ie,V,le,vt,Mt,Re],encapsulation:2})};function Za(e,t){if(e&1&&(b(0,"div",1)(1,"span",2),A(2,"arrow_range"),g()(),R(3,"zz-slider-field",3)(4,"zz-color-axis",4)(5,"zz-slider-field",5)),e&2){let o=N(),n=Se(1);h(3),w("showTrack",!1)("min",n.variable.min)("max",n.variable.max)("step",o.componentStep(n.variable.precision))("label",n.variable.name)("defaultValue",n.variable.max)("showLabel",!0)("labelLength",10)("unit",n.variable.unit)("showValue",!0)("valueLength",9),h(),w("color-config",n)("axis-config",o.axisConfig())("color-base",o.currentColor())("min",n.variable.min)("max",n.variable.max),h(),w("showTrack",!1)("labels-above",!1)("labels-reverse",!0)("min",n.variable.min)("max",n.variable.max)("step",o.componentStep(n.variable.precision))("label",n.variable.name)("defaultValue",n.variable.min)("showLabel",!1)("labelLength",10)("unit",n.variable.unit)("showValue",!0)("valueLength",9)}}var Xt=class e{colorConfig=M(void 0,{alias:"color-config"});axisConfig=M(void 0,{alias:"axis-config"});currentColor=M(void 0);value=M(void 0);width=M("full");minmaxChange=new H;formDual;constructor(){ze(()=>{let t=this.minMax(this.colorConfig(),this.value());this.formDual.patchValue({min:t.min,max:t.max},{emitEvent:!0})})}ngOnInit(){let t=this.minMax(this.colorConfig(),this.value());this.formDual=new ae({min:new F(t.min,{nonNullable:!0}),max:new F(t.max,{nonNullable:!0})}),this.formDual.valueChanges.subscribe(o=>{this.minmaxChange.emit([o.min,o.max])})}minMax(t,o){let n=(t.variable.max+t.variable.min)/2,r=o>n?t.variable.max:o*2-t.variable.min;return{min:o<n?t.variable.min:o*2-t.variable.max,max:r}}componentStep(t){return 1/Math.pow(10,t)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-dual-axis-slider"]],hostAttrs:[1,"block","w-full"],inputs:{colorConfig:[1,"color-config","colorConfig"],axisConfig:[1,"axis-config","axisConfig"],currentColor:[1,"currentColor"],value:[1,"value"],width:[1,"width"]},outputs:{minmaxChange:"minmaxChange"},decls:3,vars:3,consts:[[1,"relative",3,"formGroup"],[1,"absolute","left-1/2","top-1"],["zz-icon","",1,"h-6"],["fieldName","max",1,"relative","z-2","font-bold",3,"showTrack","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"-mt-2.5","block",3,"color-config","axis-config","color-base","min","max"],["fieldName","min",1,"relative","z-2","-mt-2.5","block",3,"showTrack","labels-above","labels-reverse","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"]],template:function(o,n){if(o&1&&(b(0,"form",0),Xe(1),Z(2,Za,6,29),g()),o&2){w("formGroup",n.formDual),h();let r=Ze(n.colorConfig());h(),O(r?2:-1)}},dependencies:[yt,he,V,se,ie,le,Ko],encapsulation:2})};var Wa=(e,t,o)=>({model:e,variable:t,variableIndex:o});function Ja(e,t){if(e&1){let o=je();b(0,"zz-dual-axis-slider",4),W("minmaxChange",function(r){Me(o);let i=N(2);return xe(i.onVariableChange(r))}),g()}if(e&2){let o=N().$implicit,n=N();w("color-config",n.colorConfig())("value",n.colorBase()[o])("currentColor",n.currentColor())("axis-config",n.axisConfig())}}function Qa(e,t){if(e&1&&R(0,"zz-slider-field",5)(1,"zz-color-axis",6),e&2){let o=N().$implicit,n=Se(0),r=N(),i=Se(2);w("showTrack",!1)("fieldName","v"+o)("min",n.min)("max",n.max)("step",r.componentStep(n.precision))("label",n.name)("defaultValue",n.defaultValue)("showLabel",!0)("labelLength",10)("unit",n.unit)("showValue",!0)("valueLength",9),h(),w("axis-config",r.axisConfig())("color-config",Oo(17,Wa,i.model,n,o))("min",n.min)("max",n.max)("color-base",r.currentColor())}}function Ua(e,t){if(e&1&&(Xe(0),b(1,"div"),Z(2,Ja,1,4,"zz-dual-axis-slider",3)(3,Qa,2,21),g()),e&2){let o=t.$implicit,n=N(),r=Se(2);Ze(r.model.components[o]),h(),U("min-height",70+n.axisConfig().alto,"px"),h(),O(o===r.variableIndex?2:3)}}var Zt=class e{colorConfig=M(void 0,{alias:"color-config"});axisConfig=M(void 0,{alias:"axis-config"});colorBase=M(void 0,{alias:"color-base"});currentColor=Q([0,0,0]);colorChange=new H;rangeChange=new H;indices=[0,1,2];configGroup;constructor(){ze(()=>{let t=this.colorBase();this.configGroup.patchValue({v0:t[0],v1:t[1],v2:t[2]},{emitEvent:!0})})}ngOnInit(){this.configGroup=new ae({v0:new F(this.colorBase()[0],{nonNullable:!0}),v1:new F(this.colorBase()[1],{nonNullable:!0}),v2:new F(this.colorBase()[2],{nonNullable:!0})}),this.configGroup.valueChanges.subscribe(()=>{let{v0:t,v1:o,v2:n}=this.configGroup.value,r=[t,o,n];this.currentColor.set(r),this.colorChange.emit(r)})}onVariableChange(t){this.configGroup.patchValue({["v"+this.colorConfig().variableIndex]:(t[0]+t[1])/2}),this.rangeChange.emit(t)}componentStep(t){return 1/Math.pow(10,t)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-range-selector"]],inputs:{colorConfig:[1,"color-config","colorConfig"],axisConfig:[1,"axis-config","axisConfig"],colorBase:[1,"color-base","colorBase"]},outputs:{colorChange:"colorChange",rangeChange:"rangeChange"},decls:5,vars:2,consts:[["zz-panel","",1,"p-6","h-fit"],[1,"min-w-fit","h-fit",3,"formGroup"],[3,"minHeight"],[1,"block",3,"color-config","value","currentColor","axis-config"],[1,"block",3,"minmaxChange","color-config","value","currentColor","axis-config"],[1,"relative","z-2",3,"showTrack","fieldName","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"mb-2","-mt-2.5","block",3,"axis-config","color-config","min","max","color-base"]],template:function(o,n){o&1&&(b(0,"div",0)(1,"form",1),Xe(2),dt(3,Ua,4,4,"div",2,ft),g()()),o&2&&(h(),w("formGroup",n.configGroup),h(),Ze(n.colorConfig()),h(),pt(n.indices))},dependencies:[yt,Te,se,ie,V,le,Re,he,Xt],encapsulation:2})};var Ka=(e,t)=>({"border-white/40":e,"border-black/40":t}),Wt=class e{colorControl=void 0;value=M(void 0,{alias:"color",transform:t=>{let o=t??"#000000";return typeof o=="string"?o.startsWith("#")?o:`#${o}`:Pr(o)}});colorChange=new H;borderColor=Q("");constructor(){ze(()=>{this.colorControl?.setValue(this.value());let t=at(this.value());this.borderColor.set(t)})}ngOnInit(){let t=at(this.value());this.borderColor.set(t),this.colorControl=new F(this.value())}updateColor(){this.colorChange.emit($r(this.colorControl.value))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-selector"]],inputs:{value:[1,"color","value"]},outputs:{colorChange:"color-change"},decls:1,vars:6,consts:[["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"change","formControl"]],template:function(o,n){o&1&&(b(0,"input",0),W("change",function(){return n.updateColor()}),g()),o&2&&(Po(Ho(3,Ka,n.borderColor()==="white",n.borderColor()==="black")),w("formControl",n.colorControl))},dependencies:[V,wt,Ne,qo],encapsulation:2})};var e0=["swatch"];function t0(e,t){if(e&1&&R(0,"zz-color-values-display",5),e&2){let o=N();w("values",o.rgb())}}var Jt=class e{height=M(120);colorModel=M.required({alias:"color-model"});currentColor=M(void 0,{alias:"color-base"});rgb;newColor=new H;swatchEl;ngOnInit(){this.rgb=ge(()=>Ht(this.colorModel()?.convert(this.currentColor())??"rgb(0, 0, 0)"))}changeColor(t){this.newColor.emit(t)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-sample"]],viewQuery:function(o,n){if(o&1&&$o(e0,7),o&2){let r;ko(r=Vo())&&(n.swatchEl=r.first)}},inputs:{height:[1,"height"],colorModel:[1,"color-model","colorModel"],currentColor:[1,"color-base","currentColor"]},outputs:{newColor:"newColor"},decls:6,vars:8,consts:[["zz-rounded","large",1,"min-w-fit",3,"zz-shadow"],["color-swatch-full","",1,"text-right","p-2",3,"height","color-model","values"],[3,"color-change","color"],[1,"justify-center","w-full","min-h-10","max-h-20","py-2","flex","flex-col","items-center","text-md","dark:bg-gris-800","bg-gris-50","dark:text-gris-100","text-gris-700"],[2,"font-variation-settings","'wght' 450",3,"color-model","values"],[1,"opacity-70",2,"font-size","0.9em","line-height","1rem",3,"values"]],template:function(o,n){o&1&&(b(0,"div",0)(1,"div",1)(2,"zz-color-selector",2),W("color-change",function(i){return n.changeColor(i)}),g()(),b(3,"div",3),R(4,"zz-color-values-display",4),Z(5,t0,1,1,"zz-color-values-display",5),g()()),o&2&&(w("zz-shadow",!0),h(),w("height",n.height())("color-model",n.colorModel())("values",n.currentColor()),h(),w("color",n.rgb()),h(2),w("color-model",n.colorModel())("values",n.currentColor()),h(),O(n.colorModel().name!=="rgb"?5:-1))},dependencies:[V,De,Le,xt,Ie,Wt],encapsulation:2})};var o0=()=>({alto:53,continuo:!0,pasos:60,automatico:!0,showValues:"no"});function n0(e,t){if(e&1){let o=je();b(0,"zz-color-range-selector",8),W("colorChange",function(r){Me(o);let i=N();return xe(i.colorChange(r))})("rangeChange",function(r){Me(o);let i=N();return xe(i.rangeChange(r))}),g(),R(1,"zz-color-axis",9)}if(e&2){let o=N();w("color-config",o.colorConfig())("axis-config",Go(9,o0))("color-base",o.colorBase()),h(),w("color-config",o.colorConfig())("axis-config",o.axisConfig())("color-base",o.currentColor())("showClamp",!0)("min",o.minmax()[0])("max",o.minmax()[1])}}function r0(e,t){if(e&1){let o=je();b(0,"zz-color-sample",10),W("newColor",function(r){Me(o);let i=N();return xe(i.onNewColor(r))}),g()}if(e&2){let o=N();w("height",200)("color-model",o.colorConfig().model)("color-base",o.currentColor())}}var kr=class e{colorConfig=Q(void 0);axisConfig=Q(void 0);colorBase=Q([0,0,0]);minmax=Q([0,0]);currentColor=Q([0,0,0]);configChanged(t){this.axisConfig.set(t)}colorConfigChanged(t){this.colorConfig.set(t),this.minmax.set(t.variable?[t.variable.min,t.variable.max]:[0,0]),this.colorBase.set(t.model?.defaultValues()??[0,0,0]),this.currentColor.set(t.model?.defaultValues()??[0,0,0])}colorChange(t){this.currentColor.set(t)}rangeChange(t){this.minmax.set(t)}onNewColor(t){let o=this.getChannels(t);this.colorBase.set(o),this.currentColor.set(o)}getChannels(t){let o=this.colorConfig()?.model;if(o.name==="rgb")return t;let n=new E(`rgb(${t[0]} ${t[1]} ${t[2]})`).to(o.name),r=this.ensureCoord(n.coords[0],o.components[0]),i=this.ensureCoord(n.coords[1],o.components[1]),a=this.ensureCoord(n.coords[2],o.components[2]);return[r,i,a]}ensureCoord(t,o){let n=Number.isNaN(t)?0:t;return Math.max(0,Math.min(o.max,n))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["zz-color-palette"]],decls:9,vars:2,consts:[[1,"md:grid","md:grid-cols-[minmax(500px,_1fr)_280px]","p-6","items-top","md:gap-6","flex","flex-col-reverse"],[1,"relative","flex","flex-col"],[1,"flex","flex-col-reverse","gap-4","md:flex-col"],[3,"height","color-model","color-base"],[1,"w-full"],[3,"colorConfigChange"],[1,"w-full","md:block","hidden"],[3,"axisConfigChange"],[3,"colorChange","rangeChange","color-config","axis-config","color-base"],[1,"block","p-6","mt-6",3,"color-config","axis-config","color-base","showClamp","min","max"],[3,"newColor","height","color-model","color-base"]],template:function(o,n){o&1&&(b(0,"div",0)(1,"div",1),Z(2,n0,2,10),g(),b(3,"div",2),Z(4,r0,1,3,"zz-color-sample",3),b(5,"div",4)(6,"zz-color-config",5),W("colorConfigChange",function(i){return n.colorConfigChanged(i)}),g()(),b(7,"div",6)(8,"zz-color-axis-config",7),W("axisConfigChange",function(i){return n.configChanged(i)}),g()()()()),o&2&&(h(2),O(n.colorConfig()?2:-1),h(2),O(n.colorConfig()?4:-1))},dependencies:[V,he,Jt,Zt,Yt,qt],encapsulation:2})};export{kr as ColorPaletteComponent};
