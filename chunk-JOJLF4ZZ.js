import{A as Ne,B as Bn,C as Hn,D as $t,E as Bt,F as we,G as U,f as En,g as Ln,h as Tn,i as Rn,n as Fn,o as Ft,p as De,q as et,r as be,s as fe,t as ve,u as Z,v as ye,w as At,x as An,y as $n,z as se}from"./chunk-AX5XJUNJ.js";import{$a as Et,B as Xe,Ba as w,Cb as B,Da as Be,Db as Q,Ga as wn,H as Ze,Ha as N,M as Cn,N as de,Na as xn,Oa as g,Pa as W,Qa as P,Ra as _n,Sa as I,T as M,Ta as ke,Ua as Mn,Va as te,Wa as oe,Xa as d,Ya as f,Z as O,Za as x,_ as j,_a as X,a as ae,b as $e,c as Ye,cb as k,da as It,db as v,eb as Lt,fb as Tt,ga as Ct,gb as Rt,ha as _,hb as Sn,ia as bn,ib as y,ja as $,jb as Je,kb as le,lb as Vn,mb as Ce,nb as We,ob as Qe,pb as Pn,qb as kn,ra as he,rb as Dn,sa as p,sb as Nn,tb as Ue,ub as Eo,va as vn,vb as In,wa as zt,wb as zn,y as Ke,ya as yn}from"./chunk-VPHZUUIH.js";var Ba=["zz-icon-toggle-button",""],Ht=class t{value=yn(!0);toggle=Ct();trueIcon=_("radio_button_checked",{transform:e=>e?.trim()||"radio_button_checked"});falseIcon=_("radio_button_unchecked",{transform:e=>e?.trim()||"radio_button_unchecked"});iconName=B(()=>this.value()?this.trueIcon():this.falseIcon());onClick(e){this.value.update(o=>!o),this.toggle.emit(this.value()),e.stopPropagation()}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["button","zz-icon-toggle-button",""]],hostAttrs:[1,"icon-button"],hostBindings:function(o,n){o&1&&k("click",function(a){return n.onClick(a)})},inputs:{value:[1,"value"],trueIcon:[1,"trueIcon"],falseIcon:[1,"falseIcon"]},outputs:{value:"valueChange",toggle:"toggle"},attrs:Ba,decls:1,vars:1,template:function(o,n){o&1&&y(0),o&2&&le(" ",n.iconName()," ")},encapsulation:2,changeDetection:0})};var Ie=class t{save(e,o){localStorage.setItem(e,JSON.stringify(o))}get(e){let o=localStorage.getItem(e);if(o)try{return JSON.parse(o)}catch(n){return console.error(`Error parsing value for ${e}:`,n),null}return null}delete(e){localStorage.removeItem(e)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};var Gt=class t{store=M(Ie);darkMode=$(this.store.get("darkMode")??this.darkModeSystem());setDarkMode(e){this.darkMode.set(e)}constructor(){Q(()=>this.apply(this.darkMode()))}apply(e){this.store.save("darkMode",e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.querySelector("meta[name='color-scheme']")?.setAttribute("content",e?"dark":"light")}darkModeSystem(){return window.matchMedia("(prefers-color-scheme: dark)").matches}static \u0275fac=function(o){return new(o||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ot=class t{darkModeService=M(Gt);static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-dark-mode-toggle"]],hostAttrs:[1,"h-8","inline-block"],decls:1,vars:1,consts:[["zz-icon-toggle-button","","falseIcon","dark_mode","trueIcon","light_mode",3,"toggle","value"]],template:function(o,n){o&1&&(d(0,"button",0),k("toggle",function(a){return n.darkModeService.setDarkMode(a)}),f()),o&2&&g("value",n.darkModeService.darkMode())},dependencies:[Ht],encapsulation:2,changeDetection:0})};var Se=class t{colorModel=_(void 0,{alias:"color-model"});values=_(void 0);get background(){return this.bgColor()??"black"}bgColor=B(()=>{let e=this.colorModel();if(!e)return;let o=this.values()??[0,0,0];return e.convert([o[0],o[1],o[2]])});static \u0275fac=function(o){return new(o||t)};static \u0275dir=Be({type:t,selectors:[["","color-swatch",""]],hostVars:2,hostBindings:function(o,n){o&2&&W("background-color",n.background)},inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"]}})},Gn=class t{static \u0275fac=function(o){return new(o||t)};static \u0275dir=Be({type:t,selectors:[["","color-swatch-panel",""]],features:[wn([{directive:Se,inputs:["color-model","color-model","values","values"]}])]})};var bt=.001,ne=class{constructor(e,o,n=1,r="",a=100,i=2,s){this.name=e;this.range=o;this.valueStep=n;this.unit=r;this.autoSteps=a;this.templateFn=s?.bind(this)||this.templateFn,n<1&&(this.precision=Math.ceil(Math.log10(1/n))),this.defaultValue=this.average(o),this.axisValues=this.calcAxisValues(o,i)}templateFn=this.template;defaultValue;axisValues;precision=0;convert(e){return this.templateFn(this.clampValue(e))}bestRange(e){let o=On(this.range),n=e>o?this.range.max:e*2-this.range.min;return{min:e<o?this.range.min:e*2-this.range.max,max:n}}calcAxisValues(e,o){let n=(Lo(e)-2*this.valueStep)/(o-1);return Array.from({length:o},(r,a)=>this.valueStep+e.min+a*n)}template(e){return`${En(e,"en-US",`1.0-${this.precision}`)}${this.unit}`}average(e){let o=On(e);return Number.parseFloat(o.toFixed(this.precision))}clampValue(e){return e===void 0?this.defaultValue:Math.max(this.range.min,Math.min(this.range.max,e))}},He=class{constructor(e,o,n=0,r){this.name=e;this.components=o;this.defaultVariableIndex=n;this.templateFn=r?.bind(this)||this.templateFn}templateFn=this.template;template(e){return`${this.name}(${e[0]} ${e[1]} ${e[2]})`}defaultValues(){return[this.components[0].defaultValue,this.components[1].defaultValue,this.components[2].defaultValue]}convert(e){return this.templateFn([this.components[0].convert(e[0]),this.components[1].convert(e[1]),this.components[2].convert(e[2])])}displayValues(e){return this.components.map((o,n)=>({label:o.name.label,value:o.convert(e[n])}))}};function Lo(t){return t.max-t.min}function On(t){return(t.max+t.min)/2}function jn(t,e){return!(t.colorModelName!==e.colorModelName||t.variable.name.caption!==e.variable.name.caption||t.variable.name.label!==e.variable.name.label||!jt(t.color,e.color)||Math.abs(t.range.min-e.range.min)>=bt||Math.abs(t.range.max-e.range.max)>=bt)}function jt(t,e){return Math.abs(t[0]-e[0])<bt&&Math.abs(t[1]-e[1])<bt&&Math.abs(t[2]-e[2])<bt}var tt=[new He("oklch",[new ne({caption:"Lightness",label:"L"},{min:0,max:1},.005,"",35),new ne({caption:"Chroma",label:"C"},{min:0,max:.44},.004,"",20),new ne({caption:"Hue",label:"H"},{min:-180,max:540},1,"",55,9)]),new He("hsl",[new ne({caption:"Hue",label:"H"},{min:-180,max:540},1,"deg",55,9),new ne({caption:"Saturation",label:"S"},{min:0,max:100},1,"%",20),new ne({caption:"Lightness",label:"L"},{min:0,max:100},1,"%",35)],2),new He("rgb",[new ne({caption:"Red",label:"R"},{min:0,max:255},1,"",25),new ne({caption:"Green",label:"G"},{min:0,max:255},1,"",25),new ne({caption:"Blue",label:"B"},{min:0,max:255},1,"",25)]),new He("hex",[new ne({caption:"Red",label:"R"},{min:0,max:255},1,"",25,2,t=>Math.round(t).toString(16).padStart(2,"0").toUpperCase()),new ne({caption:"Green",label:"G"},{min:0,max:255},1,"",25,2,t=>Math.round(t).toString(16).padStart(2,"0").toUpperCase()),new ne({caption:"Blue",label:"B"},{min:0,max:255},1,"",25,2,t=>Math.round(t).toString(16).padStart(2,"0").toUpperCase())],0,t=>`#${t[0]}${t[1]}${t[2]}`)],ce={oklch:tt[0],hsl:tt[1],rgb:tt[2],hex:tt[3]};function Ha(t,e){if(t&1&&x(0,"div",2),t&2){let o=e.$implicit,n=v(2);g("color-model",n.colorModel())("values",o.valores)}}function Ga(t,e){t&1&&(d(0,"div",1),te(1,Ha,1,2,"div",2,ke),f()),t&2&&(W("height",24,"px"),p(),oe(e.swatches))}var qt=class t{palette=_(void 0);colorModel=B(()=>{let e=this.palette()?.model;if(e)return ce[e]});static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-mini-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"height"],[1,"flex","flex-row","justify-between"],["color-swatch","",1,"palette-swatch",3,"color-model","values"]],template:function(o,n){if(o&1&&N(0,Ga,3,2,"div",0),o&2){let r;I((r=n.palette())?0:-1,r)}},dependencies:[Se],encapsulation:2,changeDetection:0})};var Oa=["item"];function ja(t,e){if(t&1){let o=X();d(0,"button",3,0),k("click",function(){let r=O(o).$implicit,a=v();return j(a.paletteClick(r))}),d(2,"div",4)(3,"span",5),y(4),f(),x(5,"zz-mini-palette",6),d(6,"button",7),k("click",function(r){let a=O(o).$index,i=v();return j(i.removePalette(r,a))}),y(7," close "),f()()()}if(t&2){let o=e.$implicit,n=e.$index,r=v();g("disabled",!r.active()),p(4),Je(n+1),p(),g("palette",o.palette),p(),g("disabled",!r.active())}}var Yt=class t{focusedIndex=0;items;active=_(!1);palettes=_([]);paletteSelected=Ct();paletteRemoved=Ct();handleDownEvent(e){this.focusedIndex=Math.min(this.focusedIndex+1,this.items.length-1),this.focusItem()}handleUpEvent(e){this.focusedIndex=Math.max(this.focusedIndex-1,0),this.focusItem()}constructor(){Q(()=>{this.active()&&(this.focusedIndex=0,this.focusItem())})}paletteClick(e){this.paletteSelected.emit(e)}removePalette(e,o){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),this.paletteRemoved.emit(o)}focusItem(){setTimeout(()=>{this.items.toArray()[this.focusedIndex].nativeElement.focus()})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palette-list"]],viewQuery:function(o,n){if(o&1&&Lt(Oa,5),o&2){let r;Tt(r=Rt())&&(n.items=r)}},hostBindings:function(o,n){o&1&&k("keydown.arrowdown",function(a){return n.handleDownEvent(a)},!1,he)("keydown.arrowup",function(a){return n.handleUpEvent(a)},!1,he)},inputs:{active:[1,"active"],palettes:[1,"palettes"]},outputs:{paletteSelected:"paletteSelected",paletteRemoved:"paletteRemoved"},decls:3,vars:0,consts:[["item",""],[1,"h-fit","select-none"],[1,"block","w-full",3,"disabled"],[1,"block","w-full",3,"click","disabled"],[1,"last:pb-3","first:pt-3","transition-colors","duration-150","ease-in-out","flex","items-center","gap-2","group","hover:bg-gris-100/50","dark:hover:bg-gris-900/70","px-2","py-1.5"],[1,"transition-opacity","duration-200","ease-in-out","text-smaller-2","group-hover:opacity-100","opacity-85","block","w-3","text-right"],[1,"block","w-full","cursor-pointer","rounded","overflow-hidden",3,"palette"],["title","Remove palette",1,"-mx-1","icon-button","text-larger","group-hover:opacity-100",3,"click","disabled"]],template:function(o,n){o&1&&(d(0,"div",1),te(1,ja,8,4,"button",2,ke),f()),o&2&&(p(),oe(n.palettes()))},dependencies:[qt],encapsulation:2,changeDetection:0})};var ze=class t{showNotification=$(!1);notificationMessage=$({type:"success",message:""});lastTimeoutId=void 0;abort=void 0;success(e){this.notificationMessage.set({type:"success",message:e??""}),this.setNotification(!0)}warn(e){this.notificationMessage.set({type:"warn",message:e??""}),this.setNotification(!0)}setNotification(e){if(this.showNotification.set(e),this.abort?.abort(),this.showNotification()){this.abort=new AbortController;let o=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:o,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:o,capture:!0}),this.setHideTimeout()}else this.clearHideTimeout()}setHideTimeout(){this.clearHideTimeout(),this.lastTimeoutId=window.setTimeout(()=>{this.setNotification(!1)},1500)}clearHideTimeout(){this.lastTimeoutId&&(clearTimeout(this.lastTimeoutId),this.lastTimeoutId=void 0)}onKeyDown(e){e.key==="Escape"&&this.setNotification(!1)}onClick(e){this.setNotification(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(o){return new(o||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};function To(t,e){return!(!Ya(t.palette,e.palette)||!qa(t.state,e.state))}function qa(t,e){return!(!jn(t.colorConfig,e.colorConfig)||!Za(t.stepsConfig,e.stepsConfig))}function Ya(t,e){return!(t.model!==e.model||!Ka(t.swatches,e.swatches))}function Ka(t,e){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(!Xa(t[o],e[o]))return!1;return!0}function Xa(t,e){return!(!t||!e||!jt(t.valores,e.valores)||!jt(t.rgbValues,e.rgbValues)||t.clamp!==e.clamp)}function Za(t,e){return t.steps===e.steps&&t.automatic===e.automatic}var Ee=class t{store=M(Ie);notificationService=M(ze);saved=$(this.store.get("saved-palettes")??[]);lockedPalette=$(this.store.get("locked-palette")??void 0);lock(e){let o=this.lockedPalette();if(o&&To(o,e)){this.notificationService.warn("Already locked!");return}this.store.save("locked-palette",e),this.lockedPalette.set(e),this.notificationService.success("Palette locked!")}unlock(){this.store.delete("locked-palette"),this.lockedPalette.set(void 0)}remove(e){this.saved.update(o=>{let n=[...o];return n.splice(e,1),n}),this.store.save("saved-palettes",this.saved())}save(e){let o=this.saved().findIndex(n=>To(n,e));if(o>=0){this.notificationService.warn(`Already saved at #${o+1}`);return}this.saved.update(n=>[e,...n].slice(0,10)),this.store.save("saved-palettes",this.saved()),this.notificationService.success("Palette saved!")}static \u0275fac=function(o){return new(o||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};function F(t,e){let o=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(i=>[i]));let n=e[0].length,r=e[0].map((i,s)=>e.map(l=>l[s])),a=t.map(i=>r.map(s=>{let l=0;if(!Array.isArray(i)){for(let c of s)l+=i*c;return l}for(let c=0;c<i.length;c++)l+=i[c]*(s[c]||0);return l}));return o===1&&(a=a[0]),n===1?a.map(i=>i[0]):a}function Mt(t){return Le(t)==="string"}function Le(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function oo(t,{precision:e,unit:o}){return Te(t)?"none":Gr(t,e)+(o??"")}function Te(t){return Number.isNaN(t)||t instanceof Number&&t?.none}function q(t){return Te(t)?0:t}function Gr(t,e){if(t===0)return 0;let o=~~t,n=0;o&&e&&(n=~~Math.log10(Math.abs(o))+1);let r=10**(e-n);return Math.floor(t*r+.5)/r}var Ja={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Or(t){if(!t)return;t=t.trim();let e=/^([a-z]+)\((.+?)\)$/i,o=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,r=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,a=t.match(e);if(a){let i=[];return a[2].replace(r,(s,l)=>{let c=l.match(n),m=l;if(c){let u=c[0],h=m.slice(0,-u.length);u==="%"?(m=new Number(h/100),m.type="<percentage>"):(m=new Number(h*Ja[u]),m.type="<angle>",m.unit=u)}else o.test(m)?(m=new Number(m),m.type="<number>"):m==="none"&&(m=new Number(NaN),m.none=!0);s.startsWith("/")&&(m=m instanceof Number?m:new Number(m),m.alpha=!0),typeof m=="object"&&m instanceof Number&&(m.raw=l),i.push(m)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:i}}}function jr(t){return t[t.length-1]}function wt(t,e,o){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*o}function qr(t,e,o){return(o-t)/(e-t)}function tn(t,e,o){return wt(e[0],e[1],qr(t[0],t[1],o))}function Yr(t){return t.map(e=>e.split("|").map(o=>{o=o.trim();let n=o.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let r=new String(n[1]);return r.range=[+n[2],+n[3]],r}return o}))}function Kr(t,e,o){return Math.max(Math.min(o,e),t)}function io(t,e){return Math.sign(t)===Math.sign(e)?t:-t}function xe(t,e){return io(Math.abs(t)**e,t)}function on(t,e){return e===0?0:t/e}function Xr(t,e,o=0,n=t.length){for(;o<n;){let r=o+n>>1;t[r]<e?o=r+1:n=r}return o}var Wa=Object.freeze({__proto__:null,bisectLeft:Xr,clamp:Kr,copySign:io,interpolate:wt,interpolateInv:qr,isNone:Te,isString:Mt,last:jr,mapRange:tn,multiplyMatrices:F,parseCoordGrammar:Yr,parseFunction:Or,serializeNumber:oo,skipNone:q,spow:xe,toPrecision:Gr,type:Le,zdiv:on}),Yo=class{add(e,o,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(r){this[r]=this[r]||[],o&&this[r][n?"unshift":"push"](o)},this)}run(e,o){this[e]=this[e]||[],this[e].forEach(function(n){n.call(o&&o.context?o.context:o,o)})}},Re=new Yo,pe={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}},re={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Ko(t){return Array.isArray(t)?t:re[t]}function no(t,e,o,n={}){if(t=Ko(t),e=Ko(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return o;let r={W1:t,W2:e,XYZ:o,options:n};if(Re.run("chromatic-adaptation-start",r),r.M||(r.W1===re.D65&&r.W2===re.D50?r.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:r.W1===re.D50&&r.W2===re.D65&&(r.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Re.run("chromatic-adaptation-end",r),r.M)return F(r.M,r.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var Qa=new Set(["<number>","<percentage>","<angle>"]);function qn(t,e,o,n){return Object.entries(t.coords).map(([a,i],s)=>{let l=e.coordGrammar[s],c=n[s],m=c?.type,u;if(c.none?u=l.find(C=>Qa.has(C)):u=l.find(C=>C==m),!u){let C=i.name||a;throw new TypeError(`${m??c.raw} not allowed for ${C} in ${o}()`)}let h=u.range;m==="<percentage>"&&(h||=[0,1]);let S=i.range||i.refRange;return h&&S&&(n[s]=tn(h,S,n[s])),u})}function Zr(t,{meta:e}={}){let o={str:String(t)?.trim()};if(Re.run("parse-start",o),o.color)return o.color;if(o.parsed=Or(o.str),o.parsed){let n=o.parsed.name;if(n==="color"){let r=o.parsed.args.shift(),a=r.startsWith("--")?r.substring(2):`--${r}`,i=[r,a],s=o.parsed.rawArgs.indexOf("/")>0?o.parsed.args.pop():1;for(let m of b.all){let u=m.getFormat("color");if(u&&(i.includes(u.id)||u.ids?.filter(h=>i.includes(h)).length)){let h=Object.keys(m.coords).map((C,D)=>o.parsed.args[D]||0),S;return u.coordGrammar&&(S=qn(m,u,"color",h)),e&&Object.assign(e,{formatId:"color",types:S}),u.id.startsWith("--")&&!r.startsWith("--")&&pe.warn(`${m.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${u.id}) instead of color(${r}).`),r.startsWith("--")&&!u.id.startsWith("--")&&pe.warn(`${m.name} is a standard space and supported in the CSS spec. Use color(${u.id}) instead of prefixed color(${r}).`),{spaceId:m.id,coords:h,alpha:s}}}let l="",c=r in b.registry?r:a;if(c in b.registry){let m=b.registry[c].formats?.color?.id;m&&(l=`Did you mean color(${m})?`)}throw new TypeError(`Cannot parse color(${r}). `+(l||"Missing a plugin?"))}else for(let r of b.all){let a=r.getFormat(n);if(a&&a.type==="function"){let i=1;(a.lastAlpha||jr(o.parsed.args).alpha)&&(i=o.parsed.args.pop());let s=o.parsed.args,l;return a.coordGrammar&&(l=qn(r,a,n,s)),e&&Object.assign(e,{formatId:a.name,types:l}),{spaceId:r.id,coords:s,alpha:i}}}}else for(let n of b.all)for(let r in n.formats){let a=n.formats[r];if(a.type!=="custom"||a.test&&!a.test(o.str))continue;let i=a.parse(o.str);if(i)return i.alpha??=1,e&&(e.formatId=r),i}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function V(t){if(Array.isArray(t))return t.map(V);if(!t)throw new TypeError("Empty color reference");Mt(t)&&(t=Zr(t));let e=t.space||t.spaceId;return e instanceof b||(t.space=b.get(e)),t.alpha===void 0&&(t.alpha=1),t}var Ua=75e-6,b=(()=>{class t{constructor(o){this.id=o.id,this.name=o.name,this.base=o.base?t.get(o.base):null,this.aliases=o.aliases,this.base&&(this.fromBase=o.fromBase,this.toBase=o.toBase);let n=o.coords??this.base.coords;for(let a in n)"name"in n[a]||(n[a].name=a);this.coords=n;let r=o.white??this.base.white??"D65";this.white=Ko(r),this.formats=o.formats??{};for(let a in this.formats){let i=this.formats[a];i.type||="function",i.name||=a}this.formats.color?.id||(this.formats.color=$e(ae({},this.formats.color??{}),{id:o.cssId||this.id})),o.gamutSpace?this.gamutSpace=o.gamutSpace==="self"?this:t.get(o.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(a,i)=>!0),this.referred=o.referred,Object.defineProperty(this,"path",{value:ei(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Re.run("colorspace-init-end",this)}inGamut(o,{epsilon:n=Ua}={}){if(!this.equals(this.gamutSpace))return o=this.to(this.gamutSpace,o),this.gamutSpace.inGamut(o,{epsilon:n});let r=Object.values(this.coords);return o.every((a,i)=>{let s=r[i];if(s.type!=="angle"&&s.range){if(Number.isNaN(a))return!0;let[l,c]=s.range;return(l===void 0||a>=l-n)&&(c===void 0||a<=c+n)}return!0})}get isUnbounded(){return Object.values(this.coords).every(o=>!("range"in o))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let o in this.coords)if(this.coords[o].type==="angle")return!0;return!1}getFormat(o){if(typeof o=="object")return o=Yn(o,this),o;let n;return o==="default"?n=Object.values(this.formats)[0]:n=this.formats[o],n?(n=Yn(n,this),n):null}equals(o){return o?this===o||this.id===o||this.id===o.id:!1}to(o,n){if(arguments.length===1){let l=V(o);[o,n]=[l.space,l.coords]}if(o=t.get(o),this.equals(o))return n;n=n.map(l=>Number.isNaN(l)?0:l);let r=this.path,a=o.path,i,s;for(let l=0;l<r.length&&r[l].equals(a[l]);l++)i=r[l],s=l;if(!i)throw new Error(`Cannot convert between color spaces ${this} and ${o}: no connection space was found`);for(let l=r.length-1;l>s;l--)n=r[l].toBase(n);for(let l=s+1;l<a.length;l++)n=a[l].fromBase(n);return n}from(o,n){if(arguments.length===1){let r=V(o);[o,n]=[r.space,r.coords]}return o=t.get(o),o.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let o=[];for(let n in this.coords){let r=this.coords[n],a=r.range||r.refRange;o.push(a?.min??0)}return o}static registry={};static get all(){return[...new Set(Object.values(t.registry))]}static register(o,n){if(arguments.length===1&&(n=arguments[0],o=n.id),n=this.get(n),this.registry[o]&&this.registry[o]!==n)throw new Error(`Duplicate color space registration: '${o}'`);if(this.registry[o]=n,arguments.length===1&&n.aliases)for(let r of n.aliases)this.register(r,n);return n}static get(o,...n){if(!o||o instanceof t)return o;if(Le(o)==="string"){let a=t.registry[o.toLowerCase()];if(!a)throw new TypeError(`No color space found with id = "${o}"`);return a}if(n.length)return t.get(...n);throw new TypeError(`${o} is not a valid color space`)}static resolveCoord(o,n){let r=Le(o),a,i;if(r==="string"?o.includes(".")?[a,i]=o.split("."):[a,i]=[,o]:Array.isArray(o)?[a,i]=o:(a=o.space,i=o.coordId),a=t.get(a),a||(a=n),!a)throw new TypeError(`Cannot resolve coordinate reference ${o}: No color space specified and relative references are not allowed here`);if(r=Le(i),r==="number"||r==="string"&&i>=0){let c=Object.entries(a.coords)[i];if(c)return ae({space:a,id:c[0],index:i},c[1])}a=t.get(a);let s=i.toLowerCase(),l=0;for(let c in a.coords){let m=a.coords[c];if(c.toLowerCase()===s||m.name?.toLowerCase()===s)return ae({space:a,id:c,index:l},m);l++}throw new TypeError(`No "${i}" coordinate found in ${a.name}. Its coordinates are: ${Object.keys(a.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}return t})();function ei(t){let e=[t];for(let o=t;o=o.base;)e.push(o);return e}function Yn(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||="function",t.name||="color",t.coordGrammar=Yr(t.coords);let o=Object.entries(e).map(([n,r],a)=>{let i=t.coordGrammar[a][0],s=r.range||r.refRange,l=i.range,c="";return i=="<percentage>"?(l=[0,100],c="%"):i=="<angle>"&&(c="deg"),{fromRange:s,toRange:l,suffix:c}});t.serializeCoords=(n,r)=>n.map((a,i)=>{let{fromRange:s,toRange:l,suffix:c}=o[i];return s&&l&&(a=tn(s,l,a)),a=oo(a,{precision:r,unit:c}),a})}return t}var J=new b({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),ee=class extends b{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=J),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??=o=>{let n=F(e.toXYZ_M,o);return this.white!==this.base.white&&(n=no(this.white,this.base.white,n)),n},e.fromBase??=o=>(o=no(this.base.white,this.white,o),F(e.fromXYZ_M,o))),e.referred??="display",super(e)}};function St(t,e){return t=V(t),!e||t.space.equals(e)?t.coords.slice():(e=b.get(e),e.from(t))}function ue(t,e){t=V(t);let{space:o,index:n}=b.resolveCoord(e,t.space);return St(t,o)[n]}function nn(t,e,o){return t=V(t),e=b.get(e),t.coords=e.to(t.space,o),t}nn.returns="color";function Ve(t,e,o){if(t=V(t),arguments.length===2&&Le(arguments[1])==="object"){let n=arguments[1];for(let r in n)Ve(t,r,n[r])}else{typeof o=="function"&&(o=o(ue(t,e)));let{space:n,index:r}=b.resolveCoord(e,t.space),a=St(t,n);a[r]=o,nn(t,n,a)}return t}Ve.returns="color";var rn=new b({id:"xyz-d50",name:"XYZ D50",white:"D50",base:J,fromBase:t=>no(J.white,"D50",t),toBase:t=>no("D50",J.white,t)}),ti=216/24389,Kn=24/116,Kt=24389/27,Ro=re.D50,me=new b({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Ro,base:rn,fromBase(t){let o=t.map((n,r)=>n/Ro[r]).map(n=>n>ti?Math.cbrt(n):(Kt*n+16)/116);return[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>Kn?Math.pow(e[0],3):(116*e[0]-16)/Kt,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Kt,e[2]>Kn?Math.pow(e[2],3):(116*e[2]-16)/Kt].map((n,r)=>n*Ro[r])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function _e(t){return(t%360+360)%360}function oi(t,e){if(t==="raw")return e;let[o,n]=e.map(_e),r=n-o;return t==="increasing"?r<0&&(n+=360):t==="decreasing"?r>0&&(o+=360):t==="longer"?-180<r&&r<180&&(r>0?o+=360:n+=360):t==="shorter"&&(r>180?o+=360:r<-180&&(n+=360)),[o,n]}var xt=new b({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:me,fromBase(t){let[e,o,n]=t,r,a=.02;return Math.abs(o)<a&&Math.abs(n)<a?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[e,Math.sqrt(o**2+n**2),_e(r)]},toBase(t){let[e,o,n]=t;return o<0&&(o=0),isNaN(n)&&(n=0),[e,o*Math.cos(n*Math.PI/180),o*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),Xn=25**7,ro=Math.PI,Zn=180/ro,ot=ro/180;function Jn(t){let e=t*t;return e*e*e*t}function Jr(t,e,{kL:o=1,kC:n=1,kH:r=1}={}){[t,e]=V([t,e]);let[a,i,s]=me.from(t),l=xt.from(me,[a,i,s])[1],[c,m,u]=me.from(e),h=xt.from(me,[c,m,u])[1];l<0&&(l=0),h<0&&(h=0);let S=(l+h)/2,C=Jn(S),D=.5*(1-Math.sqrt(C/(C+Xn))),E=(1+D)*i,H=(1+D)*m,L=Math.sqrt(E**2+s**2),G=Math.sqrt(H**2+u**2),ie=E===0&&s===0?0:Math.atan2(s,E),Pe=H===0&&u===0?0:Math.atan2(u,H);ie<0&&(ie+=2*ro),Pe<0&&(Pe+=2*ro),ie*=Zn,Pe*=Zn;let kt=c-a,Dt=G-L,ge=Pe-ie,ft=ie+Pe,mn=Math.abs(ge),ht;L*G===0?ht=0:mn<=180?ht=ge:ge>180?ht=ge-360:ge<-180?ht=ge+360:pe.warn("the unthinkable has happened");let pn=2*Math.sqrt(G*L)*Math.sin(ht*ot/2),Ta=(a+c)/2,zo=(L+G)/2,dn=Jn(zo),Me;L*G===0?Me=ft:mn<=180?Me=ft/2:ft<360?Me=(ft+360)/2:Me=(ft-360)/2;let fn=(Ta-50)**2,Ra=1+.015*fn/Math.sqrt(20+fn),hn=1+.045*zo,gt=1;gt-=.17*Math.cos((Me-30)*ot),gt+=.24*Math.cos(2*Me*ot),gt+=.32*Math.cos((3*Me+6)*ot),gt-=.2*Math.cos((4*Me-63)*ot);let gn=1+.015*zo*gt,Fa=30*Math.exp(-1*((Me-275)/25)**2),Aa=2*Math.sqrt(dn/(dn+Xn)),$a=-1*Math.sin(2*Fa*ot)*Aa,Nt=(kt/(o*Ra))**2;return Nt+=(Dt/(n*hn))**2,Nt+=(pn/(r*gn))**2,Nt+=$a*(Dt/(n*hn))*(pn/(r*gn)),Math.sqrt(Nt)}var ni=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],ri=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],ai=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],ii=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],it=new b({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:J,fromBase(t){let o=F(ni,t).map(n=>Math.cbrt(n));return F(ai,o)},toBase(t){let o=F(ii,t).map(n=>n**3);return F(ri,o)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Xo(t,e){[t,e]=V([t,e]);let[o,n,r]=it.from(t),[a,i,s]=it.from(e),l=o-a,c=n-i,m=r-s;return Math.sqrt(l**2+c**2+m**2)}var li=75e-6;function Oe(t,e,{epsilon:o=li}={}){t=V(t),e||(e=t.space),e=b.get(e);let n=t.coords;return e!==t.space&&(n=e.from(t)),e.inGamut(n,{epsilon:o})}function lt(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function Wr(t,e,o="lab"){o=b.get(o);let n=o.from(t),r=o.from(e);return Math.sqrt(n.reduce((a,i,s)=>{let l=r[s];return isNaN(i)||isNaN(l)?a:a+(l-i)**2},0))}function si(t,e){return Wr(t,e,"lab")}var ci=Math.PI,Wn=ci/180;function ui(t,e,{l:o=2,c:n=1}={}){[t,e]=V([t,e]);let[r,a,i]=me.from(t),[,s,l]=xt.from(me,[r,a,i]),[c,m,u]=me.from(e),h=xt.from(me,[c,m,u])[1];s<0&&(s=0),h<0&&(h=0);let S=r-c,C=s-h,D=a-m,E=i-u,H=D**2+E**2-C**2,L=.511;r>=16&&(L=.040975*r/(1+.01765*r));let G=.0638*s/(1+.0131*s)+.638,ie;Number.isNaN(l)&&(l=0),l>=164&&l<=345?ie=.56+Math.abs(.2*Math.cos((l+168)*Wn)):ie=.36+Math.abs(.4*Math.cos((l+35)*Wn));let Pe=Math.pow(s,4),kt=Math.sqrt(Pe/(Pe+1900)),Dt=G*(kt*ie+1-kt),ge=(S/(o*L))**2;return ge+=(C/(n*G))**2,ge+=H/Dt**2,Math.sqrt(ge)}var Qn=203,an=new b({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:J,fromBase(t){return t.map(e=>Math.max(e*Qn,0))},toBase(t){return t.map(e=>Math.max(e/Qn,0))}}),Xt=1.15,Zt=.66,Un=2610/2**14,mi=2**14/2610,er=3424/2**12,tr=2413/2**7,or=2392/2**7,pi=1.7*2523/2**5,nr=2**5/(1.7*2523),Jt=-.56,Fo=16295499532821565e-27,di=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],fi=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],hi=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],gi=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],Qr=new b({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:an,fromBase(t){let[e,o,n]=t,r=Xt*e-(Xt-1)*n,a=Zt*o-(Zt-1)*e,s=F(di,[r,a,n]).map(function(h){let S=er+tr*(h/1e4)**Un,C=1+or*(h/1e4)**Un;return(S/C)**pi}),[l,c,m]=F(hi,s);return[(1+Jt)*l/(1+Jt*l)-Fo,c,m]},toBase(t){let[e,o,n]=t,r=(e+Fo)/(1+Jt-Jt*(e+Fo)),i=F(gi,[r,o,n]).map(function(h){let S=er-h**nr,C=or*h**nr-tr;return 1e4*(S/C)**mi}),[s,l,c]=F(fi,i),m=(s+(Xt-1)*c)/Xt,u=(l+(Zt-1)*m)/Zt;return[m,u,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Zo=new b({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Qr,fromBase(t){let[e,o,n]=t,r,a=2e-4;return Math.abs(o)<a&&Math.abs(n)<a?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[e,Math.sqrt(o**2+n**2),_e(r)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]}});function Ci(t,e){[t,e]=V([t,e]);let[o,n,r]=Zo.from(t),[a,i,s]=Zo.from(e),l=o-a,c=n-i;Number.isNaN(r)&&Number.isNaN(s)?(r=0,s=0):Number.isNaN(r)?r=s:Number.isNaN(s)&&(s=r);let m=r-s,u=2*Math.sqrt(n*i)*Math.sin(m/2*(Math.PI/180));return Math.sqrt(l**2+c**2+u**2)}var Ur=3424/4096,ea=2413/128,ta=2392/128,rr=2610/16384,bi=2523/32,vi=16384/2610,ar=32/2523,yi=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],wi=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],xi=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],_i=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Jo=new b({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:an,fromBase(t){let e=F(yi,t);return Mi(e)},toBase(t){let e=Si(t);return F(_i,e)}});function Mi(t){let e=t.map(function(o){let n=Ur+ea*(o/1e4)**rr,r=1+ta*(o/1e4)**rr;return(n/r)**bi});return F(wi,e)}function Si(t){return F(xi,t).map(function(n){let r=Math.max(n**ar-Ur,0),a=ea-ta*n**ar;return 1e4*(r/a)**vi})}function Vi(t,e){[t,e]=V([t,e]);let[o,n,r]=Jo.from(t),[a,i,s]=Jo.from(e);return 720*Math.sqrt((o-a)**2+.25*(n-i)**2+(r-s)**2)}var Pi=re.D65,oa=.42,ir=1/oa,Ao=2*Math.PI,na=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],ki=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Di=[[460,451,288],[460,-891,-261],[460,-220,-6300]],Ni={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Ge={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Ii=180/Math.PI,lr=Math.PI/180;function ra(t,e){return t.map(n=>{let r=xe(e*Math.abs(n)*.01,oa);return 400*io(r,n)/(r+27.13)})}function zi(t,e){let o=100/e*27.13**ir;return t.map(n=>{let r=Math.abs(n);return io(o*xe(r/(400-r),ir),n)})}function Ei(t){let e=_e(t);e<=Ge.h[0]&&(e+=360);let o=Xr(Ge.h,e)-1,[n,r]=Ge.h.slice(o,o+2),[a,i]=Ge.e.slice(o,o+2),s=Ge.H[o],l=(e-n)/a;return s+100*l/(l+(r-e)/i)}function Li(t){let e=(t%400+400)%400,o=Math.floor(.01*e);e=e%100;let[n,r]=Ge.h.slice(o,o+2),[a,i]=Ge.e.slice(o,o+2);return _e((e*(i*n-a*r)-100*n*i)/(e*(i-a)-100*i))}function aa(t,e,o,n,r){let a={};a.discounting=r,a.refWhite=t,a.surround=n;let i=t.map(D=>D*100);a.la=e,a.yb=o;let s=i[1],l=F(na,i);n=Ni[a.surround];let c=n[0];a.c=n[1],a.nc=n[2];let u=(1/(5*a.la+1))**4;a.fl=u*a.la+.1*(1-u)*(1-u)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/s,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;let h=r?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=l.map(D=>wt(1,s/D,h)),a.dRgbInv=a.dRgb.map(D=>1/D);let S=l.map((D,E)=>D*a.dRgb[E]),C=ra(S,a.fl);return a.aW=a.nbb*(2*C[0]+C[1]+.05*C[2]),a}var sr=aa(Pi,64/Math.PI*.2,20,"average",!1);function Wo(t,e){if(!(t.J!==void 0^t.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(t.C!==void 0^t.M!==void 0^t.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(t.h!==void 0^t.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(t.J===0||t.Q===0)return[0,0,0];let o=0;t.h!==void 0?o=_e(t.h)*lr:o=Li(t.H)*lr;let n=Math.cos(o),r=Math.sin(o),a=0;t.J!==void 0?a=xe(t.J,1/2)*.1:t.Q!==void 0&&(a=.25*e.c*t.Q/((e.aW+4)*e.flRoot));let i=0;t.C!==void 0?i=t.C/a:t.M!==void 0?i=t.M/e.flRoot/a:t.s!==void 0&&(i=4e-4*t.s**2*(e.aW+4)/e.c);let s=xe(i*Math.pow(1.64-Math.pow(.29,e.n),-.73),10/9),l=.25*(Math.cos(o+2)+3.8),c=e.aW*xe(a,2/e.c/e.z),m=5e4/13*e.nc*e.ncb*l,u=c/e.nbb,h=23*(u+.305)*on(s,23*m+s*(11*n+108*r)),S=h*n,C=h*r,D=zi(F(Di,[u,S,C]).map(E=>E*1/1403),e.fl);return F(ki,D.map((E,H)=>E*e.dRgbInv[H])).map(E=>E/100)}function ia(t,e){let o=t.map(G=>G*100),n=ra(F(na,o).map((G,ie)=>G*e.dRgb[ie]),e.fl),r=n[0]+(-12*n[1]+n[2])/11,a=(n[0]+n[1]-2*n[2])/9,i=(Math.atan2(a,r)%Ao+Ao)%Ao,s=.25*(Math.cos(i+2)+3.8),l=5e4/13*e.nc*e.ncb*on(s*Math.sqrt(r**2+a**2),n[0]+n[1]+1.05*n[2]+.305),c=xe(l,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),m=e.nbb*(2*n[0]+n[1]+.05*n[2]),u=xe(m/e.aW,.5*e.c*e.z),h=100*xe(u,2),S=4/e.c*u*(e.aW+4)*e.flRoot,C=c*u,D=C*e.flRoot,E=_e(i*Ii),H=Ei(E),L=50*xe(e.c*c/(e.aW+4),1/2);return{J:h,C,h:E,s:L,Q:S,M:D,H}}var Ti=new b({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:J,fromBase(t){let e=ia(t,sr);return[e.J,e.M,e.h]},toBase(t){return Wo({J:t[0],M:t[1],h:t[2]},sr)}}),Ri=re.D65,Fi=216/24389,la=24389/27;function Ai(t){return 116*(t>Fi?Math.cbrt(t):(la*t+16)/116)-16}function Qo(t){return t>8?Math.pow((t+16)/116,3):t/la}function $i(t,e){let[o,n,r]=t,a=[],i=0;if(r===0)return[0,0,0];let s=Qo(r);r>0?i=.00379058511492914*r**2+.608983189401032*r+.9155088574762233:i=9514440756550361e-21*r**2+.08693057439788597*r-21.928975842194614;let l=2e-12,c=15,m=0,u=1/0;for(;m<=c;){a=Wo({J:i,C:n,h:o},e);let h=Math.abs(a[1]-s);if(h<u){if(h<=l)return a;u=h}i=i-(a[1]-s)*i/(2*a[1]),m+=1}return Wo({J:i,C:n,h:o},e)}function Bi(t,e){let o=Ai(t[1]);if(o===0)return[0,0,0];let n=ia(t,ln);return[_e(n.h),n.C,o]}var ln=aa(Ri,200/Math.PI*Qo(50),Qo(50)*100,"average",!1),_t=new b({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:J,fromBase(t){return Bi(t)},toBase(t){return $i(t,ln)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Hi=Math.PI/180,cr=[1,.007,.0228];function ur(t){t[1]<0&&(t=_t.fromBase(_t.toBase(t)));let e=Math.log(Math.max(1+cr[2]*t[1]*ln.flRoot,1))/cr[2],o=t[0]*Hi,n=e*Math.cos(o),r=e*Math.sin(o);return[t[2],n,r]}function Gi(t,e){[t,e]=V([t,e]);let[o,n,r]=ur(_t.from(t)),[a,i,s]=ur(_t.from(e));return Math.sqrt((o-a)**2+(n-i)**2+(r-s)**2)}var st={deltaE76:si,deltaECMC:ui,deltaE2000:Jr,deltaEJz:Ci,deltaEITP:Vi,deltaEOK:Xo,deltaEHCT:Gi};function Oi(t){let e=t?Math.floor(Math.log10(Math.abs(t))):0;return Math.max(parseFloat(`1e${e-2}`),1e-6)}var mr={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Fe(t,{method:e=pe.gamut_mapping,space:o=void 0,deltaEMethod:n="",jnd:r=2,blackWhiteClamp:a={}}={}){if(t=V(t),Mt(arguments[1])?o=arguments[1]:o||(o=t.space),o=b.get(o),Oe(t,o,{epsilon:0}))return t;let i;if(e==="css")i=ji(t,{space:o});else{if(e!=="clip"&&!Oe(t,o)){Object.prototype.hasOwnProperty.call(mr,e)&&({method:e,jnd:r,deltaEMethod:n,blackWhiteClamp:a}=mr[e]);let s=Jr;if(n!==""){for(let c in st)if("deltae"+n.toLowerCase()===c.toLowerCase()){s=st[c];break}}let l=Fe(R(t,o),{method:"clip",space:o});if(s(t,l)>r){if(Object.keys(a).length===3){let L=b.resolveCoord(a.channel),G=ue(R(t,L.space),L.id);if(Te(G)&&(G=0),G>=a.max)return R({space:"xyz-d65",coords:re.D65},t.space);if(G<=a.min)return R({space:"xyz-d65",coords:[0,0,0]},t.space)}let c=b.resolveCoord(e),m=c.space,u=c.id,h=R(t,m);h.coords.forEach((L,G)=>{Te(L)&&(h.coords[G]=0)});let C=(c.range||c.refRange)[0],D=Oi(r),E=C,H=ue(h,u);for(;H-E>D;){let L=lt(h);L=Fe(L,{space:o,method:"clip"}),s(h,L)-r<D?E=ue(h,u):H=ue(h,u),Ve(h,u,(E+H)/2)}i=R(h,o)}else i=l}else i=R(t,o);if(e==="clip"||!Oe(i,o,{epsilon:0})){let s=Object.values(o.coords).map(l=>l.range||[]);i.coords=i.coords.map((l,c)=>{let[m,u]=s[c];return m!==void 0&&(l=Math.max(m,l)),u!==void 0&&(l=Math.min(l,u)),l})}}return o!==t.space&&(i=R(i,t.space)),t.coords=i.coords,t}Fe.returns="color";var pr={WHITE:{space:it,coords:[1,0,0]},BLACK:{space:it,coords:[0,0,0]}};function ji(t,{space:e}={}){t=V(t),e||(e=t.space),e=b.get(e);let r=b.get("oklch");if(e.isUnbounded)return R(t,e);let a=R(t,r),i=a.coords[0];if(i>=1){let C=R(pr.WHITE,e);return C.alpha=t.alpha,R(C,e)}if(i<=0){let C=R(pr.BLACK,e);return C.alpha=t.alpha,R(C,e)}if(Oe(a,e,{epsilon:0}))return R(a,e);function s(C){let D=R(C,e),E=Object.values(e.coords);return D.coords=D.coords.map((H,L)=>{if("range"in E[L]){let[G,ie]=E[L].range;return Kr(G,H,ie)}return H}),D}let l=0,c=a.coords[1],m=!0,u=lt(a),h=s(u),S=Xo(h,u);if(S<.02)return h;for(;c-l>1e-4;){let C=(l+c)/2;if(u.coords[1]=C,m&&Oe(u,e,{epsilon:0}))l=C;else if(h=s(u),S=Xo(h,u),S<.02){if(.02-S<1e-4)break;m=!1,l=C}else c=C}return h}function R(t,e,{inGamut:o}={}){t=V(t),e=b.get(e);let n=e.from(t),r={space:e,coords:n,alpha:t.alpha};return o&&(r=Fe(r,o===!0?void 0:o)),r}R.returns="color";function yt(t,a={}){var i=a,{precision:e=pe.precision,format:o="default",inGamut:n=!0}=i,r=Ye(i,["precision","format","inGamut"]);let s;t=V(t);let l=o;o=t.space.getFormat(o)??t.space.getFormat("default")??b.DEFAULT_FORMAT;let c=t.coords.slice();if(n||=o.toGamut,n&&!Oe(t)&&(c=Fe(lt(t),n===!0?void 0:n).coords),o.type==="custom")if(r.precision=e,o.serialize)s=o.serialize(c,t.alpha,r);else throw new TypeError(`format ${l} can only be used to parse colors, not for serialization`);else{let m=o.name||"color";o.serializeCoords?c=o.serializeCoords(c,e):e!==null&&(c=c.map(C=>oo(C,{precision:e})));let u=[...c];if(m==="color"){let C=o.id||o.ids?.[0]||t.space.id;u.unshift(C)}let h=t.alpha;e!==null&&(h=oo(h,{precision:e}));let S=t.alpha>=1||o.noAlpha?"":`${o.commas?",":" /"} ${h}`;s=`${m}(${u.join(o.commas?", ":" ")}${S})`}return s}var qi=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Yi=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],lo=new ee({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:qi,fromXYZ_M:Yi}),Wt=1.09929682680944,dr=.018053968510807,sa=new ee({id:"rec2020",name:"REC.2020",base:lo,toBase(t){return t.map(function(e){return e<dr*4.5?e/4.5:Math.pow((e+Wt-1)/Wt,1/.45)})},fromBase(t){return t.map(function(e){return e>=dr?Wt*Math.pow(e,.45)-(Wt-1):4.5*e})}}),Ki=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Xi=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],ca=new ee({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:Ki,fromXYZ_M:Xi}),Zi=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],K=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],ua=new ee({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:Zi,fromXYZ_M:K}),fr={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},hr=Array(3).fill("<percentage> | <number>[0, 255]"),gr=Array(3).fill("<number>[0, 255]"),ct=new ee({id:"srgb",name:"sRGB",base:ua,fromBase:t=>t.map(e=>{let o=e<0?-1:1,n=e*o;return n>.0031308?o*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let o=e<0?-1:1,n=e*o;return n<=.04045?e/12.92:o*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:hr},rgb_number:{name:"rgb",commas:!0,coords:gr,noAlpha:!0},color:{},rgba:{coords:hr,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:gr},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,o=>{e.push(parseInt(o,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:o=!0}={})=>{e<1&&t.push(e),t=t.map(a=>Math.round(a*255));let n=o&&t.every(a=>a%17===0);return"#"+t.map(a=>n?(a/17).toString(16):a.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=fr.black,e.alpha=0):e.coords=fr[t],e.coords)return e}}}}),ma=new ee({id:"p3",cssId:"display-p3",name:"P3",base:ca,fromBase:ct.fromBase,toBase:ct.toBase});pe.display_space=ct;var Ji;if(typeof CSS<"u"&&CSS.supports)for(let t of[me,sa,ma]){let e=t.getMinCoords(),n=yt({space:t,coords:e,alpha:1});if(CSS.supports("color",n)){pe.display_space=t;break}}function Wi(t,n={}){var r=n,{space:e=pe.display_space}=r,o=Ye(r,["space"]);let a=yt(t,o);if(typeof CSS>"u"||CSS.supports("color",a)||!pe.display_space)a=new String(a),a.color=t;else{let i=t;if((t.coords.some(Te)||Te(t.alpha))&&!(Ji??=CSS.supports("color","hsl(none 50% 50%)"))&&(i=lt(t),i.coords=i.coords.map(q),i.alpha=q(i.alpha),a=yt(i,o),CSS.supports("color",a)))return a=new String(a),a.color=i,a;i=R(i,e),a=new String(yt(i,o)),a.color=i}return a}function Qi(t,e){return t=V(t),e=V(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((o,n)=>o===e.coords[n])}function Ae(t){return ue(t,[J,"y"])}function pa(t,e){Ve(t,[J,"y"],e)}function Ui(t){Object.defineProperty(t.prototype,"luminance",{get(){return Ae(this)},set(e){pa(this,e)}})}var el=Object.freeze({__proto__:null,getLuminance:Ae,register:Ui,setLuminance:pa});function tl(t,e){t=V(t),e=V(e);let o=Math.max(Ae(t),0),n=Math.max(Ae(e),0);return n>o&&([o,n]=[n,o]),(o+.05)/(n+.05)}var ol=.56,nl=.57,rl=.62,al=.65,Cr=.022,il=1.414,ll=.1,sl=5e-4,cl=1.14,br=.027,ul=1.14;function vr(t){return t>=Cr?t:t+(Cr-t)**il}function nt(t){let e=t<0?-1:1,o=Math.abs(t);return e*Math.pow(o,2.4)}function ml(t,e){e=V(e),t=V(t);let o,n,r,a,i,s;e=R(e,"srgb"),[a,i,s]=e.coords;let l=nt(a)*.2126729+nt(i)*.7151522+nt(s)*.072175;t=R(t,"srgb"),[a,i,s]=t.coords;let c=nt(a)*.2126729+nt(i)*.7151522+nt(s)*.072175,m=vr(l),u=vr(c),h=u>m;return Math.abs(u-m)<sl?n=0:h?(o=u**ol-m**nl,n=o*cl):(o=u**al-m**rl,n=o*ul),Math.abs(n)<ll?r=0:n>0?r=n-br:r=n+br,r*100}function pl(t,e){t=V(t),e=V(e);let o=Math.max(Ae(t),0),n=Math.max(Ae(e),0);n>o&&([o,n]=[n,o]);let r=o+n;return r===0?0:(o-n)/r}var dl=5e4;function fl(t,e){t=V(t),e=V(e);let o=Math.max(Ae(t),0),n=Math.max(Ae(e),0);return n>o&&([o,n]=[n,o]),n===0?dl:(o-n)/n}function hl(t,e){t=V(t),e=V(e);let o=ue(t,[me,"l"]),n=ue(e,[me,"l"]);return Math.abs(o-n)}var gl=216/24389,yr=24/116,Qt=24389/27,$o=re.D65,Uo=new b({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:$o,base:J,fromBase(t){let o=t.map((n,r)=>n/$o[r]).map(n=>n>gl?Math.cbrt(n):(Qt*n+16)/116);return[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>yr?Math.pow(e[0],3):(116*e[0]-16)/Qt,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Qt,e[2]>yr?Math.pow(e[2],3):(116*e[2]-16)/Qt].map((n,r)=>n*$o[r])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Bo=Math.pow(5,.5)*.5+.5;function Cl(t,e){t=V(t),e=V(e);let o=ue(t,[Uo,"l"]),n=ue(e,[Uo,"l"]),r=Math.abs(Math.pow(o,Bo)-Math.pow(n,Bo)),a=Math.pow(r,1/Bo)*Math.SQRT2-40;return a<7.5?0:a}var to=Object.freeze({__proto__:null,contrastAPCA:ml,contrastDeltaPhi:Cl,contrastLstar:hl,contrastMichelson:pl,contrastWCAG21:tl,contrastWeber:fl});function bl(t,e,o={}){Mt(o)&&(o={algorithm:o});let a=o,{algorithm:n}=a,r=Ye(a,["algorithm"]);if(!n){let i=Object.keys(to).map(s=>s.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${i}`)}t=V(t),e=V(e);for(let i in to)if("contrast"+n.toLowerCase()===i.toLowerCase())return to[i](t,e,r);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function so(t){let[e,o,n]=St(t,J),r=e+15*o+3*n;return[4*e/r,9*o/r]}function da(t){let[e,o,n]=St(t,J),r=e+o+n;return[e/r,o/r]}function vl(t){Object.defineProperty(t.prototype,"uv",{get(){return so(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return da(this)}})}var yl=Object.freeze({__proto__:null,register:vl,uv:so,xy:da});function vt(t,e,o={}){Mt(o)&&(o={method:o});let a=o,{method:n=pe.deltaE}=a,r=Ye(a,["method"]);for(let i in st)if("deltae"+n.toLowerCase()===i.toLowerCase())return st[i](t,e,r);throw new TypeError(`Unknown deltaE method: ${n}`)}function wl(t,e=.25){let n=[b.get("oklch","lch"),"l"];return Ve(t,n,r=>r*(1+e))}function xl(t,e=.25){let n=[b.get("oklch","lch"),"l"];return Ve(t,n,r=>r*(1-e))}var _l=Object.freeze({__proto__:null,darken:xl,lighten:wl});function fa(t,e,o=.5,n={}){return[t,e]=[V(t),V(e)],Le(o)==="object"&&([o,n]=[.5,o]),Vt(t,e,n)(o)}function ha(t,e,o={}){let n;sn(t)&&([n,o]=[t,e],[t,e]=n.rangeArgs.colors);let h=o,{maxDeltaE:r,deltaEMethod:a,steps:i=2,maxSteps:s=1e3}=h,l=Ye(h,["maxDeltaE","deltaEMethod","steps","maxSteps"]);n||([t,e]=[V(t),V(e)],n=Vt(t,e,l));let c=vt(t,e),m=r>0?Math.max(i,Math.ceil(c/r)+1):i,u=[];if(s!==void 0&&(m=Math.min(m,s)),m===1)u=[{p:.5,color:n(.5)}];else{let S=1/(m-1);u=Array.from({length:m},(C,D)=>{let E=D*S;return{p:E,color:n(E)}})}if(r>0){let S=u.reduce((C,D,E)=>{if(E===0)return 0;let H=vt(D.color,u[E-1].color,a);return Math.max(C,H)},0);for(;S>r;){S=0;for(let C=1;C<u.length&&u.length<s;C++){let D=u[C-1],E=u[C],H=(E.p+D.p)/2,L=n(H);S=Math.max(S,vt(L,D.color),vt(L,E.color)),u.splice(C,0,{p:H,color:n(H)}),C++}}}return u=u.map(S=>S.color),u}function Vt(t,e,o={}){if(sn(t)){let[l,c]=[t,e];return Vt(...l.rangeArgs.colors,ae(ae({},l.rangeArgs.options),c))}let{space:n,outputSpace:r,progression:a,premultiplied:i}=o;t=V(t),e=V(e),t=lt(t),e=lt(e);let s={colors:[t,e],options:o};if(n?n=b.get(n):n=b.registry[pe.interpolationSpace]||t.space,r=r?b.get(r):n,t=R(t,n),e=R(e,n),t=Fe(t),e=Fe(e),n.coords.h&&n.coords.h.type==="angle"){let l=o.hue=o.hue||"shorter",c=[n,"h"],[m,u]=[ue(t,c),ue(e,c)];isNaN(m)&&!isNaN(u)?m=u:isNaN(u)&&!isNaN(m)&&(u=m),[m,u]=oi(l,[m,u]),Ve(t,c,m),Ve(e,c,u)}return i&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=a?a(l):l;let c=t.coords.map((h,S)=>{let C=e.coords[S];return wt(h,C,l)}),m=wt(t.alpha,e.alpha,l),u={space:n,coords:c,alpha:m};return i&&(u.coords=u.coords.map(h=>h/m)),r!==n&&(u=R(u,r)),u},{rangeArgs:s})}function sn(t){return Le(t)==="function"&&!!t.rangeArgs}pe.interpolationSpace="lab";function Ml(t){t.defineFunction("mix",fa,{returns:"color"}),t.defineFunction("range",Vt,{returns:"function<color>"}),t.defineFunction("steps",ha,{returns:"array<color>"})}var Sl=Object.freeze({__proto__:null,isRange:sn,mix:fa,range:Vt,register:Ml,steps:ha}),ga=new b({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ct,fromBase:t=>{let e=Math.max(...t),o=Math.min(...t),[n,r,a]=t,[i,s,l]=[NaN,0,(o+e)/2],c=e-o;if(c!==0){switch(s=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case n:i=(r-a)/c+(r<a?6:0);break;case r:i=(a-n)/c+2;break;case a:i=(n-r)/c+4}i=i*60}return s<0&&(i+=180,s=Math.abs(s)),i>=360&&(i-=360),[i,s*100,l*100]},toBase:t=>{let[e,o,n]=t;e=e%360,e<0&&(e+=360),o/=100,n/=100;function r(a){let i=(a+e/30)%12,s=o*Math.min(n,1-n);return n-s*Math.max(-1,Math.min(i-3,9-i,1))}return[r(0),r(8),r(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Ca=new b({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:ga,fromBase(t){let[e,o,n]=t;o/=100,n/=100;let r=n+o*Math.min(n,1-n);return[e,r===0?0:200*(1-n/r),100*r]},toBase(t){let[e,o,n]=t;o/=100,n/=100;let r=n*(1-o/2);return[e,r===0||r===1?0:(n-r)/Math.min(r,1-r)*100,r*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Vl=new b({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Ca,fromBase(t){let[e,o,n]=t;return[e,n*(100-o)/100,100-n]},toBase(t){let[e,o,n]=t;o/=100,n/=100;let r=o+n;if(r>=1){let s=o/r;return[e,0,s*100]}let a=1-n,i=a===0?0:1-o/a;return[e,i*100,a*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Pl=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],kl=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],ba=new ee({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:Pl,fromXYZ_M:kl}),Dl=new ee({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:ba,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),Nl=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],Il=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],va=new ee({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:rn,toXYZ_M:Nl,fromXYZ_M:Il}),zl=1/512,El=16/512,Ll=new ee({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:va,toBase(t){return t.map(e=>e<El?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=zl?e**(1/1.8):16*e)}}),Tl=new b({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:it,fromBase(t){let[e,o,n]=t,r,a=2e-4;return Math.abs(o)<a&&Math.abs(n)<a?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[e,Math.sqrt(o**2+n**2),_e(r)]},toBase(t){let[e,o,n]=t,r,a;return isNaN(n)?(r=0,a=0):(r=o*Math.cos(n*Math.PI/180),a=o*Math.sin(n*Math.PI/180)),[e,r,a]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),ya=re.D65,Rl=216/24389,wr=24389/27,[xr,_r]=so({space:J,coords:ya}),wa=new b({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:ya,base:J,fromBase(t){let e=[q(t[0]),q(t[1]),q(t[2])],o=e[1],[n,r]=so({space:J,coords:e});if(!Number.isFinite(n)||!Number.isFinite(r))return[0,0,0];let a=o<=Rl?wr*o:116*Math.cbrt(o)-16;return[a,13*a*(n-xr),13*a*(r-_r)]},toBase(t){let[e,o,n]=t;if(e===0||Te(e))return[0,0,0];o=q(o),n=q(n);let r=o/(13*e)+xr,a=n/(13*e)+_r,i=e<=8?e/wr:Math.pow((e+16)/116,3);return[i*(9*r/(4*a)),i,i*((12-3*r-20*a)/(4*a))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),cn=new b({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:wa,fromBase(t){let[e,o,n]=t,r,a=.02;return Math.abs(o)<a&&Math.abs(n)<a?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[e,Math.sqrt(o**2+n**2),_e(r)]},toBase(t){let[e,o,n]=t;return o<0&&(o=0),isNaN(n)&&(n=0),[e,o*Math.cos(n*Math.PI/180),o*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),Fl=216/24389,Al=24389/27,Mr=K[0][0],Sr=K[0][1],Ho=K[0][2],Vr=K[1][0],Pr=K[1][1],Go=K[1][2],kr=K[2][0],Dr=K[2][1],Oo=K[2][2];function rt(t,e,o){let n=e/(Math.sin(o)-t*Math.cos(o));return n<0?1/0:n}function ao(t){let e=Math.pow(t+16,3)/1560896,o=e>Fl?e:t/Al,n=o*(284517*Mr-94839*Ho),r=o*(838422*Ho+769860*Sr+731718*Mr),a=o*(632260*Ho-126452*Sr),i=o*(284517*Vr-94839*Go),s=o*(838422*Go+769860*Pr+731718*Vr),l=o*(632260*Go-126452*Pr),c=o*(284517*kr-94839*Oo),m=o*(838422*Oo+769860*Dr+731718*kr),u=o*(632260*Oo-126452*Dr);return{r0s:n/a,r0i:r*t/a,r1s:n/(a+126452),r1i:(r-769860)*t/(a+126452),g0s:i/l,g0i:s*t/l,g1s:i/(l+126452),g1i:(s-769860)*t/(l+126452),b0s:c/u,b0i:m*t/u,b1s:c/(u+126452),b1i:(m-769860)*t/(u+126452)}}function Nr(t,e){let o=e/360*Math.PI*2,n=rt(t.r0s,t.r0i,o),r=rt(t.r1s,t.r1i,o),a=rt(t.g0s,t.g0i,o),i=rt(t.g1s,t.g1i,o),s=rt(t.b0s,t.b0i,o),l=rt(t.b1s,t.b1i,o);return Math.min(n,r,a,i,s,l)}var $l=new b({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:cn,gamutSpace:ct,fromBase(t){let[e,o,n]=[q(t[0]),q(t[1]),q(t[2])],r;if(e>99.9999999)r=0,e=100;else if(e<1e-8)r=0,e=0;else{let a=ao(e),i=Nr(a,n);r=o/i*100}return[n,r,e]},toBase(t){let[e,o,n]=[q(t[0]),q(t[1]),q(t[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let a=ao(n);r=Nr(a,e)/100*o}return[n,r,e]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});K[0][0];K[0][1];K[0][2];K[1][0];K[1][1];K[1][2];K[2][0];K[2][1];K[2][2];function at(t,e){return Math.abs(e)/Math.sqrt(Math.pow(t,2)+1)}function Ir(t){let e=at(t.r0s,t.r0i),o=at(t.r1s,t.r1i),n=at(t.g0s,t.g0i),r=at(t.g1s,t.g1i),a=at(t.b0s,t.b0i),i=at(t.b1s,t.b1i);return Math.min(e,o,n,r,a,i)}var Bl=new b({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:cn,gamutSpace:"self",fromBase(t){let[e,o,n]=[q(t[0]),q(t[1]),q(t[2])],r;if(e>99.9999999)r=0,e=100;else if(e<1e-8)r=0,e=0;else{let a=ao(e),i=Ir(a);r=o/i*100}return[n,r,e]},toBase(t){let[e,o,n]=[q(t[0]),q(t[1]),q(t[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let a=ao(n);r=Ir(a)/100*o}return[n,r,e]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),zr=203,Er=2610/2**14,Hl=2**14/2610,Gl=2523/2**5,Lr=2**5/2523,Tr=3424/2**12,Rr=2413/2**7,Fr=2392/2**7,Ol=new ee({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:lo,toBase(t){return t.map(function(e){return(Math.max(e**Lr-Tr,0)/(Rr-Fr*e**Lr))**Hl*1e4/zr})},fromBase(t){return t.map(function(e){let o=Math.max(e*zr/1e4,0),n=Tr+Rr*o**Er,r=1+Fr*o**Er;return(n/r)**Gl})}}),Ar=.17883277,$r=.28466892,Br=.55991073,jo=3.7743,jl=new ee({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:lo,toBase(t){return t.map(function(e){return e<=.5?e**2/3*jo:(Math.exp((e-Br)/Ar)+$r)/12*jo})},fromBase(t){return t.map(function(e){return e/=jo,e<=1/12?Math.sqrt(3*e):Ar*Math.log(12*e-$r)+Br})}}),xa={};Re.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=_a(t.W1,t.W2,t.options.method))});Re.add("chromatic-adaptation-end",t=>{t.M||(t.M=_a(t.W1,t.W2,t.options.method))});function co({id:t,toCone_M:e,fromCone_M:o}){xa[t]=arguments[0]}function _a(t,e,o="Bradford"){let n=xa[o],[r,a,i]=F(n.toCone_M,t),[s,l,c]=F(n.toCone_M,e),m=[[s/r,0,0],[0,l/a,0],[0,0,c/i]],u=F(m,n.toCone_M);return F(n.fromCone_M,u)}co({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});co({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});co({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});co({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(re,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});re.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var ql=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],Yl=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Ma=new ee({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:re.ACES,toXYZ_M:ql,fromXYZ_M:Yl}),Ut=2**-16,qo=-.35828683,eo=(Math.log2(65504)+9.72)/17.52,Kl=new ee({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[qo,eo],name:"Red"},g:{range:[qo,eo],name:"Green"},b:{range:[qo,eo],name:"Blue"}},referred:"scene",base:Ma,toBase(t){let e=-.3013698630136986;return t.map(function(o){return o<=e?(2**(o*17.52-9.72)-Ut)*2:o<eo?2**(o*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(Ut)+9.72)/17.52:e<Ut?(Math.log2(Ut+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}}),Hr=Object.freeze({__proto__:null,A98RGB:Dl,A98RGB_Linear:ba,ACEScc:Kl,ACEScg:Ma,CAM16_JMh:Ti,HCT:_t,HPLuv:Bl,HSL:ga,HSLuv:$l,HSV:Ca,HWB:Vl,ICTCP:Jo,JzCzHz:Zo,Jzazbz:Qr,LCH:xt,LCHuv:cn,Lab:me,Lab_D65:Uo,Luv:wa,OKLCH:Tl,OKLab:it,P3:ma,P3_Linear:ca,ProPhoto:Ll,ProPhoto_Linear:va,REC_2020:sa,REC_2020_Linear:lo,REC_2100_HLG:jl,REC_2100_PQ:Ol,XYZ_ABS_D65:an,XYZ_D50:rn,XYZ_D65:J,sRGB:ct,sRGB_Linear:ua}),Y=class t{constructor(...e){let o;e.length===1&&(o=V(e[0]));let n,r,a;o?(n=o.space||o.spaceId,r=o.coords,a=o.alpha):[n,r,a]=e,Object.defineProperty(this,"space",{value:b.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=r?r.slice():[0,0,0],this.alpha=a>1||a===void 0?1:a<0?0:a;for(let i=0;i<this.coords.length;i++)this.coords[i]==="NaN"&&(this.coords[i]=NaN);for(let i in this.space.coords)Object.defineProperty(this,i,{get:()=>this.get(i),set:s=>this.set(i,s)})}get spaceId(){return this.space.id}clone(){return new t(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let o=Wi(this,...e);return o.color=new t(o.color),o}static get(e,...o){return e instanceof t?e:new t(e,...o)}static defineFunction(e,o,n=o){let{instance:r=!0,returns:a}=n,i=function(...s){let l=o(...s);if(a==="color")l=t.get(l);else if(a==="function<color>"){let c=l;l=function(...m){let u=c(...m);return t.get(u)},Object.assign(l,c)}else a==="array<color>"&&(l=l.map(c=>t.get(c)));return l};e in t||(t[e]=i),r&&(t.prototype[e]=function(...s){return i(this,...s)})}static defineFunctions(e){for(let o in e)t.defineFunction(o,e[o],e[o])}static extend(e){if(e.register)e.register(t);else for(let o in e)t.defineFunction(o,e[o])}};Y.defineFunctions({get:ue,getAll:St,set:Ve,setAll:nn,to:R,equals:Qi,inGamut:Oe,toGamut:Fe,distance:Wr,toString:yt});Object.assign(Y,{util:Wa,hooks:Re,WHITES:re,Space:b,spaces:b.registry,parse:Zr,defaults:pe});for(let t of Object.keys(Hr))b.register(Hr[t]);for(let t in b.registry)en(t,b.registry[t]);Re.add("colorspace-init-end",t=>{en(t.id,t),t.aliases?.forEach(e=>{en(e,t)})});function en(t,e){let o=t.replace(/-/g,"_");Object.defineProperty(Y.prototype,o,{get(){let n=this.getAll(t);return typeof Proxy>"u"?n:new Proxy(n,{has:(r,a)=>{try{return b.resolveCoord([e,a]),!0}catch{}return Reflect.has(r,a)},get:(r,a,i)=>{if(a&&typeof a!="symbol"&&!(a in r)){let{index:s}=b.resolveCoord([e,a]);if(s>=0)return r[s]}return Reflect.get(r,a,i)},set:(r,a,i,s)=>{if(a&&typeof a!="symbol"&&!(a in r)||a>=0){let{index:l}=b.resolveCoord([e,a]);if(l>=0)return r[l]=i,this.setAll(t,r),!0}return Reflect.set(r,a,i,s)}})},set(n){this.setAll(t,n)},configurable:!0,enumerable:!0})}Y.extend(st);Y.extend({deltaE:vt});Object.assign(Y,{deltaEMethods:st});Y.extend(_l);Y.extend({contrast:bl});Y.extend(yl);Y.extend(el);Y.extend(Sl);Y.extend(to);function Pt(t){let e=new Y(t),o=Math.round(Math.max(0,Math.min(1,e.srgb.r??0))*255),n=Math.round(Math.max(0,Math.min(1,e.srgb.g??0))*255),r=Math.round(Math.max(0,Math.min(1,e.srgb.b??0))*255);return{values:[o,n,r],color:`rgb(${o} ${n} ${r})`}}function Sa(t){let e=Pt(t),o=new Y(e.color).to("hsl");return[o.coords[0].valueOf(),o.coords[1].valueOf(),o.coords[2].valueOf()]}function Va(t){let e=new Y(t).to("oklch");return[e.coords[0].valueOf(),e.coords[1].valueOf(),e.coords[2].valueOf()]}function je(t){return new Y(t).luminance<.35?"white":"black"}function uo(t){return`#${Math.round(t[0]).toString(16).padStart(2,"0")}${Math.round(t[1]).toString(16).padStart(2,"0")}${Math.round(t[2]).toString(16).padStart(2,"0")}`.toUpperCase()}function Pa(t){t=t?.replace("#","")??"000000",t.length!==6&&(t="000000");let e=parseInt(t,16),o=e>>16&255,n=e>>8&255,r=e&255;return[o,n,r]}function ka(t,e){if(!e||e.name==="rgb"||e.name==="hex")return t;let o=new Y(`rgb(${t[0]} ${t[1]} ${t[2]})`).to(e.name),n=un(o.coords[0],e.components[0]),r=un(o.coords[1],e.components[1]),a=un(o.coords[2],e.components[2]);return[n,r,a]}function un(t,e){let o=Number.isNaN(t)?0:t;return Math.max(0,Math.min(e.range.max,o))}function Da(t,e){let o=Math.abs(t[0]-e[0]),n=Math.abs(t[1]-e[1]),r=Math.abs(t[2]-e[2]);return o<=7&&n<=3&&r<=14}var mo=ce.oklch,Na={colorConfig:{colorModelName:mo.name,variable:mo.components[2],variableIndex:mo.components.findIndex(t=>t.name.caption===mo.components[2].name.caption),color:{0:.641,1:.161,2:344.6},range:{min:191,max:498}},paletteStepsConfig:{steps:8,automatic:!0},paletteVisualConfig:{height:100,flat:!1,separate:!0},paletteValuesConfig:{showValues:"no"}};var A=class t{store=M(Ie);initialState=this.store.get("color-state")??Na;_showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"},{text:"HEX",value:"hex"}];colorModel=$(ce[this.initialState.colorConfig.colorModelName]);variableConfig=$({variable:this.colorModel().components[this.initialState.colorConfig.variableIndex],variableIndex:this.initialState.colorConfig.variableIndex});range=$(this.initialState.colorConfig.range);get showValuesOptions(){return this._showValuesOptions}currentColor=$(this.initialState.colorConfig.color);colorConfig=$($e(ae({colorModel:this.colorModel()},this.variableConfig()),{color:this.currentColor(),range:this.range()}));paletteStepsConfig=$(this.initialState.paletteStepsConfig);paletteVisualConfig=$(this.initialState.paletteVisualConfig);paletteValuesConfig=$(this.initialState.paletteValuesConfig);rgb=B(()=>Pt(this.colorModel().convert(this.currentColor())).values);currentState=B(()=>({colorConfig:{colorModelName:this.colorModel().name,variable:this.colorConfig().variable,variableIndex:this.colorConfig().variableIndex,color:this.currentColor(),range:this.range()},paletteStepsConfig:this.paletteStepsConfig(),paletteVisualConfig:this.paletteVisualConfig(),paletteValuesConfig:this.paletteValuesConfig()}));palette=B(()=>{let e=$e(ae({},this.colorConfig()),{color:this.currentColor(),range:this.range()}),o=this.paletteStepsConfig(),n=this.currentColor()??e.colorModel.defaultValues(),r=e.range.min,a=e.range.max,i=o?.steps??10;if(o?.automatic??!0){let c=e.variable;i=Math.min(i,Math.max(2,Math.ceil(Math.abs(a-r)/Lo(c.range)*c.autoSteps)))}let s=(a-r)/(i-1),l=Array.from({length:i},(c,m)=>{let u=r+m*s,h=ae({},n);h[e.variableIndex]=u;let S=e.colorModel.convert([h[0],h[1],h[2]]),C=Pt(S);return{valores:h,color:S,rgbValues:C.values,rgb:C.color}});if(l.length>0){let c=l[0].rgbValues;for(let m=1;m<l.length;m++){let u=l[m].rgbValues;Da(u,c)&&(l[m-1].clamp=!0,l[m].clamp=!0),c=u}}return{model:e.colorModel.name,swatches:l}});constructor(){Q(()=>this.store.save("color-state",this.currentState()))}loadPalette(e){this.paletteStepsConfigChanged(e.state.stepsConfig),this.colorModel.set(ce[e.palette.model]),this.variableConfig.set(e.state.colorConfig),this.currentColor.set(e.state.colorConfig.color),this.range.set(e.state.colorConfig.range),this.colorConfig.set({colorModel:this.colorModel(),variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()})}showValuesOption(e){return this._showValuesOptions.find(o=>o.value===e)}colorModelChanged(e){this.onColorModelChanged(e),this.colorConfig.set({colorModel:e,variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()})}variableChanged(e){this.onVariableConfigChanged(e,this.currentColor()),this.colorConfig.update(o=>$e(ae({},o),{variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()}))}paletteStepsConfigChanged(e){this.paletteStepsConfig.set(e)}paletteVisualConfigChanged(e){this.paletteVisualConfig.set(e)}paletteValuesConfigChanged(e){this.paletteValuesConfig.set(e)}rangeChanged(e){this.range.set(e)}colorChanged(e){this.currentColor.set(e)}colorSelected(e){let o=ka(e,this.colorModel());this.colorConfig.update(n=>$e(ae({},n),{color:o,range:n.variable.bestRange(o[n.variableIndex])}))}currentPaletteInfo(){return{palette:this.palette(),state:{colorConfig:{colorModelName:this.colorModel().name,variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()},stepsConfig:this.paletteStepsConfig()}}}onColorModelChanged(e){let o=this.colorModel().convert(this.currentColor()),n=e.defaultValues()??[0,0,0];if(o)switch(e.name){case"hsl":n=Sa(o);break;case"oklch":n=Va(o);break;default:n=Pt(o).values}this.colorModel.set(e),this.onVariableConfigChanged(e.components[e.defaultVariableIndex],n),this.currentColor.set(n)}onVariableConfigChanged(e,o){let n=this.colorModel().components.findIndex(r=>r.name===e.name);this.variableConfig.set({variable:e,variableIndex:n}),this.range.set(e.bestRange(o[n]))}static \u0275fac=function(o){return new(o||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};function Xl(t,e){if(t&1){let o=X();d(0,"div",7)(1,"zz-palette-list",8),k("paletteSelected",function(r){O(o);let a=v();return j(a.state.loadPalette(r))})("paletteRemoved",function(r){O(o);let a=v();return j(a.store.remove(r))}),f()()}if(t&2){let o=v();P("collapsable-collapsed",!o.open()),p(),g("active",o.open())("palettes",o.store.saved())}}var po=class t{store=M(Ee);state=M(A);abort=void 0;open=$(!1);handleKeyboardEvent(e){e.preventDefault(),this.openState(!this.open())}handleEscapeEvent(e){this.openState(!1)}constructor(){Q(()=>{this.store.saved().length===0&&this.openState(!1)})}toggleOpen(e){e.preventDefault(),e.stopImmediatePropagation(),this.openState(!this.open())}openState(e){if(this.abort?.abort(),this.open.set(e),this.open()){this.abort=new AbortController;let o=this.abort.signal;window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:o})}}onClick(e){this.openState(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palette-selector"]],hostBindings:function(o,n){o&1&&k("keydown.control.shift.p",function(a){return n.handleKeyboardEvent(a)},!1,he)("keydown.escape",function(a){return n.handleEscapeEvent(a)},!1,he)},decls:11,vars:5,consts:[[1,"relative"],["type","button",1,"not-disabled:hover:bg-gris-100/50","not-disabled:dark:hover:bg-gris-950/50","px-4","py-1","w-24",3,"click","disabled"],[1,"flex","flex-row","items-center","gap-2","justify-between"],[1,"whitespace-nowrap"],[1,"font-icons"],[1,"collapsable","absolute","top-10","left-0","z-32","rounded","shadow-md/50","shadow-black",3,"collapsable-collapsed"],[1,"fixed","top-0","left-0","z-30","bg-black/10","dark:bg-black/20","block","opacity-100","w-screen","h-screen"],[1,"collapsable","absolute","top-10","left-0","z-32","rounded","shadow-md/50","shadow-black"],[1,"border-panel","block","bg-white","dark:bg-gris-800","w-56",3,"paletteSelected","paletteRemoved","active","palettes"]],template:function(o,n){o&1&&(d(0,"div",0)(1,"button",1),k("click",function(a){return n.toggleOpen(a)}),d(2,"span",2)(3,"span",3),y(4,"Saved palettes "),d(5,"kbd"),y(6,"Ctrl+Shift+P"),f()(),d(7,"span",4),y(8),f()()(),N(9,Xl,2,4,"div",5),x(10,"div",6),f()),o&2&&(p(),g("disabled",n.store.saved().length===0),p(7),Je(n.open()?"arrow_drop_up":"arrow_drop_down"),p(),I(n.store.saved().length>0?9:-1),p(),P("hidden",!n.open()))},dependencies:[Yt],encapsulation:2,changeDetection:0})};var fo=class t{format=_("horizontal");static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-marca"]],inputs:{format:[1,"format"]},decls:24,vars:14,consts:[[1,"font-museo-moderno","text-center","leading-marca","text-white","select-none"],[1,"flex","gap-marca"],[1,"bg-marca-1","w-marca","rounded"],[1,"bg-marca-2","w-marca","rounded"],[1,"bg-marca-3","w-marca","rounded"],[1,"bg-marca-4","w-marca","rounded"],[1,"bg-marca-5","w-marca","rounded"],[1,"bg-marca-6","w-marca","rounded"],[1,"bg-marca-7","w-marca","rounded"],[1,"bg-marca-8","w-marca","rounded"]],template:function(o,n){o&1&&(d(0,"div",0)(1,"span",1)(2,"span",1)(3,"span",1)(4,"span",2),y(5,"C"),f(),d(6,"span",3),y(7,"o"),f()(),d(8,"span",1)(9,"span",4),y(10,"L"),f(),d(11,"span",5),y(12,"o"),f()()(),d(13,"span",1)(14,"span",1)(15,"span",6),y(16,"R"),f(),d(17,"span",7),y(18,"i"),f()(),d(19,"span",1)(20,"span",8),y(21,"n"),f(),d(22,"span",9),y(23,"a"),f()()()()()),o&2&&(p(),P("flex-col",n.format()!=="horizontal"),p(),P("flex-col",n.format()!=="horizontal"&&n.format()!=="half"),p(),P("flex-col",n.format()==="vertical"),p(5),P("flex-col",n.format()==="vertical"),p(5),P("flex-col",n.format()!=="horizontal"&&n.format()!=="half"),p(),P("flex-col",n.format()==="vertical"),p(5),P("flex-col",n.format()==="vertical"))},encapsulation:2,changeDetection:0})};var ho=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palettes-header"]],decls:6,vars:1,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","py-1","max-w-[1600px]","leading-8"],[1,"text-2xl","opacity-90"],[3,"format"]],template:function(o,n){o&1&&(d(0,"header")(1,"div",0)(2,"h1",1),x(3,"zz-marca",2),f(),x(4,"zz-palette-selector")(5,"zz-dark-mode-toggle"),f()()),o&2&&(p(3),g("format","horizontal"))},dependencies:[Ot,po,fo],encapsulation:2,changeDetection:0})};var Zl=(t,e)=>e.name,Jl=(t,e)=>e.name.caption;function Wl(t,e){if(t&1){let o=X();Ce(0),d(1,"li")(2,"div")(3,"button",2),k("click",function(){let r=O(o).$implicit,a=v(2);return j(a.state.variableChanged(r))}),y(4),f()()()}if(t&2){let o=e.$implicit;v();let n=Qe(0),r=v().state.colorConfig().variable.name.caption===o.name.caption;p(2),P("selected",r),p(),g("disabled",!n||r),p(),le(" ",o.name.caption," ")}}function Ql(t,e){if(t&1){let o=X();Ce(0),d(1,"li")(2,"div")(3,"button",1),k("click",function(){let r=O(o).$implicit,a=v();return j(a.state.colorModelChanged(r))}),y(4),f()(),d(5,"ul"),te(6,Wl,5,4,"li",null,Jl),f()()}if(t&2){let o=e.$implicit,n=We(v().state.colorConfig().colorModel.name===o.name);p(),P("selected",n),p(2),g("disabled",n),p(),le(" ",o.name," "),p(2),oe(o.components)}}var go=class t{models=tt.filter(e=>e.name!=="hex");state=M(A);static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-color-menu"]],decls:4,vars:0,consts:[[3,"selected"],[1,"py-2","uppercase",3,"click","disabled"],[1,"py-1",3,"click","disabled"]],template:function(o,n){o&1&&(d(0,"nav")(1,"menu"),te(2,Ql,8,5,"li",0,Zl),f()()),o&2&&(p(2),oe(n.models))},encapsulation:2,changeDetection:0})};var ut=class t{notificationService=M(ze);copy(e,o){navigator.clipboard.writeText(e),this.notificationService.success(o??"Copied to clipboard!")}static \u0275fac=function(o){return new(o||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};function Ul(t,e){if(t&1&&(d(0,"div",4),y(1),f()),t&2){let o=e.$implicit;p(),Vn("",o.label,": ",o.value,"")}}function es(t,e){if(t&1){let o=X();d(0,"div",2),k("click",function(){O(o);let r=v();return j(r.copy())}),d(1,"div",3),te(2,Ul,2,2,"div",4,ke),f()()}if(t&2){let o=v();W("color",o.useContrast()?o.contrast():"currentColor"),P("w-[9ch]",o.vertical()),p(),P("flex-col",o.vertical())("gap-2",!o.vertical())("leading-4",o.vertical()),p(),oe(o.parts())}}function ts(t,e){if(t&1){let o=X();d(0,"div",5),k("click",function(){O(o);let r=v();return j(r.copy())}),y(1),f()}if(t&2){let o=v();W("color",o.useContrast()?o.contrast():"currentColor"),p(),le(" ",o.full(),`
`)}}var mt=class t{copyService=M(ut);colorModelName=_("rgb",{alias:"color-model-name"});values=_(void 0,{alias:"values",transform:e=>e??[0,0,0]});useContrast=_(!0,{alias:"use-contrast"});vertical=_(!1,{alias:"vertical"});full=B(()=>ce[this.colorModelName()].convert(this.values()));parts=B(()=>ce[this.colorModelName()].displayValues(this.values()??[0,0,0]));contrast=B(()=>je(this.full()));copy(){this.copyService.copy(this.full(),"Color copied!")}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-color-values-display"]],inputs:{colorModelName:[1,"color-model-name","colorModelName"],values:[1,"values"],useContrast:[1,"use-contrast","useContrast"],vertical:[1,"vertical"]},decls:2,vars:1,consts:[["title","click to copy",1,"flex","justify-center","font-noto","cursor-copy","group","hover:opacity-100","opacity-85","underline-offset-2",3,"color","w-[9ch]"],["title","click to copy",1,"w-[7ch]","flex","px-1","justify-center","font-noto","cursor-copy","hover:opacity-100","opacity-85","underline-offset-2","hover:underline","decoration-current/70",3,"color"],["title","click to copy",1,"flex","justify-center","font-noto","cursor-copy","group","hover:opacity-100","opacity-85","underline-offset-2",3,"click"],[1,"flex","w-fit"],[1,"group-hover:underline","decoration-current/70"],["title","click to copy",1,"w-[7ch]","flex","px-1","justify-center","font-noto","cursor-copy","hover:opacity-100","opacity-85","underline-offset-2","hover:underline","decoration-current/70",3,"click"]],template:function(o,n){o&1&&N(0,es,4,10,"div",0)(1,ts,2,3,"div",1),o&2&&I(n.colorModelName()!=="hex"?0:1)},encapsulation:2,changeDetection:0})};var os=(t,e)=>({"border-white/40":t,"border-black/40":e});function ns(t,e){if(t&1){let o=X();d(0,"input",1),k("change",function(){O(o);let r=v();return j(r.updateColor())}),f()}if(t&2){let o=v();_n(Nn(3,os,o.borderColor()==="white",o.borderColor()==="black")),g("formControl",o.colorControl)}}var Co=class t{colorControl=void 0;value=_("#000000",{alias:"color",transform:e=>{let o=e??"#000000";return typeof o=="string"?o.startsWith("#")?o:`#${o}`:uo(o)}});colorChange=new It;borderColor=$("");constructor(){Q(()=>{this.colorControl?.setValue(this.value());let e=je(this.value());this.borderColor.set(e)})}ngOnInit(){let e=je(this.value());this.borderColor.set(e),this.colorControl=new Z(this.value(),{nonNullable:!0})}updateColor(){this.colorChange.emit(Pa(this.colorControl.value))}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-color-selector"]],inputs:{value:[1,"color","value"]},outputs:{colorChange:"color-change"},decls:1,vars:1,consts:[["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"class","formControl"],["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"change","formControl"]],template:function(o,n){o&1&&N(0,ns,1,6,"input",0),o&2&&I(n.colorControl?0:-1)},dependencies:[U,De,be,$n],encapsulation:2,changeDetection:0})};var bo=class t{height=_(120);state=M(A);static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-color-sample"]],inputs:{height:[1,"height"]},decls:7,vars:14,consts:[[1,"border-panel","max-w-[25ch]","rounded-lg"],["color-swatch","",1,"text-right","p-4","rounded-lg",3,"color-model","values"],[3,"color-change","color"],[1,"transition-all","text-smaller","justify-center","w-full","min-h-18","max-h-20","py-2","flex","flex-col","items-center","text-md","dark:text-gris-100","text-gris-700"],[1,"whitespace-nowrap","w-[25ch]","text-center","font-semibold",2,"font-variation-settings","'wght' 450",3,"color-model-name","use-contrast","values"],["color-model-name","rgb",1,"opacity-80","text-smaller",2,"line-height","1rem",3,"values","use-contrast"],["color-model-name","hex",1,"opacity-80","text-smaller",2,"line-height","1rem",3,"values","use-contrast"]],template:function(o,n){o&1&&(d(0,"div",0)(1,"div",1)(2,"zz-color-selector",2),k("color-change",function(a){return n.state.colorSelected(a)}),f()(),d(3,"div",3),x(4,"zz-color-values-display",4)(5,"zz-color-values-display",5)(6,"zz-color-values-display",6),f()()),o&2&&(p(),W("height",n.height(),"px"),g("color-model",n.state.colorConfig().colorModel)("values",n.state.currentColor()),p(),g("color",n.state.rgb()),p(2),g("color-model-name",n.state.colorConfig().colorModel.name)("use-contrast",!1)("values",n.state.currentColor()),p(),P("hidden",n.state.colorConfig().colorModel.name==="rgb"),g("values",n.state.rgb())("use-contrast",!1),p(),g("values",n.state.rgb())("use-contrast",!1))},dependencies:[U,Se,mt,Co],encapsulation:2,changeDetection:0})};var rs=["zz-field-value",""],vo=class t{value=_(null);unit="";length;nullValueText="";decimals=0;text=B(()=>{let e=this.value();return e===null?this.nullValueText??"N/A":e.toFixed(this.decimals??0)+(this.unit??"")});static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["","zz-field-value",""]],hostAttrs:[1,"select-none"],inputs:{value:[1,"value"],unit:"unit",length:"length",nullValueText:"nullValueText",decimals:"decimals"},attrs:rs,decls:1,vars:1,template:function(o,n){o&1&&y(0),o&2&&le("",n.text(),`
`)},encapsulation:2,changeDetection:0})};var yo=class t{controlPressed=$(!1);accent=_(!1);showTrack=_(!0);step=_(1,{alias:"zzStep",transform:e=>Math.max(Math.min(400,e??1),.001)});get stepCorregido(){return this.resolvedStep()}get current(){return this.value()}value=_(0,{alias:"zzValue",transform:e=>Math.max(Math.min(720,e??0),-720)});onControlKeyDown(e){this.controlPressed()||(this.controlPressed.set(!0),e.preventDefault())}onControlKeyUp(e){this.controlPressed()&&(this.controlPressed.set(!1),e.preventDefault())}resolvedStep=B(()=>{let e=this.step();return this.controlPressed()?10*e:e});static \u0275fac=function(o){return new(o||t)};static \u0275dir=Be({type:t,selectors:[["input","type","range","zz-slider",""]],hostVars:6,hostBindings:function(o,n){o&1&&k("keydown.control",function(a){return n.onControlKeyDown(a)})("keyup.control",function(a){return n.onControlKeyUp(a)}),o&2&&(Et("step",n.stepCorregido)("value",n.current),P("slider-track",n.showTrack())("slider-accent",n.accent()))},inputs:{accent:[1,"accent"],showTrack:[1,"showTrack"],step:[1,"zzStep","step"],value:[1,"zzValue","value"]}})};function as(t,e){if(t&1&&x(0,"option",1),t&2){let o=e.$implicit;g("value",o)}}function is(t,e){if(t&1&&(d(0,"datalist",0),te(1,as,1,1,"option",1,Mn),f()),t&2){let o=v();g("id",o.id),p(),oe(o.values)}}var wo=class t{_values=[];id;set values(e){this._values=e.sort((o,n)=>o-n).reduce((o,n)=>(o.includes(n)||o.push(n),o),[])}get values(){return this._values}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-data-list"]],inputs:{id:"id",values:"values"},decls:1,vars:1,consts:[[3,"id"],[3,"value"]],template:function(o,n){o&1&&N(0,is,3,1,"datalist",0),o&2&&I(n.id?0:-1)},encapsulation:2,changeDetection:0})};var ls=()=>[];function ss(t,e){if(t&1){let o=X();d(0,"label",8),k("dblclick",function(){O(o);let r=v(2);return j(r.control.reset())}),y(1),f()}if(t&2){let o=v(2);P("text-right",o.labelsReverse)("opacity-80",o.defaultValue!==void 0&&o.control.value===o.defaultValue),g("for",o.fieldName),p(),le(" ",o.label," ")}}function cs(t,e){if(t&1&&(x(0,"div",9),In(1,"async")),t&2){let o,n,r,a=v(2);P("opacity-70",a.defaultValue!==void 0&&a.control.value===a.defaultValue),g("value",(o=zn(1,6,a.control.valueChanges))!==null&&o!==void 0?o:a.control.value)("length",(n=a.valueLength)!==null&&n!==void 0?n:10)("decimals",a.decimales)("unit",(r=a.unit)!==null&&r!==void 0?r:"")}}function us(t,e){if(t&1&&(d(0,"div",2)(1,"div",3)(2,"div"),N(3,ss,2,6,"label",4),f(),N(4,cs,2,8,"div",5),f(),x(5,"input",6,0)(7,"zz-data-list",7),f()),t&2){let o,n,r=v();P("flex-col-reverse",!r.labelsAbove),g("formGroup",r.formGroup),p(),P("flex-row-reverse",r.labelsReverse),p(2),I(r.showLabel?3:-1),p(),I(r.showValue?4:-1),p(),g("zzStep",(o=r.step)!==null&&o!==void 0?o:1)("accent",r.defaultValue!==void 0&&r.control.value!==r.defaultValue)("formControlName",r.fieldName)("zzValue",r.control.value)("showTrack",r.showTrack())("min",r.min)("max",r.max),xn("aria-label","Input for "+r.label)("list",r.fieldName+"-list"),p(2),g("id",r.fieldName+"-list")("values",(n=r.stops)!==null&&n!==void 0?n:kn(18,ls))}}var pt=class t{constructor(e){this._parentFormGroupDirective=e}fieldName="";labelsAbove=!0;labelsReverse=!1;label="";valueLength;unit="";showTrack=_(!0);min=0;max=10;step=1;stops=[];labelLength;_defaultValue=0;get defaultValue(){return this._defaultValue}set defaultValue(e){this._defaultValue=e}_showLabel=!1;get showLabel(){return this._showLabel&&(this.labelLength??1)>0}set showLabel(e){this._showLabel=e}_showValue=!1;get showValue(){return this._showValue&&(this.valueLength??1)>0}set showValue(e){this._showValue=e}get decimales(){let e=0;if((this.step??1)!==1&&!Number.isInteger(this.step)&&(e=this.step.toString().split(".")[1]?.length??0),(this.min??0)!==0&&!Number.isInteger(this.min)){let o=this.min.toString();e=Math.max(e,o.split(".")[1]?.length??0)}if((this.max??10)!==10&&!Number.isInteger(this.max)){let o=this.max.toString();e=Math.max(e,o.split(".")[1]?.length??0)}return e}get formGroup(){return this._parentFormGroupDirective?.control}get control(){return this._parentFormGroupDirective?.control.controls[this.fieldName]}static \u0275fac=function(o){return new(o||t)(zt(se,8))};static \u0275cmp=w({type:t,selectors:[["zz-slider-field"]],inputs:{fieldName:"fieldName",labelsAbove:[0,"labels-above","labelsAbove"],labelsReverse:[0,"labels-reverse","labelsReverse"],label:"label",valueLength:"valueLength",unit:"unit",showTrack:[1,"showTrack"],min:"min",max:"max",step:"step",stops:"stops",labelLength:"labelLength",defaultValue:"defaultValue",showLabel:"showLabel",showValue:"showValue"},decls:1,vars:1,consts:[["slider",""],[1,"w-full","p-1","flex","flex-col","select-none",3,"flex-col-reverse","formGroup"],[1,"w-full","p-1","flex","flex-col","select-none",3,"formGroup"],[1,"flex","flex-row","items-base","justify-between"],[3,"for","text-right","opacity-80"],["zz-field-value","",3,"value","length","decimals","unit","opacity-70"],["zz-slider","","type","range",3,"zzStep","accent","formControlName","zzValue","showTrack","min","max"],[3,"id","values"],[3,"dblclick","for"],["zz-field-value","",3,"value","length","decimals","unit"]],template:function(o,n){o&1&&N(0,us,8,19,"div",1),o&2&&I(n.control?0:-1)},dependencies:[U,De,An,be,fe,se,Ne,yo,vo,Tn,wo],encapsulation:2,changeDetection:0})};var dt=class t{colorConfig=_(void 0,{alias:"color-config"});height=_(30,{transform:e=>{if(e===void 0)return 30;let o=Number.isInteger(e)?e:30;return Math.max(1,Math.min(400,o))}});currentColor=_(void 0,{alias:"current-color"});gradient=void 0;colorSpaces={oklch:"oklch",rgb:"srgb",hsl:"hsl",hex:"srgb"};ngOnInit(){this.gradient=B(()=>{let e=this.colorConfig();if(!e)return"";let o=e.colorModel,n=this.currentColor()??o.defaultValues(),r=100/(e.variable.axisValues.length-1),a=e.variable.axisValues.map((i,s)=>{let l=ae({},n);return l[e.variableIndex]=i,`${o.convert(l)} ${(s*r).toFixed(2)}%`});return`linear-gradient(to right in ${this.colorSpaces[o.name]}, ${a})`})}static \u0275fac=function(o){return new(o||t)};static \u0275dir=Be({type:t,selectors:[["","zz-color-axis",""]],hostVars:4,hostBindings:function(o,n){o&2&&W("height",n.height(),"px")("background",n.gradient())},inputs:{colorConfig:[1,"color-config","colorConfig"],height:[1,"height"],currentColor:[1,"current-color","currentColor"]}})};var Ia=(t,e,o)=>[t,e,o];function ms(t,e){if(t&1&&(d(0,"div",1),y(1,"arrow_range"),f(),x(2,"zz-slider-field",2)(3,"div",3)(4,"zz-slider-field",4)),t&2){v();let o=Qe(1),n=v();p(2),g("showTrack",!1)("min",o.variable.range.min)("max",o.variable.range.max)("step",o.variable.valueStep)("label",o.variable.name.caption)("defaultValue",o.variable.range.max)("stops",Ue(29,Ia,o.variable.range.min,o.variable.defaultValue,o.variable.range.max))("showLabel",!0)("labelLength",10)("unit",o.variable.unit)("showValue",!0)("valueLength",9),p(),g("color-config",o)("current-color",n.currentColor())("height",n.height()),p(),g("showTrack",!1)("labels-above",!1)("labels-reverse",!0)("min",o.variable.range.min)("max",o.variable.range.max)("step",o.variable.valueStep)("label",o.variable.name.caption)("defaultValue",o.variable.range.min)("stops",Ue(33,Ia,o.variable.range.min,o.variable.defaultValue,o.variable.range.max))("showLabel",!1)("labelLength",10)("unit",o.variable.unit)("showValue",!0)("valueLength",9)}}function ps(t,e){if(t&1&&(d(0,"form",0),Ce(1),N(2,ms,5,37),f()),t&2){let o=v();g("formGroup",o.formDual),p();let n=We(o.state.colorConfig());p(),I(n?2:-1)}}var xo=class t{state=M(A);currentColor=_(void 0,{alias:"current-color"});height=_(30,{transform:e=>{if(e===void 0)return 30;let o=Number.isInteger(e)?e:30;return Math.max(1,Math.min(400,o))}});rangeChange=new It;formDual=void 0;constructor(){Q(()=>{this.formDual?.patchValue({min:this.state.colorConfig().range.min,max:this.state.colorConfig().range.max},{emitEvent:!0})})}ngOnInit(){this.formDual=new ve({min:new Z(this.state.colorConfig().range.min,{nonNullable:!0}),max:new Z(this.state.colorConfig().range.max,{nonNullable:!0})}),this.formDual.valueChanges.subscribe(e=>{this.rangeChange.emit({min:e.min??this.formDual?.controls.min.value??0,max:e.max??this.formDual?.controls.max.value??0})})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-dual-axis-slider"]],hostAttrs:[1,"block","w-full"],inputs:{currentColor:[1,"current-color","currentColor"],height:[1,"height"]},outputs:{rangeChange:"rangeChange"},decls:1,vars:1,consts:[[1,"relative","select-none",3,"formGroup"],[1,"absolute","left-24","right-24","text-center","top-0","font-icons","text-larger-5","min-w-8","h-10"],["fieldName","max",1,"relative","z-2","font-bold",3,"showTrack","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"],["zz-color-axis","",1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","current-color","height"],["fieldName","min",1,"relative","z-2","-mt-2.5","block",3,"showTrack","labels-above","labels-reverse","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"]],template:function(o,n){o&1&&N(0,ps,3,3,"form",0),o&2&&I(n.formDual!==void 0?0:-1)},dependencies:[pt,dt,U,ye,fe,se],encapsulation:2,changeDetection:0})};var za=(t,e,o)=>[t,e,o],Ea=(t,e,o,n,r)=>({colorModel:t,variable:e,variableIndex:o,color:n,range:r});function ds(t,e){if(t&1){let o=X();d(0,"form",1)(1,"div",2)(2,"zz-dual-axis-slider",3),k("rangeChange",function(r){O(o);let a=v();return j(a.onVariableChange(r))}),f(),d(3,"div"),Ce(4)(5),x(6,"zz-slider-field",4)(7,"div",5),f(),d(8,"div"),Ce(9)(10),x(11,"zz-slider-field",6)(12,"div",5),f()()()}if(t&2){let o=e,n=v();g("formGroup",n.configGroup),p(),W("min-height",3*(70+n.height),"px"),p(),P("row-2",o.variableIndex===1)("row-3",o.variableIndex===2),g("current-color",n.state.currentColor())("height",n.height);let r=o.variableIndex===0?1:0,a=o.colorModel.components[r];p(4),g("showTrack",!1)("min",a.range.min)("max",a.range.max)("step",a.valueStep)("label",a.name.caption)("defaultValue",a.defaultValue)("stops",Ue(39,za,a.range.min,a.defaultValue,a.range.max))("showLabel",!0)("labelLength",10)("unit",a.unit)("showValue",!0)("valueLength",9),p(),g("color-config",Eo(43,Ea,o.colorModel,a,r,n.state.currentColor(),a.range))("current-color",n.state.currentColor())("height",n.height);let i=o.variableIndex===2?1:2,s=o.colorModel.components[i];p(4),g("showTrack",!1)("min",s.range.min)("max",s.range.max)("step",s.valueStep)("label",s.name.caption)("defaultValue",s.defaultValue)("stops",Ue(49,za,s.range.min,s.defaultValue,s.range.max))("showLabel",!0)("labelLength",10)("unit",s.unit)("showValue",!0)("valueLength",9),p(),g("color-config",Eo(53,Ea,o.colorModel,s,i,n.state.currentColor(),s.range))("current-color",n.state.currentColor())("height",n.height)}}var _o=class t{state=M(A);height=30;indices=[0,1,2];configGroup=void 0;constructor(){Q(()=>{let e=this.state.colorConfig(),o=e.color??[0,0,0],n=o[0],r=o[1],a=e.variableIndex;a===0?(n=o[1],r=o[2]):a===1&&(r=o[2]),this.configGroup?.patchValue({v0:n,v1:r,v2:o[e.variableIndex]},{emitEvent:!0})})}ngOnInit(){let e=this.state.colorConfig().color??[0,0,0];this.configGroup=new ve({v0:new Z(e[0],{nonNullable:!0}),v1:new Z(e[1],{nonNullable:!0}),v2:new Z(e[2],{nonNullable:!0})}),this.configGroup.valueChanges.subscribe(()=>{let{v0:o,v1:n,v2:r}=this.configGroup?.value??{v0:0,v1:0,v2:0},a=[o,n,r],i=this.state.colorConfig().variableIndex;a[i]=r,i===0?(a[1]=o,a[2]=n):i===1&&(a[2]=n),this.state.colorChanged(a)})}onVariableChange(e){this.state.rangeChanged(e),this.configGroup.patchValue({v2:(e.min+e.max)/2},{emitEvent:!0})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-color-range-selector"]],decls:2,vars:1,consts:[[1,"h-fit",2,"background-color","none !important","border-width","0px !important"],[1,"min-w-fit","h-fit",3,"formGroup"],[1,"grid","grid-rows-3"],[1,"block",3,"rangeChange","current-color","height"],["fieldName","v0",1,"relative","z-2",3,"showTrack","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"],["zz-color-axis","",1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","current-color","height"],["fieldName","v1",1,"relative","z-2",3,"showTrack","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"]],template:function(o,n){if(o&1&&(d(0,"div",0),N(1,ds,13,59,"form",1),f()),o&2){let r;p(),I((r=n.state.colorConfig())?1:-1,r)}},dependencies:[pt,we,ye,fe,U,se,dt,xo],encapsulation:2,changeDetection:0})};var fs=t=>({"rounded-lg shadow-md/50  shadow-black":t});function hs(t,e){if(t&1&&(d(0,"div",4),x(1,"zz-color-values-display",5),f()),t&2){let o=v().$implicit,n=Qe(3),r=v(3);p(),g("use-contrast",!0)("color-model-name",n.showValues==="rgb"?"rgb":n.showValues==="hex"?"hex":r.colorModel().name)("values",n.showValues==="yes"?o.valores:o.rgbValues)("vertical",!0)}}function gs(t,e){if(t&1&&(d(0,"div",2)(1,"div",3),y(2," \u26A0 "),f(),Ce(3),N(4,hs,2,4,"div",4),f()),t&2){let o=e.$implicit,n=e.$index,r=v(2),a=v();g("ngClass",Dn(9,fs,!r.flat))("color-model",a.colorModel())("values",o.valores),p(),W("color",a.constrasts()[n]),P("opacity-60",o.clamp),p(2);let i=We(a.state.paletteValuesConfig());p(),I(i.showValues!=="no"?4:-1)}}function Cs(t,e){if(t&1&&(d(0,"div",1),te(1,gs,5,11,"div",2,ke),f()),t&2){let o=v();W("height",o.height,"px"),P("space-x-1",o.separate),p(),oe(e.swatches)}}function bs(t,e){if(t&1&&N(0,Cs,3,4,"div",0),t&2){let o,n=v();I((o=n.palette())?0:-1,o)}}var Mo=class t{state=M(A);palette=_(void 0);constrasts=B(()=>{let e=this.palette();if(!e)return;let o=e.model;if(!o)return;let n=ce[o];if(n)return e.swatches.map(r=>{let a=r.valores;return je(n.convert(a))})});colorModel=B(()=>{let e=this.palette()?.model;if(e)return ce[e]});static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-color-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"space-x-1","height"],[1,"flex","flex-row","justify-between"],["color-swatch","",1,"palette-swatch",3,"ngClass","color-model","values"],[1,"text-larger-2","absolute","select-none","bottom-1","right-2","opacity-0","transition-opacity","duration-500","ease-in-out"],[1,"text-smaller-1"],[3,"use-contrast","color-model-name","values","vertical"]],template:function(o,n){if(o&1&&N(0,bs,1,1),o&2){let r;I((r=n.state.paletteVisualConfig())?0:-1,r)}},dependencies:[Se,mt,Ln],encapsulation:2,changeDetection:0})};function vs(t,e){t&1&&(d(0,"span",2),y(1,"WARN"),f())}function ys(t,e){t&1&&(d(0,"span",3),y(1,"OK"),f())}var So=class t{notificationService=M(ze);static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-notification"]],decls:7,vars:10,consts:[[1,"fixed","duration-200","m-auto","z-35","scale-0","left-0","right-0","w-fit","shadow-lg","shadow-black/30","dark:shadow-black/60","transition-all","ease-out"],[1,"rounded-lg","w-64","flex","bg-gris-50","dark:bg-gris-800","items-center","gap-4","pl-2","py-3"],[1,"dark:bg-orange-500","bg-orange-400","font-museo-moderno","font-semibold","text-white","p-0.5","px-1.5","text-smaller-3","rounded-lg"],[1,"dark:bg-green-700","bg-green-600","font-museo-moderno","font-semibold","text-white","p-0.5","px-1.5","text-smaller-2","rounded-lg"],[1,"w-full"],[1,"fixed","top-0","left-0","z-30","bg-black/10","dark:bg-black/20","block","opacity-100","w-screen","h-screen"]],template:function(o,n){o&1&&(d(0,"div",0)(1,"div",1),N(2,vs,2,0,"span",2)(3,ys,2,0,"span",3),d(4,"span",4),y(5),f()()(),x(6,"div",5)),o&2&&(P("-top-12",!n.notificationService.showNotification())("top-8",n.notificationService.showNotification())("scale-100",n.notificationService.showNotification()),p(2),I(n.notificationService.notificationMessage().type==="warn"?2:3),p(3),Je(n.notificationService.notificationMessage().message),p(),P("hidden",!n.notificationService.showNotification()))},encapsulation:2,changeDetection:0})};var Vo=class t{store=M(Ee);state=M(A);copyService=M(ut);handleCopyShortcut(e){e.preventDefault(),this.copy()}handleSaveShortcut(e){e.preventDefault(),this.save()}handleLockShortcut(e){e.preventDefault(),this.lock()}handleUnlockShortcut(e){e.preventDefault(),this.unlock()}save(){this.store.save(this.state.currentPaletteInfo())}lock(){this.store.lock(this.state.currentPaletteInfo())}unlock(){this.store.unlock()}copy(){let e=this.paletteValues(this.state.palette());this.copyService.copy(e,"Palette colors copied!")}paletteValues(e){let o=[],n=[],r=[];for(let s of e.swatches)o.push(s.rgb),n.push(uo(s.rgbValues)),r.push(s.color);let a=r.join(`\r
`),i=n.join(`\r
`);if(a?.startsWith("rgb"))return`${a}\r
\r
${i}`;{let s=o.join(`\r
`);return`${a}\r
\r
${s}\r
\r
${i}`}}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palette-actions"]],hostBindings:function(o,n){o&1&&k("keydown.control.shift.c",function(a){return n.handleCopyShortcut(a)},!1,he)("keydown.control.shift.s",function(a){return n.handleSaveShortcut(a)},!1,he)("keydown.control.shift.k",function(a){return n.handleLockShortcut(a)},!1,he)("keydown.control.shift.u",function(a){return n.handleUnlockShortcut(a)},!1,he)},decls:9,vars:1,consts:[[1,"flex","items-center"],["title","Unlock palette (Ctrl+Shift+U)",1,"icon-button","not-disabled:text-green-600","dark:not-disabled:text-green-400",3,"click"],["title","Lock palette (Ctrl+Shift+L)",1,"icon-button","not-disabled:text-red-600","dark:not-disabled:text-red-500",3,"click","disabled"],["title","Save palette  (Ctrl+Shift+S)",1,"icon-button",3,"click"],["title","Copy palette values (Ctrl+Shift+C)",1,"icon-button",3,"click"]],template:function(o,n){o&1&&(d(0,"div",0)(1,"button",1),k("click",function(){return n.lock()}),y(2," cached "),f(),d(3,"button",2),k("click",function(){return n.unlock()}),y(4," sync_disabled "),f(),d(5,"button",3),k("click",function(){return n.save()}),y(6,"save"),f(),d(7,"button",4),k("click",function(){return n.copy()}),y(8,"content_copy"),f()()),o&2&&(p(3),g("disabled",n.store.lockedPalette()===void 0))},encapsulation:2,changeDetection:0})};function ws(t,e){if(t&1&&(d(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),y(4,"Steps:"),f(),x(5,"input",4),f(),d(6,"label",5),x(7,"input",6),d(8,"span",7),y(9,"Auto"),f()()()()),t&2){let o=v();g("formGroup",o.configGroup),p(5),g("min",2)("max",100)}}var Po=class t{state=M(A);configGroup=void 0;constructor(){Q(()=>{let e=this.state.paletteStepsConfig();e.steps!==this.configGroup?.controls.steps.value&&this.configGroup?.controls.steps.setValue(e.steps,{emitEvent:!1}),e.automatic!==this.configGroup?.controls.automatic.value&&this.configGroup?.controls.automatic.setValue(e.automatic,{emitEvent:!1})})}ngOnInit(){let e=this.state.paletteStepsConfig();this.configGroup=new ve({steps:new Z(e.steps,{nonNullable:!0,validators:[et.min(2),et.max(100)]}),automatic:new Z(e.automatic,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(Ke(30),Xe((o,n)=>o.steps===n.steps&&o.automatic===n.automatic),Ze(this.configGroup.value)).subscribe(o=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteStepsConfigChanged({steps:o.steps??n.steps.value,automatic:o.automatic??n.automatic.value})})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palette-steps-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-2"],[1,"flex","flex-row","items-center"],["for","steps",1,"select-none"],["type","number","id","steps","formControlName","steps","value","10",3,"min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer","has-disabled:cursor-default"],["type","checkbox","formControlName","automatic",1,"peer"],[1,"peer-disabled:opacity-50"]],template:function(o,n){o&1&&N(0,ws,10,3,"form",0),o&2&&I(n.configGroup?0:-1)},dependencies:[we,ye,De,At,Ft,be,fe,Bt,$t,U,se,Ne],encapsulation:2,changeDetection:0})};var xs=["valor"];function _s(t,e){if(t&1&&(d(0,"option",2),y(1),f()),t&2){let o=e.$implicit,n=v();g("value",o)("selected",n.value&&o[n.displayKey()]===n.value[n.displayKey()]),p(),le(" ",o[n.displayKey()]," ")}}var ko=class t{constructor(e){this._elementRef=e}trackValue(e,o){let n=o[this.displayKey()]?.toString();return n?e+"-"+n:e.toString()}static nextId=0;controlType="select";valorInput;id=`${this.controlType}-${t.nextId++}`;selectId=`${this.id}-select`;userAriaDescribedBy;items=_([]);displayKey=_.required();upperCase=_(!1);get disabled(){return this._disabled}set disabled(e){this._disabled=e}_disabled=!1;get value(){return this._value}set value(e){this._value=e,this.touched||this.writeValue(e)}_value=void 0;_renderer=M(vn);onValueChange(e){let o=e.target.selectedIndex;this.value=this.items()[o],this.onChange(this._value),e.stopPropagation()}touched=!1;onFocusOut(e){this.touched=!0,this.onTouched?.call(this)}writeValue(e){if(this._value=e,e){let o=e[this.displayKey()],n=this.items().findIndex(a=>a[this.displayKey()]===o);n=n===-1?0:n;let r=this.valorInput?.nativeElement.querySelector(`option:nth-of-type(${n+1})`);this._renderer.setProperty(r,"selected","selected")}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e}onChange=e=>{};onTouched=()=>{};static \u0275fac=function(o){return new(o||t)(zt(bn))};static \u0275cmp=w({type:t,selectors:[["zz-select"]],viewQuery:function(o,n){if(o&1&&Lt(xs,7),o&2){let r;Tt(r=Rt())&&(n.valorInput=r.first)}},hostVars:2,hostBindings:function(o,n){o&2&&Et("id",n.id)("selectId",n.selectId)},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],items:[1,"items"],displayKey:[1,"displayKey"],upperCase:[1,"upperCase"],disabled:"disabled",value:"value"},features:[Pn([{provide:Fn,useExisting:Cn(()=>t),multi:!0}])],decls:4,vars:4,consts:[["valor",""],[1,"-mb-0.5","py-1","pl-2","pr-1","group","cursor-pointer","transition-all","ease-in-out","text-gris-900","group-focus-within:text-black","dark:bg-gris-900","dark:text-gris-100","group-focus-within:dark:text-white",3,"focusout","change","disabled","id"],[3,"value","selected"]],template:function(o,n){if(o&1){let r=X();d(0,"select",1,0),k("focusout",function(i){return O(r),j(n.onFocusOut(i))})("change",function(i){return O(r),j(n.onValueChange(i))}),te(2,_s,2,3,"option",2,n.trackValue,!0),f()}o&2&&(P("uppercase",n.upperCase()),g("disabled",n.disabled)("id",n.selectId),p(2),oe(n.items()))},dependencies:[Rn,we,Bn,Hn],encapsulation:2,changeDetection:0})};function Ms(t,e){if(t&1&&(d(0,"form",1)(1,"div",2)(2,"label",3),y(3,"Values:"),f(),x(4,"zz-select",4,0),f()()),t&2){let o=Sn(5),n=v();g("formGroup",n.configGroup),p(2),g("for",o.selectId),p(2),g("items",n.state.showValuesOptions)}}var Do=class t{state=M(A);configGroup=void 0;ngOnInit(){let e=this.state.paletteValuesConfig(),o=this.state.showValuesOption(e.showValues);this.configGroup=new ve({showValues:new Z(o,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(Ke(30),Xe((n,r)=>n.showValues?.value===r.showValues?.value),Ze(this.configGroup.value)).subscribe(n=>{let r=this.configGroup?.controls;r&&this.configGroup?.valid&&this.state.paletteValuesConfigChanged({showValues:n.showValues?.value??r.showValues.value.value})})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palette-values-config"]],decls:1,vars:1,consts:[["showValues",""],[3,"formGroup"],[1,"flex","flex-row","items-center"],[1,"select-none",3,"for"],["displayKey","text","formControlName","showValues",1,"w-16",3,"items"]],template:function(o,n){o&1&&N(0,Ms,6,3,"form",1),o&2&&I(n.configGroup?0:-1)},dependencies:[we,ye,be,fe,U,se,Ne,ko],encapsulation:2,changeDetection:0})};function Ss(t,e){if(t&1&&(d(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),y(4,"Height:"),f(),x(5,"input",4),f(),d(6,"label",5),x(7,"input",6),d(8,"span",7),y(9,"Flat"),f()(),d(10,"label",5),x(11,"input",8),d(12,"span",7),y(13,"Separate"),f()()()()),t&2){let o=v();g("formGroup",o.configGroup),p(5),g("min",1)("max",180)}}var No=class t{state=M(A);configGroup=void 0;ngOnInit(){let e=this.state.paletteVisualConfig();this.configGroup=new ve({height:new Z(e.height,{nonNullable:!0,validators:[et.min(1),et.max(180)]}),flat:new Z(e.flat,{nonNullable:!0}),separate:new Z(e.separate,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(Ke(30),Xe((o,n)=>o.height===n.height&&o.flat===n.flat&&o.separate===n.separate),Ze(this.configGroup.value)).subscribe(o=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteVisualConfigChanged({height:o.height??n.height.value,flat:o.flat??n.flat.value,separate:o.separate??n.separate.value})})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palette-visual-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-4"],[1,"flex","flex-row","items-center"],["for","height",1,"select-none"],["type","number","id","height","formControlName","height","value","10",3,"min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer","has-disabled:cursor-default"],["type","checkbox","formControlName","flat",1,"peer"],[1,"peer-disabled:opacity-50"],["type","checkbox","formControlName","separate",1,"peer"]],template:function(o,n){o&1&&N(0,Ss,14,3,"form",0),o&2&&I(n.configGroup?0:-1)},dependencies:[we,ye,De,At,Ft,be,fe,Bt,$t,U,se,Ne],encapsulation:2,changeDetection:0})};var Io=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palette-menu"]],decls:7,vars:0,consts:[[1,"@container","flex"],[1,"flex","items-center","justify-start","w-full","gap-6","@max-[760px]:items-start","@max-[760px]:flex-col","@max-[760px]:gap-2"],[1,"opacity-90","hover:opacity-100"],[1,"flex","items-center","justify-end","w-full","-mb-0.5","gap-6","@max-[760px]:items-end","@max-[760px]:flex-col","@max-[760px]:gap-2"]],template:function(o,n){o&1&&(d(0,"div",0)(1,"div",1),x(2,"zz-palette-steps-config",2)(3,"zz-palette-visual-config",2),f(),d(4,"div",3),x(5,"zz-palette-values-config",2)(6,"zz-palette-actions"),f()())},dependencies:[Po,No,Do,Vo],encapsulation:2,changeDetection:0})};function Vs(t,e){t&1&&x(0,"zz-color-palette",8),t&2&&g("palette",e.palette)}var La=class t{state=M(A);store=M(Ee);static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["zz-palettes"]],hostAttrs:["styles","display: block;  height: 100vh;  width: 100vw;  overflow-x: hidden;"],decls:15,vars:3,consts:[[1,"bg-application","w-screen","h-screen","overflow-x-hidden"],[1,"sticky","bg-application","z-20","top-0","left-0","right-0","shadow-md","dark:shadow-black/60"],[1,"grid","grid-rows-[minmax(min-content,200px)_auto]","grid-cols-[200px_auto]","lg:grid-cols-[200px_auto_200px]","gap-4","px-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"col-1","lg:col-3","row-1","pt-4"],[1,"block","w-full","h-fit",3,"height"],[1,"col-1","row-2","lg:row-1","lg:pt-4"],[1,"min-w-36","w-full","pt-3","pl-4","pr-0","lg:pr-4","relative","col-2","row-span-2"],[1,"mt-6","mb-4"],[1,"block","pb-4",3,"palette"]],template:function(o,n){if(o&1&&(d(0,"div",0)(1,"div",1),x(2,"zz-palettes-header"),f(),d(3,"main",2)(4,"div",3),x(5,"zz-color-sample",4),f(),d(6,"div",5),x(7,"zz-color-menu"),f(),d(8,"div",6),x(9,"zz-color-range-selector"),d(10,"div",7),x(11,"zz-palette-menu"),f(),x(12,"zz-color-palette",8),N(13,Vs,1,1,"zz-color-palette",8),f()()(),x(14,"zz-notification")),o&2){let r;p(5),g("height",150),p(7),g("palette",n.state.palette()),p(),I((r=n.store.lockedPalette())?13:-1,r)}},dependencies:[ho,go,bo,_o,Mo,So,Io],encapsulation:2,changeDetection:0})};export{La as PalettesComponent};
