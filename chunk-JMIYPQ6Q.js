import{a as P,b as $,c as A,d as O,e as R,f as j,g as Y,h as q,i as G,j as J,m as K,n as Q,o as U,p as W}from"./chunk-YSQ33PW7.js";import{Aa as L,Ca as F,Da as w,Ja as f,Ka as N,La as _,Ma as z,Na as V,Qa as M,Ra as T,Sa as l,Ta as a,Ua as h,Va as g,Xa as u,Y as p,Ya as c,Z as d,ca as S,db as x,eb as k,ga as E,gb as H,ia as m,kb as B,mb as I,qa as s,za as C}from"./chunk-GI7T4GG4.js";var b=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=C({type:t,selectors:[["zz-layout-header"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","max-w-[1600px]","leading-8"],[1,"text-3xl","m-0","font-museo-moderno","leading-7","text-orange-600","dark:text-orange-500"]],template:function(o,n){o&1&&(l(0,"header")(1,"nav",0)(2,"h1",1),x(3,"CoLoRina"),a(),h(4,"zz-dark-mode-toggle"),a()())},dependencies:[W],encapsulation:2})};var v=class t{collapse=E(!1,{alias:"zz-collapse-vertical"});static \u0275fac=function(o){return new(o||t)};static \u0275dir=L({type:t,selectors:[["","zz-collapse-vertical",""],["zzCollapseVertical"]],hostVars:4,hostBindings:function(o,n){o&2&&(N("height",n.collapse()?"0":"calc-size(auto, size)"),_("opacity-50",n.collapse()))},inputs:{collapse:[1,"zz-collapse-vertical","collapse"]},features:[F([G,P,J])]})};var ne=(t,e,o)=>({"bg-gris-100/85":t,"dark:bg-gris-800/85":e,bold:o}),te=(t,e,o)=>({"bg-gris-100/50":t,"dark:bg-gris-700/45":e,"semi-bold":o}),Z=(t,e)=>e.name;function re(t,e){if(t&1){let o=g();l(0,"li")(1,"span",5),u("click",function(){let i=p(o).$implicit,r=c(2);return d(r.variableSelected(i))}),x(2),a()()}if(t&2){let o=e.$implicit,n=c(2);s(),z(I(3,te,n.currentVariable().name===o.name,n.currentVariable().name===o.name,n.currentVariable().name===o.name)),s(),k(o.name)}}function ie(t,e){if(t&1){let o=g();H(0),l(1,"li",2)(2,"span",3),u("click",function(){let i=p(o).$implicit,r=c();return d(r.modelSelected(i))}),x(3),a(),l(4,"ul",4),M(5,re,3,7,"li",null,Z),a()()}if(t&2){let o=e.$implicit,n=c().currentModel().name===o.name;s(),_("border-1",n),s(),z(I(8,ne,n,n,n)),s(),k(o.name),s(),_("p-2",n),f("zz-collapse-vertical",!n),s(),T(o.components)}}var y=class t{models=$;currentModel=m(A.oklch);currentVariable=m(this.currentModel().components[this.currentModel().defaultVariableIndex]);currentVariableIndex=m(this.currentModel().components.findIndex(e=>e.name===this.currentModel().components[this.currentModel().defaultVariableIndex].name));colorConfigChange=new S;ngOnInit(){let e=this.currentModel();this.colorConfigChange.emit({model:e,variable:e.components[e.defaultVariableIndex],variableIndex:e.components.findIndex(o=>o.name===e.components[e.defaultVariableIndex].name)})}modelSelected(e){this.currentModel.set(e),this.currentVariable.set(e.components[e.defaultVariableIndex]),this.currentVariableIndex.set(e.components.findIndex(o=>o.name===e.components[e.defaultVariableIndex].name)),this.colorConfigChange.emit({model:e,variable:e.components[e.defaultVariableIndex],variableIndex:e.components.findIndex(o=>o.name===e.components[e.defaultVariableIndex].name)})}variableSelected(e){this.currentVariable.set(e),this.currentVariableIndex.set(this.currentModel().components.findIndex(o=>o.name===e.name)),this.colorConfigChange.emit({model:this.currentModel(),variable:e,variableIndex:this.currentModel().components.findIndex(o=>o.name===e.name)})}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=C({type:t,selectors:[["zz-color-menu"]],outputs:{colorConfigChange:"colorConfigChange"},decls:3,vars:0,consts:[[1,"space-y-2"],[1,"border-gris-200/50","dark:border-gris-800/85",3,"border-1"],[1,"border-gris-200/50","dark:border-gris-800/85"],[1,"select-none","uppercase","text-lg","w-full","cursor-pointer","inline-block","transition-all","p-2","rounded","hover:bg-gris-100","dark:hover:bg-gris-800/95",3,"click"],[1,"space-y-1",3,"zz-collapse-vertical"],[1,"select-none","w-full","inline-block","cursor-pointer","transition-all","px-2","py-1","rounded","dark:hover:bg-gris-700/60",3,"click"]],template:function(o,n){o&1&&(l(0,"ul",0),M(1,ie,7,12,"li",1,Z),a()),o&2&&(s(),T(n.models))},dependencies:[v],encapsulation:2})};var ae=()=>({alto:30,continuo:!0,pasos:60,automatico:!0,showValues:"no"});function le(t,e){if(t&1){let o=g();l(0,"div",4)(1,"zz-color-range-selector",6),u("colorChange",function(i){p(o);let r=c();return d(r.colorChange(i))})("rangeChange",function(i){p(o);let r=c();return d(r.rangeChange(i))}),a(),h(2,"zz-color-axis",7),a()}if(t&2){let o=e,n=c();s(),f("color-config",o)("axis-config",B(9,ae))("color-base",n.colorBase()),s(),f("color-config",o)("axis-config",n.axisConfig())("color-base",n.currentColor())("showClamp",!0)("min",n.minmax()[0])("max",n.minmax()[1])}}function se(t,e){if(t&1){let o=g();l(0,"zz-color-sample",8),u("newColor",function(i){p(o);let r=c();return d(r.onNewColor(i))}),a(),l(1,"div",9)(2,"zz-color-axis-config",10),u("axisConfigChange",function(i){p(o);let r=c();return d(r.configChanged(i))}),a()()}if(t&2){let o=c();f("height",200)("color-model",e.model)("current-color",o.currentColor())}}var ee=class t{colorConfig=m(void 0);axisConfig=m(void 0);colorBase=m([0,0,0]);minmax=m([0,0]);currentColor=m([0,0,0]);configChanged(e){this.axisConfig.set(e)}colorConfigChanged(e){let o=this.colorConfig()?.model.convert(this.currentColor()),n=e.model?.defaultValues()??[0,0,0];if(e.model.name===this.colorConfig()?.model.name&&(n=this.currentColor()),o)switch(e.model.name){case"hsl":n=j(o);break;case"oklch":n=Y(o);break;default:n=R(o)}this.colorConfig.set(e),this.minmax.set(e.variable?[e.variable.min,e.variable.max]:[0,0]),this.colorBase.set(n),this.currentColor.set(n)}colorChange(e){this.currentColor.set(e)}rangeChange(e){this.minmax.set(e)}onNewColor(e){let o=this.getChannels(e);this.colorBase.set(o),this.currentColor.set(o)}getChannels(e){let o=this.colorConfig()?.model;if(!o||o.name==="rgb")return e;let n=new O(`rgb(${e[0]} ${e[1]} ${e[2]})`).to(o.name),i=this.ensureCoord(n.coords[0],o.components[0]),r=this.ensureCoord(n.coords[1],o.components[1]),oe=this.ensureCoord(n.coords[2],o.components[2]);return[i,r,oe]}ensureCoord(e,o){let n=Number.isNaN(e)?0:e;return Math.max(0,Math.min(o.max,n))}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=C({type:t,selectors:[["zz-layout"]],decls:9,vars:2,consts:[[1,"flex","flex-row","items-top","justify-center","gap-0","m-auto","max-w-[1600px]","h-48"],[1,"w-68","p-4"],[3,"colorConfigChange"],[1,"w-full","p-4","pt-2"],[1,"relative","flex","flex-col"],[1,"w-124","p-4","space-y-4"],[3,"colorChange","rangeChange","color-config","axis-config","color-base"],[1,"block","p-6","mt-6",3,"color-config","axis-config","color-base","showClamp","min","max"],[1,"block",3,"newColor","height","color-model","current-color"],[1,"w-full","md:block","hidden"],[3,"axisConfigChange"]],template:function(o,n){if(o&1&&(l(0,"div"),h(1,"zz-layout-header"),a(),l(2,"main",0)(3,"div",1)(4,"zz-color-menu",2),u("colorConfigChange",function(r){return n.colorConfigChanged(r)}),a()(),l(5,"div",3),w(6,le,3,10,"div",4),a(),l(7,"div",5),w(8,se,3,3),a()()),o&2){let i,r;s(6),V((i=n.colorConfig())?6:-1,i),s(2),V((r=n.colorConfig())?8:-1,r)}},dependencies:[b,y,U,Q,q,K],styles:["[_nghost-%COMP%]{display:block;height:100vh;width:100vw}"]})};export{ee as LayoutComponent};
