import{$a as oi,A as tt,Aa as Xe,Ba as R,Ca as I,Eb as si,Fb as ro,G as ot,Gb as Fe,Ha as Ut,Hb as rt,Ia as g,Ib as xe,Ja as F,Jb as fe,Ka as B,Kb as ze,L as Wn,La as se,Lb as K,M as we,Ma as P,Mb as Me,Na as ye,Nb as ao,Oa as Qn,Ob as li,Pa as Q,Pb as ci,Qa as U,Qb as ce,R as k,Ra as p,Rb as Ne,Sa as f,Sb as ui,Ta as D,Tb as mi,Ua as ne,Ub as so,Va as eo,Vb as lo,Wa as N,Wb as _e,X as Z,Xa as b,Xb as te,Y as J,Ya as Un,Z as Ye,Za as ei,_a as ti,a as Qe,ab as x,b as Jn,ba as Wt,bb as le,c as Ue,cb as de,db as ve,ea as Nt,eb as to,fa as w,fb as oo,ga as Kt,gb as ni,ha as j,hb as ii,ib as no,jb as pn,kb as ri,lb as nt,mb as it,pa as d,rb as W,sa as Qt,sb as re,ta as qe,va as Kn,x as et,ya as M,yb as io,za as C,zb as ai}from"./chunk-3OPULTSB.js";var Bt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-display-base",""],["zzDisplayBase"]],hostVars:2,hostBindings:function(t,n){t&2&&se(n.tipo)}})},Se=class o extends Bt{tipo="inline-block";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-inline-block",""],["zzInlineBlock"]],features:[Xe]})},at=class o extends Bt{tipo="block";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-block",""],["zzBlock"]],features:[Xe]})},co=class o extends Bt{tipo="flex";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-flex",""],["zzFlex"]],features:[Xe]})};var Be=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["span","zz-icon",""]],hostAttrs:[1,"font-icons","text-larger-5","min-w-10","w-10","aspect-square","content-center"],features:[R([Se])]})};var st=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-appearance-none",""],["zzAppearanceNone"]],hostAttrs:[1,"appearance-none"]})},uo=class o{get estilos(){return"base-select"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-appearance-base-select",""],["zzAppearanceBaseSelect"]],hostVars:2,hostBindings:function(t,n){t&2&&F("appearance",n.estilos)}})};var lt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-select-none",""],["zzSelectNone"]],hostAttrs:[1,"select-none"]})};var Le=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-transition-default",""],["zzTransitionDefault"]],hostAttrs:[1,"transition-all"]})};var mo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-background-base",""],["zzBackgroundBase"]],hostVars:2,hostBindings:function(t,n){t&2&&se(n.varname)}})},po=class o extends mo{varname="bg-container";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-container-background",""],["zzContainerBackground"]],features:[Xe]})},fo=class o extends mo{varname="bg-button";static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ye(o)))(n||o)}})();static \u0275dir=C({type:o,selectors:[["","zz-button-background",""],["zzButtonBackground"]],features:[Xe]})};var ho=class o{get estilos(){return"hidden"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-overflow-hidden",""],["zzOverflowHidden"]],hostVars:2,hostBindings:function(t,n){t&2&&F("overflow",n.estilos)}})},go=class o{get estilos(){return"visible"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-overflow-visible",""],["zzOverflowVisible"]],hostVars:2,hostBindings:function(t,n){t&2&&F("overflow",n.estilos)}})},bo=class o{get estilos(){return"hidden"}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-overflow-y-hidden",""],["zzOverflowYHidden"]],hostVars:2,hostBindings:function(t,n){t&2&&F("overflow-y",n.estilos)}})};var sa=.125,ct=class o{radius=w("small",{alias:"zz-rounded",transform:e=>{let t=(e??"none").toLowerCase().trim();return t==="none"?"none":t==="normal"?"normal":t==="large"?"large":"small"}});get estilos(){let e=this.radius();if(e!=="none")return sa*(e==="normal"?3:e==="small"?2:4)}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-rounded",""],["zzRounded"]],hostVars:2,hostBindings:function(t,n){t&2&&F("border-radius",n.estilos,"rem")},inputs:{radius:[1,"zz-rounded","radius"]},features:[R([ho])]})};var vo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-button-hover",""],["zzButtonHover"]],hostAttrs:[1,"hover:bg-button-hover"]})};var Co=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-active",""],["zzActive"]],hostAttrs:[1,"active:not-disabled:scale-90"]})};var wo=class o{enabled=w(void 0,{alias:"show-focus-ring",transform:e=>e??!0});clases=W(()=>this.enabled()?`
          group-focus-within:ring-2 group-focus-within:ring-offset-0
          ring-gris-600/50 outline-none  
          dark:ring-gris-300/60
          focus:ring-2 focus:ring-offset-0
        `:"");static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-focus-ring",""],["zzFocusRing"]],hostVars:2,hostBindings:function(t,n){t&2&&se(n.clases())},inputs:{enabled:[1,"show-focus-ring","enabled"]}})};var Ee=class o{state=w(!1,{alias:"zz-disabled"});get opacity(){return this.state()?"0.5":void 0}get cursor(){return this.state()?"not-allowed":void 0}get userSelect(){return this.state()?"none":void 0}get shadow(){return this.state()?"0 0 #0000":void 0}get isDisabled(){return this.state().toString()==="true"?"":void 0}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-disabled",""],["zzDisabled"]],hostVars:9,hostBindings:function(t,n){t&2&&(Ut("disabled",n.isDisabled),F("opacity",n.opacity)("cursor",n.cursor)("user-select",n.userSelect)("shadow",n.shadow))},inputs:{state:[1,"zz-disabled","state"]}})};var ut=class o{onClick(e){e.preventDefault(),e.stopImmediatePropagation()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-button",""]],hostAttrs:[1,"min-w-fit","mx-0.5","cursor-pointer"],hostBindings:function(t,n){t&1&&N("click",function(r){return n.onClick(r)})},features:[R([st,Se,lt,Le,fo,{directive:ct,inputs:["zz-rounded","roundedSize"]},vo,Co,{directive:wo,inputs:["show-focus-ring","focus-ring"]},{directive:Ee,inputs:["zz-disabled","zzDisabled"]}])]})};var mt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-icon-button",""]],features:[R([ut])]})};var da=["zz-icon-toggle-button",""],yo=class o{value=Kn(!0);toggle=Nt();trueIcon=w("radio_button_checked",{transform:e=>e?.trim()||"radio_button_checked"});falseIcon=w("radio_button_unchecked",{transform:e=>e?.trim()||"radio_button_unchecked"});iconName=W(()=>this.value()?this.trueIcon():this.falseIcon());onClick(e){this.value.update(t=>!t),this.toggle.emit(this.value()),e.stopPropagation()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["button","zz-icon-toggle-button",""]],hostBindings:function(t,n){t&1&&N("click",function(r){return n.onClick(r)})},inputs:{value:[1,"value"],trueIcon:[1,"trueIcon"],falseIcon:[1,"falseIcon"]},outputs:{value:"valueChange",toggle:"toggle"},features:[R([mt])],attrs:da,decls:2,vars:1,consts:[["zz-icon",""]],template:function(t,n){t&1&&(p(0,"span",0),x(1),f()),t&2&&(d(),le(n.iconName()))},dependencies:[Be],encapsulation:2,changeDetection:0})};var Re=class o{save(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){let t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return console.error(`Error parsing value for ${e}:`,n),null}return null}delete(e){localStorage.removeItem(e)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=we({token:o,factory:o.\u0275fac,providedIn:"root"})};var xo=class o{store=k(Re);darkMode=j(this.store.get("darkMode")??!1);setDarkMode(e){this.darkMode.set(e)}constructor(){re(()=>this.apply(this.darkMode()))}apply(e){this.store.save("darkMode",e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.querySelector("meta[name='color-scheme']")?.setAttribute("content",e?"dark":"light")}static \u0275fac=function(t){return new(t||o)};static \u0275prov=we({token:o,factory:o.\u0275fac,providedIn:"root"})};var zo=class o{darkModeService=k(xo);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-dark-mode-toggle"]],decls:1,vars:2,consts:[["zz-icon-toggle-button","","falseIcon","dark_mode","trueIcon","light_mode",1,"m-1",2,"background-color","transparent !important",3,"toggle","focus-ring","value"]],template:function(t,n){t&1&&(p(0,"button",0),N("toggle",function(r){return n.darkModeService.setDarkMode(r)}),f()),t&2&&g("focus-ring",!1)("value",n.darkModeService.darkMode())},dependencies:[yo],encapsulation:2})};var pt=class o{show=w(!0,{alias:"zz-shadow"});static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-shadow",""],["zzShadow"]],hostVars:4,hostBindings:function(t,n){t&2&&B("shadow-md/50",n.show())("shadow-black",n.show())},inputs:{show:[1,"zz-shadow","show"]}})};var Te=class o{colorModel=w(void 0,{alias:"color-model"});values=w(void 0);get background(){return this.bgColor()??"black"}bgColor=W(()=>{let e=this.colorModel();if(!e)return;let t=this.values()??[0,0,0];return e.convert([t[0],t[1],t[2]])});static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","color-swatch",""]],hostVars:2,hostBindings:function(t,n){t&2&&F("background-color",n.background)},inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"]}})},Mo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","color-swatch-panel",""]],features:[R([{directive:Te,inputs:["color-model","color-model","values","values"]},{directive:ct,inputs:["zz-rounded","roundedSize"]},{directive:pt,inputs:["zz-shadow","shadow"]}])]})};var he=class o{constructor(e,t,n,i="",r=0,a=100,l=0){this.name=e;this.label=t;this.max=n;this.unit=i;this.precision=r;this.autoSteps=a;this.min=l;this.defaultValue=this.average(l,n),this.axisValues=this.calcAxisValues(l,n,o.axisSteps),this.stepSize=(n-l)/(o.axisSteps-1)}static axisSteps=50;defaultValue;stepSize;axisValues;calcAxisValues(e,t,n=50){let i=(t-e)/(n-1);return Array.from({length:n},(r,a)=>e+a*i)}convertAverage(e,t){return this.convert(this.internalAverage(e,t))}convert(e){return`${this.clampValue(e).toFixed(this.precision)}${this.unit}`}average(e,t){return Number.parseFloat(this.internalAverage(e,t).toFixed(this.precision))}clampValue(e){return e===void 0?this.defaultValue:Math.max(this.min,Math.min(this.max,e))}internalAverage(e,t){return(Math.max(this.min,e)+Math.min(this.max,t))/2}},dt=class{constructor(e,t,n=0,i){this.name=e;this.components=t;this.defaultVariableIndex=n;this.templateFn=i?.bind(this)||this.templateFn}templateFn=this.template;template(e){return`${this.name}(${e[0]} ${e[1]} ${e[2]})`}defaultValues(){return[this.components[0].defaultValue,this.components[1].defaultValue,this.components[2].defaultValue]}convert(e){return this.templateFn([this.components[0].convert(e[0]),this.components[1].convert(e[1]),this.components[2].convert(e[2])])}};var Lt=[new dt("oklch",[new he("Lightness","L",1,"",3,35),new he("Chroma","C",.4,"",3,20),new he("Hue","H",540,"",1,55,-180)]),new dt("hsl",[new he("Hue","H",540,"deg",0,55,-180),new he("Saturation","S",100,"%",0,20),new he("Lightness","L",100,"%",1,35)],2),new dt("rgb",[new he("Red","R",255,"",0,25),new he("Green","G",255,"",0,25),new he("Blue","B",255,"",0,25)])],ge={oklch:Lt[0],hsl:Lt[1],rgb:Lt[2]};function ha(o,e){if(o&1&&D(0,"div",2),o&2){let t=e.$implicit,n=b(2);g("color-model",n.colorModel())("values",t.valores)}}function ga(o,e){o&1&&(p(0,"div",1),Q(1,ha,1,2,"div",2,ye),f()),o&2&&(F("height",24,"px"),d(),U(e.swatches))}var _o=class o{palette=w(void 0);colorModel=W(()=>{let e=this.palette()?.model;if(e)return ge[e]});static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-mini-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"height"],[1,"flex","flex-row","justify-between"],["color-swatch","",1,"axis-swatch",3,"color-model","values"]],template:function(t,n){if(t&1&&I(0,ga,3,2,"div",0),t&2){let i;P((i=n.palette())?0:-1,i)}},dependencies:[Te],encapsulation:2,changeDetection:0})};function ba(o,e){if(o&1){let t=ne();p(0,"div",1)(1,"span",2),x(2),f(),p(3,"zz-mini-palette",3),N("click",function(){let i=Z(t).$implicit,r=b();return J(r.paletteClick(i))}),f(),p(4,"button",4),N("click",function(i){let r=Z(t).$index,a=b();return J(a.removePalette(i,r))}),p(5,"span",5),x(6,"close"),f()()()}if(o&2){let t=e.$implicit,n=e.$index;d(2),le(n+1),d(),g("palette",t.palette)}}var So=class o{palettes=w([]);paletteSelected=Nt();paletteRemoved=Nt();paletteClick(e){this.paletteSelected.emit(e)}removePalette(e,t){e.stopPropagation(),e.preventDefault(),this.paletteRemoved.emit(t)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-list"]],inputs:{palettes:[1,"palettes"]},outputs:{paletteSelected:"paletteSelected",paletteRemoved:"paletteRemoved"},decls:3,vars:0,consts:[[1,"h-fit"],[1,"last:pb-3","first:pt-3","transition-colors","duration-200","ease-in-out","flex","items-center","gap-2","group","hover:bg-gris-100/50","dark:hover:bg-gris-900/70","px-2","py-1.5"],[1,"transition-opacity","duration-200","ease-in-out","text-smaller-2","group-hover:opacity-100","opacity-75","block","w-3","text-right"],[1,"block","w-full","cursor-pointer","rounded","overflow-hidden",3,"click","palette"],["title","Remove palette",1,"transition-opacity","duration-200","ease-in-out","cursor-pointer","group-hover:opacity-100","opacity-75","flex","items-center","justify-center","rounded-full",3,"click"],[1,"font-icons","text-larger","-ml-1"]],template:function(t,n){t&1&&(p(0,"div",0),Q(1,ba,7,2,"div",1,ye),f()),t&2&&(d(),U(n.palettes()))},dependencies:[_o],encapsulation:2})};var Ae=class o{store=k(Re);saved=j(this.store.get("saved-palettes")??[]);lockedPalette=j(this.store.get("locked-palette")??void 0);lockPalette(e){let t=this.lockedPalette();if(t&&this.paletteEquals(t,e))return;this.store.save("locked-palette",e),this.lockedPalette.set(e);let n=this.saved();n.length>0&&this.paletteEquals(n[0],e)||(this.saved.update(i=>[e,...i].slice(0,10)),this.store.save("saved-palettes",this.saved()))}unlockPalette(){this.store.delete("locked-palette"),this.lockedPalette.set(void 0)}removePalette(e){this.saved.update(t=>{let n=[...t];return n.splice(e,1),n}),this.store.save("saved-palettes",this.saved())}paletteEquals(e,t){if(e.palette.model!==t.palette.model||e.state.variableConfig.variable.name!==t.state.variableConfig.variable.name)return!1;let n=e.state.variableConfig.variable.precision;if(e.state.minmax[0].toFixed(n)!==t.state.minmax[0].toFixed(n)||e.state.minmax[1].toFixed(n)!==t.state.minmax[1].toFixed(n)||e.palette.swatches.length!==t.palette.swatches.length)return!1;for(let i=0;i<e.palette.swatches.length;i++)if(e.palette.swatches[i]?.valores[0]!==t.palette.swatches[i]?.valores[0]||e.palette.swatches[i]?.valores[1]!==t.palette.swatches[i]?.valores[1]||e.palette.swatches[i]?.valores[2]!==t.palette.swatches[i]?.valores[2])return!1;return!0}static \u0275fac=function(t){return new(t||o)};static \u0275prov=we({token:o,factory:o.\u0275fac,providedIn:"root"})};function H(o,e){let t=o.length;Array.isArray(o[0])||(o=[o]),Array.isArray(e[0])||(e=e.map(a=>[a]));let n=e[0].length,i=e[0].map((a,l)=>e.map(s=>s[l])),r=o.map(a=>i.map(l=>{let s=0;if(!Array.isArray(a)){for(let c of l)s+=a*c;return s}for(let c=0;c<a.length;c++)s+=a[c]*(l[c]||0);return s}));return t===1&&(r=r[0]),n===1?r.map(a=>a[0]):r}function Gt(o){return He(o)==="string"}function He(o){return(Object.prototype.toString.call(o).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Lo(o,{precision:e,unit:t}){return $e(o)?"none":dr(o,e)+(t??"")}function $e(o){return Number.isNaN(o)||o instanceof Number&&o?.none}function q(o){return $e(o)?0:o}function dr(o,e){if(o===0)return 0;let t=~~o,n=0;t&&e&&(n=~~Math.log10(Math.abs(t))+1);let i=10**(e-n);return Math.floor(o*i+.5)/i}var va={deg:1,grad:.9,rad:180/Math.PI,turn:360};function fr(o){if(!o)return;o=o.trim();let e=/^([a-z]+)\((.+?)\)$/i,t=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,i=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,r=o.match(e);if(r){let a=[];return r[2].replace(i,(l,s)=>{let c=s.match(n),m=s;if(c){let u=c[0],h=m.slice(0,-u.length);u==="%"?(m=new Number(h/100),m.type="<percentage>"):(m=new Number(h*va[u]),m.type="<angle>",m.unit=u)}else t.test(m)?(m=new Number(m),m.type="<number>"):m==="none"&&(m=new Number(NaN),m.none=!0);l.startsWith("/")&&(m=m instanceof Number?m:new Number(m),m.alpha=!0),typeof m=="object"&&m instanceof Number&&(m.raw=s),a.push(m)}),{name:r[1].toLowerCase(),rawName:r[1],rawArgs:r[2],args:a}}}function hr(o){return o[o.length-1]}function At(o,e,t){return isNaN(o)?e:isNaN(e)?o:o+(e-o)*t}function gr(o,e,t){return(t-o)/(e-o)}function Bn(o,e,t){return At(e[0],e[1],gr(o[0],o[1],t))}function br(o){return o.map(e=>e.split("|").map(t=>{t=t.trim();let n=t.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let i=new String(n[1]);return i.range=[+n[2],+n[3]],i}return t}))}function vr(o,e,t){return Math.max(Math.min(t,e),o)}function Ho(o,e){return Math.sign(o)===Math.sign(e)?o:-o}function De(o,e){return Ho(Math.abs(o)**e,o)}function Ln(o,e){return e===0?0:o/e}function Cr(o,e,t=0,n=o.length){for(;t<n;){let i=t+n>>1;o[i]<e?t=i+1:n=i}return t}var Ca=Object.freeze({__proto__:null,bisectLeft:Cr,clamp:vr,copySign:Ho,interpolate:At,interpolateInv:gr,isNone:$e,isString:Gt,last:hr,mapRange:Bn,multiplyMatrices:H,parseCoordGrammar:br,parseFunction:fr,serializeNumber:Lo,skipNone:q,spow:De,toPrecision:dr,type:He,zdiv:Ln}),Sn=class{add(e,t,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],t&&this[i][n?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(n){n.call(t&&t.context?t.context:t,t)})}},Ge=new Sn,pe={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}},ie={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Dn(o){return Array.isArray(o)?o:ie[o]}function Eo(o,e,t,n={}){if(o=Dn(o),e=Dn(e),!o||!e)throw new TypeError(`Missing white point to convert ${o?"":"from"}${!o&&!e?"/":""}${e?"":"to"}`);if(o===e)return t;let i={W1:o,W2:e,XYZ:t,options:n};if(Ge.run("chromatic-adaptation-start",i),i.M||(i.W1===ie.D65&&i.W2===ie.D50?i.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:i.W1===ie.D50&&i.W2===ie.D65&&(i.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Ge.run("chromatic-adaptation-end",i),i.M)return H(i.M,i.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var wa=new Set(["<number>","<percentage>","<angle>"]);function gi(o,e,t,n){return Object.entries(o.coords).map(([r,a],l)=>{let s=e.coordGrammar[l],c=n[l],m=c?.type,u;if(c.none?u=s.find(v=>wa.has(v)):u=s.find(v=>v==m),!u){let v=a.name||r;throw new TypeError(`${m??c.raw} not allowed for ${v} in ${t}()`)}let h=u.range;m==="<percentage>"&&(h||=[0,1]);let _=a.range||a.refRange;return h&&_&&(n[l]=Bn(h,_,n[l])),u})}function wr(o,{meta:e}={}){let t={str:String(o)?.trim()};if(Ge.run("parse-start",t),t.color)return t.color;if(t.parsed=fr(t.str),t.parsed){let n=t.parsed.name;if(n==="color"){let i=t.parsed.args.shift(),r=i.startsWith("--")?i.substring(2):`--${i}`,a=[i,r],l=t.parsed.rawArgs.indexOf("/")>0?t.parsed.args.pop():1;for(let m of y.all){let u=m.getFormat("color");if(u&&(a.includes(u.id)||u.ids?.filter(h=>a.includes(h)).length)){let h=Object.keys(m.coords).map((v,T)=>t.parsed.args[T]||0),_;return u.coordGrammar&&(_=gi(m,u,"color",h)),e&&Object.assign(e,{formatId:"color",types:_}),u.id.startsWith("--")&&!i.startsWith("--")&&pe.warn(`${m.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${u.id}) instead of color(${i}).`),i.startsWith("--")&&!u.id.startsWith("--")&&pe.warn(`${m.name} is a standard space and supported in the CSS spec. Use color(${u.id}) instead of prefixed color(${i}).`),{spaceId:m.id,coords:h,alpha:l}}}let s="",c=i in y.registry?i:r;if(c in y.registry){let m=y.registry[c].formats?.color?.id;m&&(s=`Did you mean color(${m})?`)}throw new TypeError(`Cannot parse color(${i}). `+(s||"Missing a plugin?"))}else for(let i of y.all){let r=i.getFormat(n);if(r&&r.type==="function"){let a=1;(r.lastAlpha||hr(t.parsed.args).alpha)&&(a=t.parsed.args.pop());let l=t.parsed.args,s;return r.coordGrammar&&(s=gi(i,r,n,l)),e&&Object.assign(e,{formatId:r.name,types:s}),{spaceId:i.id,coords:l,alpha:a}}}}else for(let n of y.all)for(let i in n.formats){let r=n.formats[i];if(r.type!=="custom"||r.test&&!r.test(t.str))continue;let a=r.parse(t.str);if(a)return a.alpha??=1,e&&(e.formatId=i),a}throw new TypeError(`Could not parse ${o} as a color. Missing a plugin?`)}function S(o){if(Array.isArray(o))return o.map(S);if(!o)throw new TypeError("Empty color reference");Gt(o)&&(o=wr(o));let e=o.space||o.spaceId;return e instanceof y||(o.space=y.get(e)),o.alpha===void 0&&(o.alpha=1),o}var ya=75e-6,y=(()=>{class o{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?o.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let n=t.coords??this.base.coords;for(let r in n)"name"in n[r]||(n[r].name=r);this.coords=n;let i=t.white??this.base.white??"D65";this.white=Dn(i),this.formats=t.formats??{};for(let r in this.formats){let a=this.formats[r];a.type||="function",a.name||=r}this.formats.color?.id||(this.formats.color=Jn(Qe({},this.formats.color??{}),{id:t.cssId||this.id})),t.gamutSpace?this.gamutSpace=t.gamutSpace==="self"?this:o.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(r,a)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:xa(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Ge.run("colorspace-init-end",this)}inGamut(t,{epsilon:n=ya}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:n});let i=Object.values(this.coords);return t.every((r,a)=>{let l=i[a];if(l.type!=="angle"&&l.range){if(Number.isNaN(r))return!0;let[s,c]=l.range;return(s===void 0||r>=s-n)&&(c===void 0||r<=c+n)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=bi(t,this),t;let n;return t==="default"?n=Object.values(this.formats)[0]:n=this.formats[t],n?(n=bi(n,this),n):null}equals(t){return t?this===t||this.id===t||this.id===t.id:!1}to(t,n){if(arguments.length===1){let s=S(t);[t,n]=[s.space,s.coords]}if(t=o.get(t),this.equals(t))return n;n=n.map(s=>Number.isNaN(s)?0:s);let i=this.path,r=t.path,a,l;for(let s=0;s<i.length&&i[s].equals(r[s]);s++)a=i[s],l=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let s=i.length-1;s>l;s--)n=i[s].toBase(n);for(let s=l+1;s<r.length;s++)n=r[s].fromBase(n);return n}from(t,n){if(arguments.length===1){let i=S(t);[t,n]=[i.space,i.coords]}return t=o.get(t),t.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let n in this.coords){let i=this.coords[n],r=i.range||i.refRange;t.push(r?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(o.registry))]}static register(t,n){if(arguments.length===1&&(n=arguments[0],t=n.id),n=this.get(n),this.registry[t]&&this.registry[t]!==n)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=n,arguments.length===1&&n.aliases)for(let i of n.aliases)this.register(i,n);return n}static get(t,...n){if(!t||t instanceof o)return t;if(He(t)==="string"){let r=o.registry[t.toLowerCase()];if(!r)throw new TypeError(`No color space found with id = "${t}"`);return r}if(n.length)return o.get(...n);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,n){let i=He(t),r,a;if(i==="string"?t.includes(".")?[r,a]=t.split("."):[r,a]=[,t]:Array.isArray(t)?[r,a]=t:(r=t.space,a=t.coordId),r=o.get(r),r||(r=n),!r)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(i=He(a),i==="number"||i==="string"&&a>=0){let c=Object.entries(r.coords)[a];if(c)return Qe({space:r,id:c[0],index:a},c[1])}r=o.get(r);let l=a.toLowerCase(),s=0;for(let c in r.coords){let m=r.coords[c];if(c.toLowerCase()===l||m.name?.toLowerCase()===l)return Qe({space:r,id:c,index:s},m);s++}throw new TypeError(`No "${a}" coordinate found in ${r.name}. Its coordinates are: ${Object.keys(r.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}return o})();function xa(o){let e=[o];for(let t=o;t=t.base;)e.push(t);return e}function bi(o,{coords:e}={}){if(o.coords&&!o.coordGrammar){o.type||="function",o.name||="color",o.coordGrammar=br(o.coords);let t=Object.entries(e).map(([n,i],r)=>{let a=o.coordGrammar[r][0],l=i.range||i.refRange,s=a.range,c="";return a=="<percentage>"?(s=[0,100],c="%"):a=="<angle>"&&(c="deg"),{fromRange:l,toRange:s,suffix:c}});o.serializeCoords=(n,i)=>n.map((r,a)=>{let{fromRange:l,toRange:s,suffix:c}=t[a];return l&&s&&(r=Bn(l,s,r)),r=Lo(r,{precision:i,unit:c}),r})}return o}var ee=new y({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),oe=class extends y{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=ee),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??=t=>{let n=H(e.toXYZ_M,t);return this.white!==this.base.white&&(n=Eo(this.white,this.base.white,n)),n},e.fromBase??=t=>(t=Eo(this.base.white,this.white,t),H(e.fromXYZ_M,t))),e.referred??="display",super(e)}};function Ot(o,e){return o=S(o),!e||o.space.equals(e)?o.coords.slice():(e=y.get(e),e.from(o))}function ue(o,e){o=S(o);let{space:t,index:n}=y.resolveCoord(e,o.space);return Ot(o,t)[n]}function En(o,e,t){return o=S(o),e=y.get(e),o.coords=e.to(o.space,t),o}En.returns="color";function Ie(o,e,t){if(o=S(o),arguments.length===2&&He(arguments[1])==="object"){let n=arguments[1];for(let i in n)Ie(o,i,n[i])}else{typeof t=="function"&&(t=t(ue(o,e)));let{space:n,index:i}=y.resolveCoord(e,o.space),r=Ot(o,n);r[i]=t,En(o,n,r)}return o}Ie.returns="color";var Rn=new y({id:"xyz-d50",name:"XYZ D50",white:"D50",base:ee,fromBase:o=>Eo(ee.white,"D50",o),toBase:o=>Eo("D50",ee.white,o)}),za=216/24389,vi=24/116,Do=24389/27,gn=ie.D50,me=new y({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:gn,base:Rn,fromBase(o){let t=o.map((n,i)=>n/gn[i]).map(n=>n>za?Math.cbrt(n):(Do*n+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(o){let e=[];return e[1]=(o[0]+16)/116,e[0]=o[1]/500+e[1],e[2]=e[1]-o[2]/200,[e[0]>vi?Math.pow(e[0],3):(116*e[0]-16)/Do,o[0]>8?Math.pow((o[0]+16)/116,3):o[0]/Do,e[2]>vi?Math.pow(e[2],3):(116*e[2]-16)/Do].map((n,i)=>n*gn[i])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ke(o){return(o%360+360)%360}function Ma(o,e){if(o==="raw")return e;let[t,n]=e.map(ke),i=n-t;return o==="increasing"?i<0&&(n+=360):o==="decreasing"?i>0&&(t+=360):o==="longer"?-180<i&&i<180&&(i>0?t+=360:n+=360):o==="shorter"&&(i>180?t+=360:i<-180&&(n+=360)),[t,n]}var Ht=new y({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:me,fromBase(o){let[e,t,n]=o,i,r=.02;return Math.abs(t)<r&&Math.abs(n)<r?i=NaN:i=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(i)]},toBase(o){let[e,t,n]=o;return t<0&&(t=0),isNaN(n)&&(n=0),[e,t*Math.cos(n*Math.PI/180),t*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),Ci=25**7,Ro=Math.PI,wi=180/Ro,ft=Ro/180;function yi(o){let e=o*o;return e*e*e*o}function yr(o,e,{kL:t=1,kC:n=1,kH:i=1}={}){[o,e]=S([o,e]);let[r,a,l]=me.from(o),s=Ht.from(me,[r,a,l])[1],[c,m,u]=me.from(e),h=Ht.from(me,[c,m,u])[1];s<0&&(s=0),h<0&&(h=0);let _=(s+h)/2,v=yi(_),T=.5*(1-Math.sqrt(v/(v+Ci))),V=(1+T)*a,G=(1+T)*m,E=Math.sqrt(V**2+l**2),O=Math.sqrt(G**2+u**2),ae=V===0&&l===0?0:Math.atan2(l,V),Ve=G===0&&u===0?0:Math.atan2(u,G);ae<0&&(ae+=2*Ro),Ve<0&&(Ve+=2*Ro),ae*=wi,Ve*=wi;let Xt=c-r,Zt=O-E,Ce=Ve-ae,It=ae+Ve,On=Math.abs(Ce),Vt;E*O===0?Vt=0:On<=180?Vt=Ce:Ce>180?Vt=Ce-360:Ce<-180?Vt=Ce+360:pe.warn("the unthinkable has happened");let jn=2*Math.sqrt(O*E)*Math.sin(Vt*ft/2),oa=(r+c)/2,mn=(E+O)/2,Yn=yi(mn),Pe;E*O===0?Pe=It:On<=180?Pe=It/2:It<360?Pe=(It+360)/2:Pe=(It-360)/2;let qn=(oa-50)**2,na=1+.015*qn/Math.sqrt(20+qn),Xn=1+.045*mn,Ft=1;Ft-=.17*Math.cos((Pe-30)*ft),Ft+=.24*Math.cos(2*Pe*ft),Ft+=.32*Math.cos((3*Pe+6)*ft),Ft-=.2*Math.cos((4*Pe-63)*ft);let Zn=1+.015*mn*Ft,ia=30*Math.exp(-1*((Pe-275)/25)**2),ra=2*Math.sqrt(Yn/(Yn+Ci)),aa=-1*Math.sin(2*ia*ft)*ra,Jt=(Xt/(t*na))**2;return Jt+=(Zt/(n*Xn))**2,Jt+=(jn/(i*Zn))**2,Jt+=aa*(Zt/(n*Xn))*(jn/(i*Zn)),Math.sqrt(Jt)}var _a=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Sa=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Da=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],ka=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],vt=new y({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:ee,fromBase(o){let t=H(_a,o).map(n=>Math.cbrt(n));return H(Da,t)},toBase(o){let t=H(ka,o).map(n=>n**3);return H(Sa,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function kn(o,e){[o,e]=S([o,e]);let[t,n,i]=vt.from(o),[r,a,l]=vt.from(e),s=t-r,c=n-a,m=i-l;return Math.sqrt(s**2+c**2+m**2)}var Pa=75e-6;function We(o,e,{epsilon:t=Pa}={}){o=S(o),e||(e=o.space),e=y.get(e);let n=o.coords;return e!==o.space&&(n=e.from(o)),e.inGamut(n,{epsilon:t})}function Ct(o){return{space:o.space,coords:o.coords.slice(),alpha:o.alpha}}function xr(o,e,t="lab"){t=y.get(t);let n=t.from(o),i=t.from(e);return Math.sqrt(n.reduce((r,a,l)=>{let s=i[l];return isNaN(a)||isNaN(s)?r:r+(s-a)**2},0))}function Ta(o,e){return xr(o,e,"lab")}var Ia=Math.PI,xi=Ia/180;function Va(o,e,{l:t=2,c:n=1}={}){[o,e]=S([o,e]);let[i,r,a]=me.from(o),[,l,s]=Ht.from(me,[i,r,a]),[c,m,u]=me.from(e),h=Ht.from(me,[c,m,u])[1];l<0&&(l=0),h<0&&(h=0);let _=i-c,v=l-h,T=r-m,V=a-u,G=T**2+V**2-v**2,E=.511;i>=16&&(E=.040975*i/(1+.01765*i));let O=.0638*l/(1+.0131*l)+.638,ae;Number.isNaN(s)&&(s=0),s>=164&&s<=345?ae=.56+Math.abs(.2*Math.cos((s+168)*xi)):ae=.36+Math.abs(.4*Math.cos((s+35)*xi));let Ve=Math.pow(l,4),Xt=Math.sqrt(Ve/(Ve+1900)),Zt=O*(Xt*ae+1-Xt),Ce=(_/(t*E))**2;return Ce+=(v/(n*O))**2,Ce+=G/Zt**2,Math.sqrt(Ce)}var zi=203,An=new y({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:ee,fromBase(o){return o.map(e=>Math.max(e*zi,0))},toBase(o){return o.map(e=>Math.max(e/zi,0))}}),ko=1.15,Po=.66,Mi=2610/2**14,Fa=2**14/2610,_i=3424/2**12,Si=2413/2**7,Di=2392/2**7,Na=1.7*2523/2**5,ki=2**5/(1.7*2523),To=-.56,bn=16295499532821565e-27,Ba=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],La=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Ea=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Ra=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],zr=new y({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:An,fromBase(o){let[e,t,n]=o,i=ko*e-(ko-1)*n,r=Po*t-(Po-1)*e,l=H(Ba,[i,r,n]).map(function(h){let _=_i+Si*(h/1e4)**Mi,v=1+Di*(h/1e4)**Mi;return(_/v)**Na}),[s,c,m]=H(Ea,l);return[(1+To)*s/(1+To*s)-bn,c,m]},toBase(o){let[e,t,n]=o,i=(e+bn)/(1+To-To*(e+bn)),a=H(Ra,[i,t,n]).map(function(h){let _=_i-h**ki,v=Di*h**ki-Si;return 1e4*(_/v)**Fa}),[l,s,c]=H(La,a),m=(l+(ko-1)*c)/ko,u=(s+(Po-1)*m)/Po;return[m,u,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Pn=new y({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:zr,fromBase(o){let[e,t,n]=o,i,r=2e-4;return Math.abs(t)<r&&Math.abs(n)<r?i=NaN:i=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(i)]},toBase(o){return[o[0],o[1]*Math.cos(o[2]*Math.PI/180),o[1]*Math.sin(o[2]*Math.PI/180)]}});function Aa(o,e){[o,e]=S([o,e]);let[t,n,i]=Pn.from(o),[r,a,l]=Pn.from(e),s=t-r,c=n-a;Number.isNaN(i)&&Number.isNaN(l)?(i=0,l=0):Number.isNaN(i)?i=l:Number.isNaN(l)&&(l=i);let m=i-l,u=2*Math.sqrt(n*a)*Math.sin(m/2*(Math.PI/180));return Math.sqrt(s**2+c**2+u**2)}var Mr=3424/4096,_r=2413/128,Sr=2392/128,Pi=2610/16384,Ha=2523/32,$a=16384/2610,Ti=32/2523,Ga=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Oa=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],ja=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Ya=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Tn=new y({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:An,fromBase(o){let e=H(Ga,o);return qa(e)},toBase(o){let e=Xa(o);return H(Ya,e)}});function qa(o){let e=o.map(function(t){let n=Mr+_r*(t/1e4)**Pi,i=1+Sr*(t/1e4)**Pi;return(n/i)**Ha});return H(Oa,e)}function Xa(o){return H(ja,o).map(function(n){let i=Math.max(n**Ti-Mr,0),r=_r-Sr*n**Ti;return 1e4*(i/r)**$a})}function Za(o,e){[o,e]=S([o,e]);let[t,n,i]=Tn.from(o),[r,a,l]=Tn.from(e);return 720*Math.sqrt((t-r)**2+.25*(n-a)**2+(i-l)**2)}var Ja=ie.D65,Dr=.42,Ii=1/Dr,vn=2*Math.PI,kr=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],Wa=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Ka=[[460,451,288],[460,-891,-261],[460,-220,-6300]],Qa={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Je={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Ua=180/Math.PI,Vi=Math.PI/180;function Pr(o,e){return o.map(n=>{let i=De(e*Math.abs(n)*.01,Dr);return 400*Ho(i,n)/(i+27.13)})}function es(o,e){let t=100/e*27.13**Ii;return o.map(n=>{let i=Math.abs(n);return Ho(t*De(i/(400-i),Ii),n)})}function ts(o){let e=ke(o);e<=Je.h[0]&&(e+=360);let t=Cr(Je.h,e)-1,[n,i]=Je.h.slice(t,t+2),[r,a]=Je.e.slice(t,t+2),l=Je.H[t],s=(e-n)/r;return l+100*s/(s+(i-e)/a)}function os(o){let e=(o%400+400)%400,t=Math.floor(.01*e);e=e%100;let[n,i]=Je.h.slice(t,t+2),[r,a]=Je.e.slice(t,t+2);return ke((e*(a*n-r*i)-100*n*a)/(e*(a-r)-100*a))}function Tr(o,e,t,n,i){let r={};r.discounting=i,r.refWhite=o,r.surround=n;let a=o.map(T=>T*100);r.la=e,r.yb=t;let l=a[1],s=H(kr,a);n=Qa[r.surround];let c=n[0];r.c=n[1],r.nc=n[2];let u=(1/(5*r.la+1))**4;r.fl=u*r.la+.1*(1-u)*(1-u)*Math.cbrt(5*r.la),r.flRoot=r.fl**.25,r.n=r.yb/l,r.z=1.48+Math.sqrt(r.n),r.nbb=.725*r.n**-.2,r.ncb=r.nbb;let h=i?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-r.la-42)/92)),1),0);r.dRgb=s.map(T=>At(1,l/T,h)),r.dRgbInv=r.dRgb.map(T=>1/T);let _=s.map((T,V)=>T*r.dRgb[V]),v=Pr(_,r.fl);return r.aW=r.nbb*(2*v[0]+v[1]+.05*v[2]),r}var Fi=Tr(Ja,64/Math.PI*.2,20,"average",!1);function In(o,e){if(!(o.J!==void 0^o.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(o.C!==void 0^o.M!==void 0^o.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(o.h!==void 0^o.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(o.J===0||o.Q===0)return[0,0,0];let t=0;o.h!==void 0?t=ke(o.h)*Vi:t=os(o.H)*Vi;let n=Math.cos(t),i=Math.sin(t),r=0;o.J!==void 0?r=De(o.J,1/2)*.1:o.Q!==void 0&&(r=.25*e.c*o.Q/((e.aW+4)*e.flRoot));let a=0;o.C!==void 0?a=o.C/r:o.M!==void 0?a=o.M/e.flRoot/r:o.s!==void 0&&(a=4e-4*o.s**2*(e.aW+4)/e.c);let l=De(a*Math.pow(1.64-Math.pow(.29,e.n),-.73),10/9),s=.25*(Math.cos(t+2)+3.8),c=e.aW*De(r,2/e.c/e.z),m=5e4/13*e.nc*e.ncb*s,u=c/e.nbb,h=23*(u+.305)*Ln(l,23*m+l*(11*n+108*i)),_=h*n,v=h*i,T=es(H(Ka,[u,_,v]).map(V=>V*1/1403),e.fl);return H(Wa,T.map((V,G)=>V*e.dRgbInv[G])).map(V=>V/100)}function Ir(o,e){let t=o.map(O=>O*100),n=Pr(H(kr,t).map((O,ae)=>O*e.dRgb[ae]),e.fl),i=n[0]+(-12*n[1]+n[2])/11,r=(n[0]+n[1]-2*n[2])/9,a=(Math.atan2(r,i)%vn+vn)%vn,l=.25*(Math.cos(a+2)+3.8),s=5e4/13*e.nc*e.ncb*Ln(l*Math.sqrt(i**2+r**2),n[0]+n[1]+1.05*n[2]+.305),c=De(s,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),m=e.nbb*(2*n[0]+n[1]+.05*n[2]),u=De(m/e.aW,.5*e.c*e.z),h=100*De(u,2),_=4/e.c*u*(e.aW+4)*e.flRoot,v=c*u,T=v*e.flRoot,V=ke(a*Ua),G=ts(V),E=50*De(e.c*c/(e.aW+4),1/2);return{J:h,C:v,h:V,s:E,Q:_,M:T,H:G}}var ns=new y({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:ee,fromBase(o){let e=Ir(o,Fi);return[e.J,e.M,e.h]},toBase(o){return In({J:o[0],M:o[1],h:o[2]},Fi)}}),is=ie.D65,rs=216/24389,Vr=24389/27;function as(o){return 116*(o>rs?Math.cbrt(o):(Vr*o+16)/116)-16}function Vn(o){return o>8?Math.pow((o+16)/116,3):o/Vr}function ss(o,e){let[t,n,i]=o,r=[],a=0;if(i===0)return[0,0,0];let l=Vn(i);i>0?a=.00379058511492914*i**2+.608983189401032*i+.9155088574762233:a=9514440756550361e-21*i**2+.08693057439788597*i-21.928975842194614;let s=2e-12,c=15,m=0,u=1/0;for(;m<=c;){r=In({J:a,C:n,h:t},e);let h=Math.abs(r[1]-l);if(h<u){if(h<=s)return r;u=h}a=a-(r[1]-l)*a/(2*r[1]),m+=1}return In({J:a,C:n,h:t},e)}function ls(o,e){let t=as(o[1]);if(t===0)return[0,0,0];let n=Ir(o,Hn);return[ke(n.h),n.C,t]}var Hn=Tr(is,200/Math.PI*Vn(50),Vn(50)*100,"average",!1),$t=new y({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:ee,fromBase(o){return ls(o)},toBase(o){return ss(o,Hn)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),cs=Math.PI/180,Ni=[1,.007,.0228];function Bi(o){o[1]<0&&(o=$t.fromBase($t.toBase(o)));let e=Math.log(Math.max(1+Ni[2]*o[1]*Hn.flRoot,1))/Ni[2],t=o[0]*cs,n=e*Math.cos(t),i=e*Math.sin(t);return[o[2],n,i]}function us(o,e){[o,e]=S([o,e]);let[t,n,i]=Bi($t.from(o)),[r,a,l]=Bi($t.from(e));return Math.sqrt((t-r)**2+(n-a)**2+(i-l)**2)}var wt={deltaE76:Ta,deltaECMC:Va,deltaE2000:yr,deltaEJz:Aa,deltaEITP:Za,deltaEOK:kn,deltaEHCT:us};function ms(o){let e=o?Math.floor(Math.log10(Math.abs(o))):0;return Math.max(parseFloat(`1e${e-2}`),1e-6)}var Li={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Oe(o,{method:e=pe.gamut_mapping,space:t=void 0,deltaEMethod:n="",jnd:i=2,blackWhiteClamp:r={}}={}){if(o=S(o),Gt(arguments[1])?t=arguments[1]:t||(t=o.space),t=y.get(t),We(o,t,{epsilon:0}))return o;let a;if(e==="css")a=ps(o,{space:t});else{if(e!=="clip"&&!We(o,t)){Object.prototype.hasOwnProperty.call(Li,e)&&({method:e,jnd:i,deltaEMethod:n,blackWhiteClamp:r}=Li[e]);let l=yr;if(n!==""){for(let c in wt)if("deltae"+n.toLowerCase()===c.toLowerCase()){l=wt[c];break}}let s=Oe(A(o,t),{method:"clip",space:t});if(l(o,s)>i){if(Object.keys(r).length===3){let E=y.resolveCoord(r.channel),O=ue(A(o,E.space),E.id);if($e(O)&&(O=0),O>=r.max)return A({space:"xyz-d65",coords:ie.D65},o.space);if(O<=r.min)return A({space:"xyz-d65",coords:[0,0,0]},o.space)}let c=y.resolveCoord(e),m=c.space,u=c.id,h=A(o,m);h.coords.forEach((E,O)=>{$e(E)&&(h.coords[O]=0)});let v=(c.range||c.refRange)[0],T=ms(i),V=v,G=ue(h,u);for(;G-V>T;){let E=Ct(h);E=Oe(E,{space:t,method:"clip"}),l(h,E)-i<T?V=ue(h,u):G=ue(h,u),Ie(h,u,(V+G)/2)}a=A(h,t)}else a=s}else a=A(o,t);if(e==="clip"||!We(a,t,{epsilon:0})){let l=Object.values(t.coords).map(s=>s.range||[]);a.coords=a.coords.map((s,c)=>{let[m,u]=l[c];return m!==void 0&&(s=Math.max(m,s)),u!==void 0&&(s=Math.min(s,u)),s})}}return t!==o.space&&(a=A(a,o.space)),o.coords=a.coords,o}Oe.returns="color";var Ei={WHITE:{space:vt,coords:[1,0,0]},BLACK:{space:vt,coords:[0,0,0]}};function ps(o,{space:e}={}){o=S(o),e||(e=o.space),e=y.get(e);let i=y.get("oklch");if(e.isUnbounded)return A(o,e);let r=A(o,i),a=r.coords[0];if(a>=1){let v=A(Ei.WHITE,e);return v.alpha=o.alpha,A(v,e)}if(a<=0){let v=A(Ei.BLACK,e);return v.alpha=o.alpha,A(v,e)}if(We(r,e,{epsilon:0}))return A(r,e);function l(v){let T=A(v,e),V=Object.values(e.coords);return T.coords=T.coords.map((G,E)=>{if("range"in V[E]){let[O,ae]=V[E].range;return vr(O,G,ae)}return G}),T}let s=0,c=r.coords[1],m=!0,u=Ct(r),h=l(u),_=kn(h,u);if(_<.02)return h;for(;c-s>1e-4;){let v=(s+c)/2;if(u.coords[1]=v,m&&We(u,e,{epsilon:0}))s=v;else if(h=l(u),_=kn(h,u),_<.02){if(.02-_<1e-4)break;m=!1,s=v}else c=v}return h}function A(o,e,{inGamut:t}={}){o=S(o),e=y.get(e);let n=e.from(o),i={space:e,coords:n,alpha:o.alpha};return t&&(i=Oe(i,t===!0?void 0:t)),i}A.returns="color";function Rt(o,r={}){var a=r,{precision:e=pe.precision,format:t="default",inGamut:n=!0}=a,i=Ue(a,["precision","format","inGamut"]);let l;o=S(o);let s=t;t=o.space.getFormat(t)??o.space.getFormat("default")??y.DEFAULT_FORMAT;let c=o.coords.slice();if(n||=t.toGamut,n&&!We(o)&&(c=Oe(Ct(o),n===!0?void 0:n).coords),t.type==="custom")if(i.precision=e,t.serialize)l=t.serialize(c,o.alpha,i);else throw new TypeError(`format ${s} can only be used to parse colors, not for serialization`);else{let m=t.name||"color";t.serializeCoords?c=t.serializeCoords(c,e):e!==null&&(c=c.map(v=>Lo(v,{precision:e})));let u=[...c];if(m==="color"){let v=t.id||t.ids?.[0]||o.space.id;u.unshift(v)}let h=o.alpha;e!==null&&(h=Lo(h,{precision:e}));let _=o.alpha>=1||t.noAlpha?"":`${t.commas?",":" /"} ${h}`;l=`${m}(${u.join(t.commas?", ":" ")}${_})`}return l}var ds=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fs=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],$o=new oe({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:ds,fromXYZ_M:fs}),Io=1.09929682680944,Ri=.018053968510807,Fr=new oe({id:"rec2020",name:"REC.2020",base:$o,toBase(o){return o.map(function(e){return e<Ri*4.5?e/4.5:Math.pow((e+Io-1)/Io,1/.45)})},fromBase(o){return o.map(function(e){return e>=Ri?Io*Math.pow(e,.45)-(Io-1):4.5*e})}}),hs=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],gs=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],Nr=new oe({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:hs,fromXYZ_M:gs}),bs=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],X=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],Br=new oe({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:bs,fromXYZ_M:X}),Ai={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},Hi=Array(3).fill("<percentage> | <number>[0, 255]"),$i=Array(3).fill("<number>[0, 255]"),yt=new oe({id:"srgb",name:"sRGB",base:Br,fromBase:o=>o.map(e=>{let t=e<0?-1:1,n=e*t;return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:o=>o.map(e=>{let t=e<0?-1:1,n=e*t;return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:Hi},rgb_number:{name:"rgb",commas:!0,coords:$i,noAlpha:!0},color:{},rgba:{coords:Hi,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:$i},hex:{type:"custom",toGamut:!0,test:o=>/^#([a-f0-9]{3,4}){1,2}$/i.test(o),parse(o){o.length<=5&&(o=o.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return o.replace(/[a-f0-9]{2}/gi,t=>{e.push(parseInt(t,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(o,e,{collapse:t=!0}={})=>{e<1&&o.push(e),o=o.map(r=>Math.round(r*255));let n=t&&o.every(r=>r%17===0);return"#"+o.map(r=>n?(r/17).toString(16):r.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:o=>/^[a-z]+$/i.test(o),parse(o){o=o.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(o==="transparent"?(e.coords=Ai.black,e.alpha=0):e.coords=Ai[o],e.coords)return e}}}}),Lr=new oe({id:"p3",cssId:"display-p3",name:"P3",base:Nr,fromBase:yt.fromBase,toBase:yt.toBase});pe.display_space=yt;var vs;if(typeof CSS<"u"&&CSS.supports)for(let o of[me,Fr,Lr]){let e=o.getMinCoords(),n=Rt({space:o,coords:e,alpha:1});if(CSS.supports("color",n)){pe.display_space=o;break}}function Cs(o,n={}){var i=n,{space:e=pe.display_space}=i,t=Ue(i,["space"]);let r=Rt(o,t);if(typeof CSS>"u"||CSS.supports("color",r)||!pe.display_space)r=new String(r),r.color=o;else{let a=o;if((o.coords.some($e)||$e(o.alpha))&&!(vs??=CSS.supports("color","hsl(none 50% 50%)"))&&(a=Ct(o),a.coords=a.coords.map(q),a.alpha=q(a.alpha),r=Rt(a,t),CSS.supports("color",r)))return r=new String(r),r.color=a,r;a=A(a,e),r=new String(Rt(a,t)),r.color=a}return r}function ws(o,e){return o=S(o),e=S(e),o.space===e.space&&o.alpha===e.alpha&&o.coords.every((t,n)=>t===e.coords[n])}function je(o){return ue(o,[ee,"y"])}function Er(o,e){Ie(o,[ee,"y"],e)}function ys(o){Object.defineProperty(o.prototype,"luminance",{get(){return je(this)},set(e){Er(this,e)}})}var xs=Object.freeze({__proto__:null,getLuminance:je,register:ys,setLuminance:Er});function zs(o,e){o=S(o),e=S(e);let t=Math.max(je(o),0),n=Math.max(je(e),0);return n>t&&([t,n]=[n,t]),(t+.05)/(n+.05)}var Ms=.56,_s=.57,Ss=.62,Ds=.65,Gi=.022,ks=1.414,Ps=.1,Ts=5e-4,Is=1.14,Oi=.027,Vs=1.14;function ji(o){return o>=Gi?o:o+(Gi-o)**ks}function ht(o){let e=o<0?-1:1,t=Math.abs(o);return e*Math.pow(t,2.4)}function Fs(o,e){e=S(e),o=S(o);let t,n,i,r,a,l;e=A(e,"srgb"),[r,a,l]=e.coords;let s=ht(r)*.2126729+ht(a)*.7151522+ht(l)*.072175;o=A(o,"srgb"),[r,a,l]=o.coords;let c=ht(r)*.2126729+ht(a)*.7151522+ht(l)*.072175,m=ji(s),u=ji(c),h=u>m;return Math.abs(u-m)<Ts?n=0:h?(t=u**Ms-m**_s,n=t*Is):(t=u**Ds-m**Ss,n=t*Vs),Math.abs(n)<Ps?i=0:n>0?i=n-Oi:i=n+Oi,i*100}function Ns(o,e){o=S(o),e=S(e);let t=Math.max(je(o),0),n=Math.max(je(e),0);n>t&&([t,n]=[n,t]);let i=t+n;return i===0?0:(t-n)/i}var Bs=5e4;function Ls(o,e){o=S(o),e=S(e);let t=Math.max(je(o),0),n=Math.max(je(e),0);return n>t&&([t,n]=[n,t]),n===0?Bs:(t-n)/n}function Es(o,e){o=S(o),e=S(e);let t=ue(o,[me,"l"]),n=ue(e,[me,"l"]);return Math.abs(t-n)}var Rs=216/24389,Yi=24/116,Vo=24389/27,Cn=ie.D65,Fn=new y({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Cn,base:ee,fromBase(o){let t=o.map((n,i)=>n/Cn[i]).map(n=>n>Rs?Math.cbrt(n):(Vo*n+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(o){let e=[];return e[1]=(o[0]+16)/116,e[0]=o[1]/500+e[1],e[2]=e[1]-o[2]/200,[e[0]>Yi?Math.pow(e[0],3):(116*e[0]-16)/Vo,o[0]>8?Math.pow((o[0]+16)/116,3):o[0]/Vo,e[2]>Yi?Math.pow(e[2],3):(116*e[2]-16)/Vo].map((n,i)=>n*Cn[i])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),wn=Math.pow(5,.5)*.5+.5;function As(o,e){o=S(o),e=S(e);let t=ue(o,[Fn,"l"]),n=ue(e,[Fn,"l"]),i=Math.abs(Math.pow(t,wn)-Math.pow(n,wn)),r=Math.pow(i,1/wn)*Math.SQRT2-40;return r<7.5?0:r}var Bo=Object.freeze({__proto__:null,contrastAPCA:Fs,contrastDeltaPhi:As,contrastLstar:Es,contrastMichelson:Ns,contrastWCAG21:zs,contrastWeber:Ls});function Hs(o,e,t={}){Gt(t)&&(t={algorithm:t});let r=t,{algorithm:n}=r,i=Ue(r,["algorithm"]);if(!n){let a=Object.keys(Bo).map(l=>l.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}o=S(o),e=S(e);for(let a in Bo)if("contrast"+n.toLowerCase()===a.toLowerCase())return Bo[a](o,e,i);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function Go(o){let[e,t,n]=Ot(o,ee),i=e+15*t+3*n;return[4*e/i,9*t/i]}function Rr(o){let[e,t,n]=Ot(o,ee),i=e+t+n;return[e/i,t/i]}function $s(o){Object.defineProperty(o.prototype,"uv",{get(){return Go(this)}}),Object.defineProperty(o.prototype,"xy",{get(){return Rr(this)}})}var Gs=Object.freeze({__proto__:null,register:$s,uv:Go,xy:Rr});function Et(o,e,t={}){Gt(t)&&(t={method:t});let r=t,{method:n=pe.deltaE}=r,i=Ue(r,["method"]);for(let a in wt)if("deltae"+n.toLowerCase()===a.toLowerCase())return wt[a](o,e,i);throw new TypeError(`Unknown deltaE method: ${n}`)}function Os(o,e=.25){let n=[y.get("oklch","lch"),"l"];return Ie(o,n,i=>i*(1+e))}function js(o,e=.25){let n=[y.get("oklch","lch"),"l"];return Ie(o,n,i=>i*(1-e))}var Ys=Object.freeze({__proto__:null,darken:js,lighten:Os});function Ar(o,e,t=.5,n={}){return[o,e]=[S(o),S(e)],He(t)==="object"&&([t,n]=[.5,t]),jt(o,e,n)(t)}function Hr(o,e,t={}){let n;$n(o)&&([n,t]=[o,e],[o,e]=n.rangeArgs.colors);let h=t,{maxDeltaE:i,deltaEMethod:r,steps:a=2,maxSteps:l=1e3}=h,s=Ue(h,["maxDeltaE","deltaEMethod","steps","maxSteps"]);n||([o,e]=[S(o),S(e)],n=jt(o,e,s));let c=Et(o,e),m=i>0?Math.max(a,Math.ceil(c/i)+1):a,u=[];if(l!==void 0&&(m=Math.min(m,l)),m===1)u=[{p:.5,color:n(.5)}];else{let _=1/(m-1);u=Array.from({length:m},(v,T)=>{let V=T*_;return{p:V,color:n(V)}})}if(i>0){let _=u.reduce((v,T,V)=>{if(V===0)return 0;let G=Et(T.color,u[V-1].color,r);return Math.max(v,G)},0);for(;_>i;){_=0;for(let v=1;v<u.length&&u.length<l;v++){let T=u[v-1],V=u[v],G=(V.p+T.p)/2,E=n(G);_=Math.max(_,Et(E,T.color),Et(E,V.color)),u.splice(v,0,{p:G,color:n(G)}),v++}}}return u=u.map(_=>_.color),u}function jt(o,e,t={}){if($n(o)){let[s,c]=[o,e];return jt(...s.rangeArgs.colors,Qe(Qe({},s.rangeArgs.options),c))}let{space:n,outputSpace:i,progression:r,premultiplied:a}=t;o=S(o),e=S(e),o=Ct(o),e=Ct(e);let l={colors:[o,e],options:t};if(n?n=y.get(n):n=y.registry[pe.interpolationSpace]||o.space,i=i?y.get(i):n,o=A(o,n),e=A(e,n),o=Oe(o),e=Oe(e),n.coords.h&&n.coords.h.type==="angle"){let s=t.hue=t.hue||"shorter",c=[n,"h"],[m,u]=[ue(o,c),ue(e,c)];isNaN(m)&&!isNaN(u)?m=u:isNaN(u)&&!isNaN(m)&&(u=m),[m,u]=Ma(s,[m,u]),Ie(o,c,m),Ie(e,c,u)}return a&&(o.coords=o.coords.map(s=>s*o.alpha),e.coords=e.coords.map(s=>s*e.alpha)),Object.assign(s=>{s=r?r(s):s;let c=o.coords.map((h,_)=>{let v=e.coords[_];return At(h,v,s)}),m=At(o.alpha,e.alpha,s),u={space:n,coords:c,alpha:m};return a&&(u.coords=u.coords.map(h=>h/m)),i!==n&&(u=A(u,i)),u},{rangeArgs:l})}function $n(o){return He(o)==="function"&&!!o.rangeArgs}pe.interpolationSpace="lab";function qs(o){o.defineFunction("mix",Ar,{returns:"color"}),o.defineFunction("range",jt,{returns:"function<color>"}),o.defineFunction("steps",Hr,{returns:"array<color>"})}var Xs=Object.freeze({__proto__:null,isRange:$n,mix:Ar,range:jt,register:qs,steps:Hr}),$r=new y({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:yt,fromBase:o=>{let e=Math.max(...o),t=Math.min(...o),[n,i,r]=o,[a,l,s]=[NaN,0,(t+e)/2],c=e-t;if(c!==0){switch(l=s===0||s===1?0:(e-s)/Math.min(s,1-s),e){case n:a=(i-r)/c+(i<r?6:0);break;case i:a=(r-n)/c+2;break;case r:a=(n-i)/c+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,s*100]},toBase:o=>{let[e,t,n]=o;e=e%360,e<0&&(e+=360),t/=100,n/=100;function i(r){let a=(r+e/30)%12,l=t*Math.min(n,1-n);return n-l*Math.max(-1,Math.min(a-3,9-a,1))}return[i(0),i(8),i(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Gr=new y({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:$r,fromBase(o){let[e,t,n]=o;t/=100,n/=100;let i=n+t*Math.min(n,1-n);return[e,i===0?0:200*(1-n/i),100*i]},toBase(o){let[e,t,n]=o;t/=100,n/=100;let i=n*(1-t/2);return[e,i===0||i===1?0:(n-i)/Math.min(i,1-i)*100,i*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Zs=new y({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Gr,fromBase(o){let[e,t,n]=o;return[e,n*(100-t)/100,100-n]},toBase(o){let[e,t,n]=o;t/=100,n/=100;let i=t+n;if(i>=1){let l=t/i;return[e,0,l*100]}let r=1-n,a=r===0?0:1-t/r;return[e,a*100,r*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Js=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],Ws=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],Or=new oe({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:Js,fromXYZ_M:Ws}),Ks=new oe({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:Or,toBase:o=>o.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:o=>o.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),Qs=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],Us=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],jr=new oe({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Rn,toXYZ_M:Qs,fromXYZ_M:Us}),el=1/512,tl=16/512,ol=new oe({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:jr,toBase(o){return o.map(e=>e<tl?e/16:e**1.8)},fromBase(o){return o.map(e=>e>=el?e**(1/1.8):16*e)}}),nl=new y({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:vt,fromBase(o){let[e,t,n]=o,i,r=2e-4;return Math.abs(t)<r&&Math.abs(n)<r?i=NaN:i=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(i)]},toBase(o){let[e,t,n]=o,i,r;return isNaN(n)?(i=0,r=0):(i=t*Math.cos(n*Math.PI/180),r=t*Math.sin(n*Math.PI/180)),[e,i,r]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),Yr=ie.D65,il=216/24389,qi=24389/27,[Xi,Zi]=Go({space:ee,coords:Yr}),qr=new y({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:Yr,base:ee,fromBase(o){let e=[q(o[0]),q(o[1]),q(o[2])],t=e[1],[n,i]=Go({space:ee,coords:e});if(!Number.isFinite(n)||!Number.isFinite(i))return[0,0,0];let r=t<=il?qi*t:116*Math.cbrt(t)-16;return[r,13*r*(n-Xi),13*r*(i-Zi)]},toBase(o){let[e,t,n]=o;if(e===0||$e(e))return[0,0,0];t=q(t),n=q(n);let i=t/(13*e)+Xi,r=n/(13*e)+Zi,a=e<=8?e/qi:Math.pow((e+16)/116,3);return[a*(9*i/(4*r)),a,a*((12-3*i-20*r)/(4*r))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Gn=new y({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:qr,fromBase(o){let[e,t,n]=o,i,r=.02;return Math.abs(t)<r&&Math.abs(n)<r?i=NaN:i=Math.atan2(n,t)*180/Math.PI,[e,Math.sqrt(t**2+n**2),ke(i)]},toBase(o){let[e,t,n]=o;return t<0&&(t=0),isNaN(n)&&(n=0),[e,t*Math.cos(n*Math.PI/180),t*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),rl=216/24389,al=24389/27,Ji=X[0][0],Wi=X[0][1],yn=X[0][2],Ki=X[1][0],Qi=X[1][1],xn=X[1][2],Ui=X[2][0],er=X[2][1],zn=X[2][2];function gt(o,e,t){let n=e/(Math.sin(t)-o*Math.cos(t));return n<0?1/0:n}function Ao(o){let e=Math.pow(o+16,3)/1560896,t=e>rl?e:o/al,n=t*(284517*Ji-94839*yn),i=t*(838422*yn+769860*Wi+731718*Ji),r=t*(632260*yn-126452*Wi),a=t*(284517*Ki-94839*xn),l=t*(838422*xn+769860*Qi+731718*Ki),s=t*(632260*xn-126452*Qi),c=t*(284517*Ui-94839*zn),m=t*(838422*zn+769860*er+731718*Ui),u=t*(632260*zn-126452*er);return{r0s:n/r,r0i:i*o/r,r1s:n/(r+126452),r1i:(i-769860)*o/(r+126452),g0s:a/s,g0i:l*o/s,g1s:a/(s+126452),g1i:(l-769860)*o/(s+126452),b0s:c/u,b0i:m*o/u,b1s:c/(u+126452),b1i:(m-769860)*o/(u+126452)}}function tr(o,e){let t=e/360*Math.PI*2,n=gt(o.r0s,o.r0i,t),i=gt(o.r1s,o.r1i,t),r=gt(o.g0s,o.g0i,t),a=gt(o.g1s,o.g1i,t),l=gt(o.b0s,o.b0i,t),s=gt(o.b1s,o.b1i,t);return Math.min(n,i,r,a,l,s)}var sl=new y({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Gn,gamutSpace:yt,fromBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],i;if(e>99.9999999)i=0,e=100;else if(e<1e-8)i=0,e=0;else{let r=Ao(e),a=tr(r,n);i=t/a*100}return[n,i,e]},toBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],i;if(n>99.9999999)n=100,i=0;else if(n<1e-8)n=0,i=0;else{let r=Ao(n);i=tr(r,e)/100*t}return[n,i,e]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});X[0][0];X[0][1];X[0][2];X[1][0];X[1][1];X[1][2];X[2][0];X[2][1];X[2][2];function bt(o,e){return Math.abs(e)/Math.sqrt(Math.pow(o,2)+1)}function or(o){let e=bt(o.r0s,o.r0i),t=bt(o.r1s,o.r1i),n=bt(o.g0s,o.g0i),i=bt(o.g1s,o.g1i),r=bt(o.b0s,o.b0i),a=bt(o.b1s,o.b1i);return Math.min(e,t,n,i,r,a)}var ll=new y({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Gn,gamutSpace:"self",fromBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],i;if(e>99.9999999)i=0,e=100;else if(e<1e-8)i=0,e=0;else{let r=Ao(e),a=or(r);i=t/a*100}return[n,i,e]},toBase(o){let[e,t,n]=[q(o[0]),q(o[1]),q(o[2])],i;if(n>99.9999999)n=100,i=0;else if(n<1e-8)n=0,i=0;else{let r=Ao(n);i=or(r)/100*t}return[n,i,e]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),nr=203,ir=2610/2**14,cl=2**14/2610,ul=2523/2**5,rr=2**5/2523,ar=3424/2**12,sr=2413/2**7,lr=2392/2**7,ml=new oe({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:$o,toBase(o){return o.map(function(e){return(Math.max(e**rr-ar,0)/(sr-lr*e**rr))**cl*1e4/nr})},fromBase(o){return o.map(function(e){let t=Math.max(e*nr/1e4,0),n=ar+sr*t**ir,i=1+lr*t**ir;return(n/i)**ul})}}),cr=.17883277,ur=.28466892,mr=.55991073,Mn=3.7743,pl=new oe({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:$o,toBase(o){return o.map(function(e){return e<=.5?e**2/3*Mn:(Math.exp((e-mr)/cr)+ur)/12*Mn})},fromBase(o){return o.map(function(e){return e/=Mn,e<=1/12?Math.sqrt(3*e):cr*Math.log(12*e-ur)+mr})}}),Xr={};Ge.add("chromatic-adaptation-start",o=>{o.options.method&&(o.M=Zr(o.W1,o.W2,o.options.method))});Ge.add("chromatic-adaptation-end",o=>{o.M||(o.M=Zr(o.W1,o.W2,o.options.method))});function Oo({id:o,toCone_M:e,fromCone_M:t}){Xr[o]=arguments[0]}function Zr(o,e,t="Bradford"){let n=Xr[t],[i,r,a]=H(n.toCone_M,o),[l,s,c]=H(n.toCone_M,e),m=[[l/i,0,0],[0,s/r,0],[0,0,c/a]],u=H(m,n.toCone_M);return H(n.fromCone_M,u)}Oo({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});Oo({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});Oo({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});Oo({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(ie,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});ie.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var dl=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fl=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Jr=new oe({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:ie.ACES,toXYZ_M:dl,fromXYZ_M:fl}),Fo=2**-16,_n=-.35828683,No=(Math.log2(65504)+9.72)/17.52,hl=new oe({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[_n,No],name:"Red"},g:{range:[_n,No],name:"Green"},b:{range:[_n,No],name:"Blue"}},referred:"scene",base:Jr,toBase(o){let e=-.3013698630136986;return o.map(function(t){return t<=e?(2**(t*17.52-9.72)-Fo)*2:t<No?2**(t*17.52-9.72):65504})},fromBase(o){return o.map(function(e){return e<=0?(Math.log2(Fo)+9.72)/17.52:e<Fo?(Math.log2(Fo+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}}),pr=Object.freeze({__proto__:null,A98RGB:Ks,A98RGB_Linear:Or,ACEScc:hl,ACEScg:Jr,CAM16_JMh:ns,HCT:$t,HPLuv:ll,HSL:$r,HSLuv:sl,HSV:Gr,HWB:Zs,ICTCP:Tn,JzCzHz:Pn,Jzazbz:zr,LCH:Ht,LCHuv:Gn,Lab:me,Lab_D65:Fn,Luv:qr,OKLCH:nl,OKLab:vt,P3:Lr,P3_Linear:Nr,ProPhoto:ol,ProPhoto_Linear:jr,REC_2020:Fr,REC_2020_Linear:$o,REC_2100_HLG:pl,REC_2100_PQ:ml,XYZ_ABS_D65:An,XYZ_D50:Rn,XYZ_D65:ee,sRGB:yt,sRGB_Linear:Br}),Y=class o{constructor(...e){let t;e.length===1&&(t=S(e[0]));let n,i,r;t?(n=t.space||t.spaceId,i=t.coords,r=t.alpha):[n,i,r]=e,Object.defineProperty(this,"space",{value:y.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=i?i.slice():[0,0,0],this.alpha=r>1||r===void 0?1:r<0?0:r;for(let a=0;a<this.coords.length;a++)this.coords[a]==="NaN"&&(this.coords[a]=NaN);for(let a in this.space.coords)Object.defineProperty(this,a,{get:()=>this.get(a),set:l=>this.set(a,l)})}get spaceId(){return this.space.id}clone(){return new o(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let t=Cs(this,...e);return t.color=new o(t.color),t}static get(e,...t){return e instanceof o?e:new o(e,...t)}static defineFunction(e,t,n=t){let{instance:i=!0,returns:r}=n,a=function(...l){let s=t(...l);if(r==="color")s=o.get(s);else if(r==="function<color>"){let c=s;s=function(...m){let u=c(...m);return o.get(u)},Object.assign(s,c)}else r==="array<color>"&&(s=s.map(c=>o.get(c)));return s};e in o||(o[e]=a),i&&(o.prototype[e]=function(...l){return a(this,...l)})}static defineFunctions(e){for(let t in e)o.defineFunction(t,e[t],e[t])}static extend(e){if(e.register)e.register(o);else for(let t in e)o.defineFunction(t,e[t])}};Y.defineFunctions({get:ue,getAll:Ot,set:Ie,setAll:En,to:A,equals:ws,inGamut:We,toGamut:Oe,distance:xr,toString:Rt});Object.assign(Y,{util:Ca,hooks:Ge,WHITES:ie,Space:y,spaces:y.registry,parse:wr,defaults:pe});for(let o of Object.keys(pr))y.register(pr[o]);for(let o in y.registry)Nn(o,y.registry[o]);Ge.add("colorspace-init-end",o=>{Nn(o.id,o),o.aliases?.forEach(e=>{Nn(e,o)})});function Nn(o,e){let t=o.replace(/-/g,"_");Object.defineProperty(Y.prototype,t,{get(){let n=this.getAll(o);return typeof Proxy>"u"?n:new Proxy(n,{has:(i,r)=>{try{return y.resolveCoord([e,r]),!0}catch{}return Reflect.has(i,r)},get:(i,r,a)=>{if(r&&typeof r!="symbol"&&!(r in i)){let{index:l}=y.resolveCoord([e,r]);if(l>=0)return i[l]}return Reflect.get(i,r,a)},set:(i,r,a,l)=>{if(r&&typeof r!="symbol"&&!(r in i)||r>=0){let{index:s}=y.resolveCoord([e,r]);if(s>=0)return i[s]=a,this.setAll(o,i),!0}return Reflect.set(i,r,a,l)}})},set(n){this.setAll(o,n)},configurable:!0,enumerable:!0})}Y.extend(wt);Y.extend({deltaE:Et});Object.assign(Y,{deltaEMethods:wt});Y.extend(Ys);Y.extend({contrast:Hs});Y.extend(Gs);Y.extend(xs);Y.extend(Xs);Y.extend(Bo);function Yt(o){let e=new Y(o),t=Math.max(0,Math.min(1,e.srgb.r??0))*255,n=Math.max(0,Math.min(1,e.srgb.g??0))*255,i=Math.max(0,Math.min(1,e.srgb.b??0))*255;return[Math.round(t),Math.round(n),Math.round(i)]}function Wr(o){let e=Yt(o),t=new Y(`rgb(${e[0]} ${e[1]} ${e[2]})`).to("hsl");return[t.coords[0].valueOf(),t.coords[1].valueOf(),t.coords[2].valueOf()]}function Kr(o){let e=new Y(o).to("oklch");return[e.coords[0].valueOf(),e.coords[1].valueOf(),e.coords[2].valueOf()]}function qt(o){let e=new Y(o).to("srgb"),t=e.contrastWCAG21("white"),n=e.contrastWCAG21("black");return t>2.4&&n<7.5?"white":"black"}function Qr(o){return`#${o[0].toString(16).padStart(2,"0")}${o[1].toString(16).padStart(2,"0")}${o[2].toString(16).padStart(2,"0")}`.toUpperCase()}function Ur(o){o=o?.replace("#","")??"000000",o.length!==6&&(o="000000");let e=parseInt(o,16),t=e>>16&255,n=e>>8&255,i=e&255;return[t,n,i]}var L=class o{loadPalette(e){this.colorModelChanged(ge[e.palette.model]),this.onVariableConfigChanged(e.state.variableConfig.variable),this.paletteStepsConfigChanged(e.state.stepsConfig),this.colorBase.set(e.state.currentColor),this.currentColor.set(e.state.currentColor),this.rangeChanged(e.state.minmax)}store=k(Re);initialState=this.store.get("color-state")??gl;showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"}];colorModel=j(ge[this.initialState.colorModel]);variableConfig=j(this.initialState.variableConfig);paletteStepsConfig=j(this.initialState.paletteStepsConfig);paletteVisualConfig=j(this.initialState.paletteVisualConfig);paletteValuesConfig=j(this.initialState.paletteValuesConfig);colorBase=j(this.initialState.colorBase);currentColor=j(this.initialState.currentColor);minmax=j(this.initialState.minmax);rgb=W(()=>Yt(this.colorModel().convert(this.currentColor())));currentState=W(()=>({colorModel:this.colorModel().name,variableConfig:this.variableConfig(),paletteStepsConfig:this.paletteStepsConfig(),paletteVisualConfig:this.paletteVisualConfig(),paletteValuesConfig:this.paletteValuesConfig(),colorBase:this.currentColor(),currentColor:this.currentColor(),minmax:this.minmax()}));constructor(){re(()=>this.store.save("color-state",this.currentState()))}colorModelChanged(e){this.onColorModelChanged(e)}variableChanged(e){this.onVariableConfigChanged(e)}paletteStepsConfigChanged(e){this.paletteStepsConfig.set(e)}paletteVisualConfigChanged(e){this.paletteVisualConfig.set(e)}paletteValuesConfigChanged(e){this.paletteValuesConfig.set(e)}rangeChanged(e){this.minmax.set(e)}colorChanged(e){this.currentColor.set(e)}colorSelected(e){let t=this.getChannels(e);this.colorBase.set(t),this.colorChanged(t)}getChannels(e){let t=this.colorModel();if(!t||t.name==="rgb")return e;console.debug("Convirtiendo a",t.name,"con valores",e);let n=new Y(`rgb(${e[0]} ${e[1]} ${e[2]})`).to(t.name),i=this.ensureCoord(n.coords[0],t.components[0]),r=this.ensureCoord(n.coords[1],t.components[1]),a=this.ensureCoord(n.coords[2],t.components[2]);return[i,r,a]}ensureCoord(e,t){let n=Number.isNaN(e)?0:e;return Math.max(0,Math.min(t.max,n))}onColorModelChanged(e){let t=this.colorModel().convert(this.currentColor()),n=e.defaultValues()??[0,0,0];if(t)switch(e.name){case"hsl":n=Wr(t);break;case"oklch":n=Kr(t);break;default:n=Yt(t)}this.colorModel.set(e),this.onVariableConfigChanged(e.components[e.defaultVariableIndex]),this.colorBase.set(n),this.currentColor.set(n)}onVariableConfigChanged(e){let t=this.colorModel().components.findIndex(n=>n.name===e.name);this.variableConfig.set({variable:e,variableIndex:t}),this.minmax.set(e?[e.min,e.max]:[0,0])}palette=W(()=>{let e=this.colorModel(),t=this.variableConfig(),n=this.paletteStepsConfig(),i=this.currentColor()??e.defaultValues(),r=this.minmax()[0],a=this.minmax()[1],l=n?.pasos??10;if(n?.automatico??!0){let m=t.variable;l=Math.min(l,Math.max(2,Math.ceil(Math.abs(a-r)/(m.max-m.min)*m.autoSteps)))}let s=(a-r)/(l-1),c=Array.from({length:l},(m,u)=>{let h=r+u*s,_=[...i];_[t.variableIndex]=h;let v=e.convert([_[0],_[1],_[2]]),T=Yt(v);return{valores:_,color:T,fore:qt(v)}});if(c.length>0){let m=c[0].color;for(let u=1;u<c.length;u++){let h=c[u].color,_=Math.abs(h[0]-m[0]),v=Math.abs(h[1]-m[1]),T=Math.abs(h[2]-m[2]);_<=7&&v<=3&&T<=14&&(c[u-1].clamp=!0,c[u].clamp=!0),m=h}}return{model:e.name,swatches:c}});static \u0275fac=function(t){return new(t||o)};static \u0275prov=we({token:o,factory:o.\u0275fac,providedIn:"root"})},be=ge.oklch,gl={colorModel:be.name,variableConfig:{variable:be.components[be.defaultVariableIndex],variableIndex:be.components.findIndex(o=>o.name===be.components[be.defaultVariableIndex].name)},paletteStepsConfig:{pasos:12,automatico:!0},paletteVisualConfig:{alto:80,continuo:!1,separate:!1},paletteValuesConfig:{showValues:"no"},colorBase:be.defaultValues(),currentColor:be.defaultValues(),minmax:[be.components[be.defaultVariableIndex].min,be.components[be.defaultVariableIndex].max]};var xt=class o{collapse=w(!1,{alias:"zz-collapse-vertical"});static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-collapse-vertical",""],["zzCollapseVertical"]],hostVars:4,hostBindings:function(t,n){t&2&&(F("height",n.collapse()?"0":"calc-size(auto, size)"),B("opacity-50",n.collapse()))},inputs:{collapse:[1,"zz-collapse-vertical","collapse"]},features:[R([at,bo,Le])]})};var zt=class o{size=w("thin",{alias:"zz-border",transform:e=>{let t=(e??"none").toLowerCase().trim();return t==="none"?"none":["thin","normal","thick"].includes(t)?t:"thin"}});color=w("color-mix(in srgb, var(--text-color), transparent 70%)",{alias:"zz-border-color",transform:e=>{let t=(e??"").trim().replace(/ /g,"-").toLowerCase();return t===""?void 0:t}});style=w("solid",{alias:"zz-border-style",transform:e=>{let t=(e??"solid").toLowerCase().trim();return["solid","dashed","dotted","double","groove","ridge","inset","outset"].includes(t)?t:"solid"}});get borderSize(){if(this.size())return{thin:1,normal:2,thick:4}[this.size()]}get borderColor(){return this.color()}get borderStyle(){return this.style()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-border",""],["zzBorder"]],hostVars:6,hostBindings:function(t,n){t&2&&F("border-width",n.borderSize,"px")("border-color",n.borderColor)("border-style",n.borderStyle)},inputs:{size:[1,"zz-border","size"],color:[1,"zz-border-color","color"],style:[1,"zz-border-style","style"]}})};function vl(o,e){if(o&1){let t=ne();p(0,"div",4)(1,"zz-palette-list",5),N("paletteSelected",function(i){Z(t);let r=b();return J(r.state.loadPalette(i))})("paletteRemoved",function(i){Z(t);let r=b();return J(r.store.removePalette(i))}),f()()}if(o&2){let t=b();g("zz-collapse-vertical",!t.open())("zz-border",t.open()?"thin":"none")("zz-shadow",!0),d(),g("palettes",t.store.saved())}}var jo=class o{store=k(Ae);state=k(L);abort=void 0;open=j(!1);toggleOpen(){this.openState(!this.open())}openState(e){if(this.abort?.abort(),this.open.set(e),this.open()){this.abort=new AbortController;let t=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:t,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:t})}}onKeyDown(e){e.key==="Escape"&&this.openState(!1)}onClick(e){this.openState(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-selector"]],decls:8,vars:3,consts:[[1,"relative"],["zz-button","",1,"ring-0","outline-none","bg-transparent","hover:bg-gris-100/50","dark:hover:bg-gris-950/50","px-4","py-1","w-24",3,"click","zzDisabled"],[1,"flex","flex-row","items-center","gap-2","justify-between"],[1,"font-icons"],[1,"absolute","top-10","left-0","z-10","rounded",3,"zz-collapse-vertical","zz-border","zz-shadow"],[1,"block","bg-white","dark:bg-gris-800","w-56",3,"paletteSelected","paletteRemoved","palettes"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"button",1),N("click",function(){return n.toggleOpen()}),p(2,"span",2)(3,"span"),x(4,"Saved palettes"),f(),p(5,"span",3),x(6),f()()(),I(7,vl,2,4,"div",4),f()),t&2&&(d(),g("zzDisabled",n.store.saved().length===0),d(5),le(n.open()?"arrow_drop_up":"arrow_drop_down"),d(),P(n.store.saved().length>0?7:-1))},dependencies:[ut,So,xt,zt,pt],encapsulation:2})};var Yo=class o{format=w("horizontal");static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-marca"]],inputs:{format:[1,"format"]},decls:24,vars:14,consts:[[1,"font-museo-moderno","text-center","leading-marca","text-white"],[1,"flex","gap-marca"],[1,"bg-marca-1","w-marca","rounded"],[1,"bg-marca-2","w-marca","rounded"],[1,"bg-marca-3","w-marca","rounded"],[1,"bg-marca-4","w-marca","rounded"],[1,"bg-marca-5","w-marca","rounded"],[1,"bg-marca-6","w-marca","rounded"],[1,"bg-marca-7","w-marca","rounded"],[1,"bg-marca-8","w-marca","rounded"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"span",1)(2,"span",1)(3,"span",1)(4,"span",2),x(5,"C"),f(),p(6,"span",3),x(7,"o"),f()(),p(8,"span",1)(9,"span",4),x(10,"L"),f(),p(11,"span",5),x(12,"o"),f()()(),p(13,"span",1)(14,"span",1)(15,"span",6),x(16,"R"),f(),p(17,"span",7),x(18,"i"),f()(),p(19,"span",1)(20,"span",8),x(21,"n"),f(),p(22,"span",9),x(23,"a"),f()()()()()),t&2&&(d(),B("flex-col",n.format()!=="horizontal"),d(),B("flex-col",n.format()!=="horizontal"&&n.format()!=="half"),d(),B("flex-col",n.format()==="vertical"),d(5),B("flex-col",n.format()==="vertical"),d(5),B("flex-col",n.format()!=="horizontal"&&n.format()!=="half"),d(),B("flex-col",n.format()==="vertical"),d(5),B("flex-col",n.format()==="vertical"))},encapsulation:2})};var qo=class o{static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palettes-header"]],decls:6,vars:1,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","max-w-[1600px]","leading-8"],[1,"text-2xl","opacity-90"],[3,"format"]],template:function(t,n){t&1&&(p(0,"header")(1,"nav",0)(2,"h1",1),D(3,"zz-marca",2),f(),D(4,"zz-palette-selector")(5,"zz-dark-mode-toggle"),f()()),t&2&&(d(3),g("format","horizontal"))},dependencies:[zo,jo,Yo],encapsulation:2,changeDetection:0})};var Mt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-container",""]],features:[R([at,po,{directive:zt,inputs:["zz-border","zzBorderSize","zz-border-color","zzBorderColor","zz-border-style","zzBorderStyle"]}])]})};var Cl=(o,e,t)=>({"bg-gris-100/85":o,"dark:bg-gris-800/85":e,bold:t}),wl=(o,e,t)=>({"bg-gris-100/50":o,"dark:bg-gris-700/45":e,"semi-bold":t}),ea=(o,e)=>e.name;function yl(o,e){if(o&1){let t=ne();ve(0),p(1,"li")(2,"span",4),N("click",function(){let i=Z(t).$implicit,r=b(2);return J(r.state.variableChanged(i))}),x(3),f()()}if(o&2){let t=e.$implicit,n=b(2).state.variableConfig().variable.name===t.name;d(2),se(pn(3,wl,n,n,n)),d(),le(t.name)}}function xl(o,e){if(o&1){let t=ne();ve(0),p(1,"li")(2,"div",1)(3,"span",2),N("click",function(){let i=Z(t).$implicit,r=b();return J(r.state.colorModelChanged(i))}),x(4),f(),p(5,"ul",3),Q(6,yl,4,7,"li",null,ea),f()()()}if(o&2){let t=e.$implicit,n=b().state.colorModel().name===t.name;d(2),g("zzBorderSize",n?"thin":"none"),d(),se(pn(7,Cl,n,n,n)),d(),le(t.name),d(),B("p-2",n),g("zz-collapse-vertical",!n),d(),U(t.components)}}var Xo=class o{models=Lt;state=k(L);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-menu"]],decls:3,vars:0,consts:[[1,"space-y-2","min-w-36","w-[14ch]"],["zz-container","",1,"rounded","bg-transparent",3,"zzBorderSize"],[1,"select-none","uppercase","text-larger-2","w-full","cursor-pointer","inline-block","transition-all","p-2","rounded","hover:bg-gris-100","dark:hover:bg-gris-800/95",3,"click"],[1,"space-y-1",3,"zz-collapse-vertical"],[1,"select-none","w-full","inline-block","cursor-pointer","transition-all","px-2","py-1","rounded","dark:hover:bg-gris-700/60",3,"click"]],template:function(t,n){t&1&&(p(0,"ul",0),Q(1,xl,8,11,"li",null,ea),f()),t&2&&(d(),U(n.models))},dependencies:[xt,Mt],encapsulation:2,changeDetection:0})};function zl(o,e){if(o&1&&(ve(0),p(1,"span"),x(2),p(3,"span",1),x(4),nt(5,"number"),f()(),p(6,"span"),x(7),p(8,"span",1),x(9),nt(10,"number"),f()(),p(11,"span"),x(12),p(13,"span",1),x(14),nt(15,"number"),f()()),o&2){let t=e,n=b().colorModel().components;d(2),de("",n[0].label,": "),d(2),le(it(5,6,t[0],"0.0-"+n[0].precision)),d(3),de(" ",n[1].label,": "),d(2),le(it(10,9,t[1],"0.0-"+n[1].precision)),d(3),de(" ",n[2].label,": "),d(2),le(it(15,12,t[2],"0.0-"+n[2].precision))}}var _t=class o{colorModel=w(ge.rgb,{alias:"color-model"});values=w(void 0,{alias:"values",transform:e=>e??[0,0,0]});vertical=w(!1,{alias:"vertical"});static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-values-display"]],inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"],vertical:[1,"vertical"]},decls:2,vars:5,consts:[[1,"flex","px-1","justify-center","font-roboto"],[1,"inline-block","text-right"]],template:function(t,n){if(t&1&&(p(0,"div",0),I(1,zl,16,15),f()),t&2){let i;B("flex-col",n.vertical())("gap-2",!n.vertical()),d(),P((i=n.values())?1:-1,i)}},dependencies:[io],encapsulation:2,changeDetection:0})};var Ml=(o,e)=>({"border-white/40":o,"border-black/40":e});function _l(o,e){if(o&1){let t=ne();p(0,"input",1),N("change",function(){Z(t);let i=b();return J(i.updateColor())}),f()}if(o&2){let t=b();se(no(3,Ml,t.borderColor()==="white",t.borderColor()==="black")),g("formControl",t.colorControl)}}var Zo=class o{colorControl=void 0;value=w("#000000",{alias:"color",transform:e=>{let t=e??"#000000";return typeof t=="string"?t.startsWith("#")?t:`#${t}`:Qr(t)}});colorChange=new Wt;borderColor=j("");constructor(){re(()=>{this.colorControl?.setValue(this.value());let e=qt(this.value());this.borderColor.set(e)})}ngOnInit(){let e=qt(this.value());this.borderColor.set(e),this.colorControl=new K(this.value(),{nonNullable:!0})}updateColor(){this.colorChange.emit(Ur(this.colorControl.value))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-selector"]],inputs:{value:[1,"color","value"]},outputs:{colorChange:"color-change"},decls:1,vars:1,consts:[["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"class","formControl"],["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"change","formControl"]],template:function(t,n){t&1&&I(0,_l,1,6,"input",0),t&2&&P(n.colorControl?0:-1)},dependencies:[te,Fe,xe,ci],encapsulation:2})};function Sl(o,e){if(o&1&&D(0,"zz-color-values-display",5),o&2){let t=b();g("values",t.state.rgb())}}var Jo=class o{height=w(120);state=k(L);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-sample"]],inputs:{height:[1,"height"]},decls:6,vars:8,consts:[["zz-container","",1,"max-w-[25ch]","rounded-lg"],["color-swatch","",1,"text-right","p-4","rounded-lg",3,"color-model","values"],[3,"color-change","color"],[1,"transition-all","text-smaller","justify-center","w-full","min-h-10","max-h-20","py-2","flex","flex-col","items-center","text-md","dark:text-gris-100","text-gris-700"],[1,"whitespace-nowrap","w-[25ch]","text-center",2,"font-variation-settings","'wght' 450",3,"color-model","values"],[1,"opacity-70","text-smaller",2,"line-height","1rem",3,"values"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"div",1)(2,"zz-color-selector",2),N("color-change",function(r){return n.state.colorSelected(r)}),f()(),p(3,"div",3),D(4,"zz-color-values-display",4),I(5,Sl,1,1,"zz-color-values-display",5),f()()),t&2&&(d(),F("height",n.height(),"px"),g("color-model",n.state.colorModel())("values",n.state.currentColor()),d(),g("color",n.state.rgb()),d(2),g("color-model",n.state.colorModel())("values",n.state.currentColor()),d(),P(n.state.colorModel().name!=="rgb"?5:-1))},dependencies:[te,Te,_t,Zo,Mt],encapsulation:2,changeDetection:0})};function Dl(o,e){if(o&1&&x(0),o&2){let t=b(2);de(" ",t.unit," ")}}function kl(o,e){if(o&1&&(p(0,"span",1),x(1),nt(2,"number"),f(),p(3,"span",2),I(4,Dl,1,1),f()),o&2){let t=b();d(),de(" ",it(2,2,t.value,"1."+t.decimals+"-"+t.decimals)," "),d(3),P(t.showUnit?4:-1)}}function Pl(o,e){if(o&1&&(p(0,"span",1),x(1),f()),o&2){let t=b();d(),de(" ",t.nullValueText," ")}}var Wo=class o{value=null;unit;length;nullValueText="";decimals=0;get showUnit(){return(this.unit?.length??0)>0}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-field-value"]],inputs:{value:"value",unit:"unit",length:"length",nullValueText:"nullValueText",decimals:"decimals"},features:[R([Le,lt])],decls:3,vars:1,consts:[[1,"flex","flex-row","justify-end","opacity-95"],[1,"field-value-number"],[1,"field-value-unit"]],template:function(t,n){t&1&&(p(0,"div",0),I(1,kl,5,5)(2,Pl,2,1,"span",1),f()),t&2&&(d(),P(n.value!==null?1:2))},dependencies:[io],encapsulation:2,changeDetection:0})};var Tl=(o,e,t,n)=>({"dark:[&::-webkit-slider-runnable-track]:bg-white/30":o,"[&::-webkit-slider-runnable-track]:bg-black/20":e,"focus:[&::-webkit-slider-runnable-track]:bg-black/50":t,"focus:dark:[&::-webkit-slider-runnable-track]:bg-white/50":n}),Ko=class o{constructor(e,t){this.el=e;this.renderer=t;re(()=>{let n=this.accent()??!1;this.toggleAccent[n.toString()]?.forEach(i=>this.renderer.addClass(this.el.nativeElement,i)),this.toggleAccent[(!n).toString()]?.forEach(i=>this.renderer.removeClass(this.el.nativeElement,i))})}controlPressed=j(!1);accent=w(!1);showTrack=w(!0);step=w(1,{alias:"zzStep",transform:e=>Math.max(Math.min(400,e??1),.001)});get stepCorregido(){return this.resolvedStep()}get current(){return this.value()}value=w(0,{alias:"zzValue",transform:e=>Math.max(Math.min(720,e??0),-720)});onControlKeyDown(e){this.controlPressed()||(this.controlPressed.set(!0),console.debug("Control key pressed",e),e.preventDefault())}onControlKeyUp(e){this.controlPressed()&&(this.controlPressed.set(!1),console.debug("Control key released",e),e.preventDefault())}resolvedStep=W(()=>{let e=this.step();return this.controlPressed()?10*e:e});toggleAccent={false:["dark:[&::-webkit-slider-thumb]:bg-blue-400","[&::-webkit-slider-thumb]:bg-sky-400/90"],true:["dark:[&::-webkit-slider-thumb]:bg-orange-400","[&::-webkit-slider-thumb]:bg-orange-300"]};static \u0275fac=function(t){return new(t||o)(qe(Kt),qe(Qt))};static \u0275dir=C({type:o,selectors:[["input","type","range","zz-slider",""]],hostAttrs:[1,"h-[.75rem]","cursor-pointer","flex-row","items-center","focus:outline-none","[&::-webkit-slider-thumb]:shadow-md","[&::-webkit-slider-thumb]:shadow-black","[&::-webkit-slider-thumb]:transition-all","[&::-webkit-slider-thumb]:duration-150","focus:[&::-webkit-slider-thumb]:outline-gris-500","dark:focus:[&::-webkit-slider-thumb]:outline-gris-300","[&::-webkit-slider-thumb]:mt-[-0.35rem]","[&::-webkit-slider-thumb]:h-[.75rem]","[&::-webkit-slider-thumb]:w-[.75rem]","[&::-webkit-slider-thumb]:appearance-none","[&::-webkit-slider-thumb]:rounded-full","focus:[&::-webkit-slider-thumb]:outline-2","focus:[&::-webkit-slider-thumb]:outline-offset-0","[&::-webkit-slider-runnable-track]:h-[.125rem]","[&::-webkit-slider-runnable-track]:rounded-full","w-full"],hostVars:9,hostBindings:function(t,n){t&1&&N("keydown.control",function(r){return n.onControlKeyDown(r)})("keyup.control",function(r){return n.onControlKeyUp(r)}),t&2&&(eo("step",n.stepCorregido)("value",n.current),se(ri(4,Tl,n.showTrack(),n.showTrack(),n.showTrack(),n.showTrack())))},inputs:{accent:[1,"accent"],showTrack:[1,"showTrack"],step:[1,"zzStep","step"],value:[1,"zzValue","value"]},features:[R([st,co])]})};var Qo=class o{length=w(void 0,{alias:"zz-text-length",transform:e=>{let t=Math.max(0,e??0);return Number.isInteger(t)?t:void 0}});get width(){return this.length()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-text-length",""],["zzTextLength"]],hostAttrs:[1,"truncate","select-none","opacity-95"],hostVars:2,hostBindings:function(t,n){t&2&&F("width",n.width,"ch")},inputs:{length:[1,"zz-text-length","length"]}})};function Il(o,e){if(o&1&&D(0,"option",1),o&2){let t=e.$implicit;g("value",t)}}function Vl(o,e){if(o&1&&(p(0,"datalist",0),Q(1,Il,1,1,"option",1,Qn),f()),o&2){let t=b();g("id",t.id),d(),U(t.values)}}var Uo=class o{_values=[];id;set values(e){this._values=e.sort((t,n)=>t-n).reduce((t,n)=>(t.includes(n)||t.push(n),t),[])}get values(){return this._values}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-data-list"]],inputs:{id:"id",values:"values"},decls:1,vars:1,consts:[[3,"id"],[3,"value"]],template:function(t,n){t&1&&I(0,Vl,3,1,"datalist",0),t&2&&P(n.id?0:-1)},encapsulation:2,changeDetection:0})};var Fl=()=>[];function Nl(o,e){if(o&1){let t=ne();p(0,"label",8),N("dblclick",function(){Z(t);let i=b(2);return J(i.control.reset())}),x(1),f()}if(o&2){let t=b(2);B("text-right",t.labelsReverse)("opacity-80",t.defaultValue!==void 0&&t.control.value===t.defaultValue),g("for",t.fieldName)("zz-text-length",t.labelLength),d(),de(" ",t.label," ")}}function Bl(o,e){o&1&&D(0,"div")}function Ll(o,e){if(o&1&&D(0,"zz-field-value",9),o&2){let t=b(2);B("opacity-70",t.defaultValue!==void 0&&t.control.value===t.defaultValue),g("value",t.control.value)("length",t.valueLength)("decimals",t.decimales)("unit",t.unit)}}function El(o,e){if(o&1&&(p(0,"div",2)(1,"div",3),I(2,Nl,2,7,"label",4)(3,Bl,1,0,"div")(4,Ll,1,6,"zz-field-value",5),f(),D(5,"input",6,0)(7,"zz-data-list",7),f()),o&2){let t,n,i=b();B("flex-col-reverse",!i.labelsAbove),g("formGroup",i.formGroup),d(),B("flex-row-reverse",i.labelsReverse),d(),P(i.showLabel?2:3),d(2),P(i.showValue?4:-1),d(),g("zzStep",(t=i.step)!==null&&t!==void 0?t:1)("accent",i.defaultValue!==void 0&&i.control.value!==i.defaultValue)("formControlName",i.fieldName)("zzValue",i.control.value)("showTrack",i.showTrack())("min",i.min)("max",i.max),Ut("aria-label","Input for "+i.label)("list",i.fieldName+"-list"),d(2),g("id",i.fieldName+"-list")("values",(n=i.stops)!==null&&n!==void 0?n:ii(18,Fl))}}var St=class o{constructor(e){this._parentFormGroupDirective=e}fieldName="";labelsAbove=!0;labelsReverse=!1;label="";valueLength;unit="";showTrack=w(!0);min=0;max=10;step=1;stops=[];labelLength;_defaultValue=0;get defaultValue(){return this._defaultValue}set defaultValue(e){this._defaultValue=e}_showLabel=!1;get showLabel(){return this._showLabel&&(this.labelLength??1)>0}set showLabel(e){this._showLabel=e}_showValue=!1;get showValue(){return this._showValue&&(this.valueLength??1)>0}set showValue(e){this._showValue=e}get decimales(){let e=0;if((this.step??1)!==1&&!Number.isInteger(this.step)&&(e=this.step.toString().split(".")[1]?.length??0),(this.min??0)!==0&&!Number.isInteger(this.min)){let t=this.min.toString();e=Math.max(e,t.split(".")[1]?.length??0)}if((this.max??10)!==10&&!Number.isInteger(this.max)){let t=this.max.toString();e=Math.max(e,t.split(".")[1]?.length??0)}return e}get formGroup(){return this._parentFormGroupDirective?.control}get control(){return this._parentFormGroupDirective?.control.controls[this.fieldName]}static \u0275fac=function(t){return new(t||o)(qe(ce,8))};static \u0275cmp=M({type:o,selectors:[["zz-slider-field"]],inputs:{fieldName:"fieldName",labelsAbove:[0,"labels-above","labelsAbove"],labelsReverse:[0,"labels-reverse","labelsReverse"],label:"label",valueLength:"valueLength",unit:"unit",showTrack:[1,"showTrack"],min:"min",max:"max",step:"step",stops:"stops",labelLength:"labelLength",defaultValue:"defaultValue",showLabel:"showLabel",showValue:"showValue"},decls:1,vars:1,consts:[["slider",""],["zz-overflow-visible","",1,"w-full","p-1","bg-transparent","flex","flex-col",3,"flex-col-reverse","formGroup"],["zz-overflow-visible","",1,"w-full","p-1","bg-transparent","flex","flex-col",3,"formGroup"],["zz-overflow-visible","",1,"flex","flex-row","items-base","justify-between"],[3,"for","zz-text-length","text-right","opacity-80"],[3,"value","length","decimals","unit","opacity-70"],["zz-slider","","type","range",3,"zzStep","accent","formControlName","zzValue","showTrack","min","max"],[3,"id","values"],[3,"dblclick","for","zz-text-length"],[3,"value","length","decimals","unit"]],template:function(t,n){t&1&&I(0,El,8,19,"div",1),t&2&&P(n.control?0:-1)},dependencies:[te,Fe,li,xe,fe,ce,Ne,Ko,Wo,Qo,Uo,go],encapsulation:2})};function Rl(o,e){if(o&1&&D(0,"div",1),o&2){let t=e.$implicit,n=b();g("color-model",n.colorModel())("values",t)}}var Dt=class o{colorModel=w(void 0,{alias:"color-model"});variableConfig=w(void 0,{alias:"variable-config"});height=w(30,{transform:e=>{if(e===void 0)return 30;let t=Number.isInteger(e)?e:30;return Math.max(1,Math.min(400,t))}});colorBase=w(void 0,{alias:"color-base"});swatches=void 0;ngOnInit(){this.swatches=W(()=>{let e=this.colorModel();if(!e)return[];let t=this.variableConfig(),n=this.colorBase()??e.defaultValues();return t.variable.axisValues.map(i=>{let r=[...n];return r[t.variableIndex]=i,r})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-axis"]],inputs:{colorModel:[1,"color-model","colorModel"],variableConfig:[1,"variable-config","variableConfig"],height:[1,"height"],colorBase:[1,"color-base","colorBase"]},decls:3,vars:2,consts:[[1,"flex","flex-row","justify-between"],["color-swatch","",1,"axis-swatch",3,"color-model","values"]],template:function(t,n){t&1&&(p(0,"div",0),Q(1,Rl,1,2,"div",1,ye),f()),t&2&&(F("height",n.height(),"px"),d(),U(n.swatches()))},dependencies:[Te],encapsulation:2,changeDetection:0})};function Al(o,e){if(o&1&&(p(0,"div",1)(1,"span",2),x(2,"arrow_range"),f()(),D(3,"zz-slider-field",3)(4,"zz-color-axis",4)(5,"zz-slider-field",5)),o&2){b();let t=oo(1),n=b();d(3),g("showTrack",!1)("min",t.variable.min)("max",t.variable.max)("step",n.componentStep(t.variable.precision))("label",t.variable.name)("defaultValue",t.variable.max)("showLabel",!0)("labelLength",10)("unit",t.variable.unit)("showValue",!0)("valueLength",9),d(),g("color-model",n.state.colorModel())("variable-config",t)("color-base",n.currentColor())("height",n.height()),d(),g("showTrack",!1)("labels-above",!1)("labels-reverse",!0)("min",t.variable.min)("max",t.variable.max)("step",n.componentStep(t.variable.precision))("label",t.variable.name)("defaultValue",t.variable.min)("showLabel",!1)("labelLength",10)("unit",t.variable.unit)("showValue",!0)("valueLength",9)}}function Hl(o,e){if(o&1&&(p(0,"form",0),ve(1),I(2,Al,6,28),f()),o&2){let t=b();g("formGroup",t.formDual),d();let n=to(t.state.variableConfig());d(),P(n?2:-1)}}var en=class o{state=k(L);currentColor=w(void 0);value=w(void 0);height=w(30,{transform:e=>{if(e===void 0)return 30;let t=Number.isInteger(e)?e:30;return Math.max(1,Math.min(400,t))}});minmaxChange=new Wt;formDual=void 0;init=!1;constructor(){re(()=>{if(!this.init){this.init=!0;return}let e=this.minMax(this.state.variableConfig(),this.value());this.formDual?.patchValue({min:e.min,max:e.max},{emitEvent:!0})})}ngOnInit(){let e=this.state.minmax();this.formDual=new ze({min:new K(e[0],{nonNullable:!0}),max:new K(e[1],{nonNullable:!0})}),this.formDual.valueChanges.subscribe(t=>{this.minmaxChange.emit([t.min??this.formDual?.controls.min.value??0,t.max??this.formDual?.controls.max.value??0])})}minMax(e,t){if(e===void 0||t===void 0)return{min:0,max:0};let n=(e.variable.max+e.variable.min)/2,i=t>n?e.variable.max:t*2-e.variable.min;return{min:t<n?e.variable.min:t*2-e.variable.max,max:i}}componentStep(e){return 1/Math.pow(10,e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-dual-axis-slider"]],hostAttrs:[1,"block","w-full"],inputs:{currentColor:[1,"currentColor"],value:[1,"value"],height:[1,"height"]},outputs:{minmaxChange:"minmaxChange"},decls:1,vars:1,consts:[[1,"relative",3,"formGroup"],[1,"absolute","left-1/2","top-1"],["zz-icon","",1,"h-6"],["fieldName","max",1,"relative","z-2","font-bold",3,"showTrack","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-model","variable-config","color-base","height"],["fieldName","min",1,"relative","z-2","-mt-2.5","block",3,"showTrack","labels-above","labels-reverse","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"]],template:function(t,n){t&1&&I(0,Hl,3,3,"form",0),t&2&&P(n.formDual!==void 0?0:-1)},dependencies:[St,Dt,te,Me,fe,ce,Be],encapsulation:2,changeDetection:0})};var $l=(o,e)=>({variable:o,variableIndex:e});function Gl(o,e){if(o&1){let t=ne();p(0,"zz-dual-axis-slider",4),N("minmaxChange",function(i){Z(t);let r=b(3);return J(r.onVariableChange(i))}),f()}if(o&2){let t=b().$implicit,n=b(2);g("value",n.state.colorBase()[t])("currentColor",n.state.currentColor())("height",n.height)}}function Ol(o,e){if(o&1&&D(0,"zz-slider-field",5)(1,"zz-color-axis",6),o&2){let t=b().$implicit,n=oo(0),i=b(2);g("showTrack",!1)("fieldName","v"+t)("min",n.min)("max",n.max)("step",i.componentStep(n.precision))("label",n.name)("defaultValue",n.defaultValue)("showLabel",!0)("labelLength",10)("unit",n.unit)("showValue",!0)("valueLength",9),d(),g("color-model",i.state.colorModel())("variable-config",no(16,$l,n,t))("color-base",i.state.currentColor())("height",i.height)}}function jl(o,e){if(o&1&&(ve(0),p(1,"div"),I(2,Gl,1,3,"zz-dual-axis-slider",3)(3,Ol,2,19),f()),o&2){let t=e.$implicit,n=b(),i=b();to(i.state.colorModel().components[t]),d(),F("min-height",70+i.height,"px"),d(),P(t===n.variableIndex?2:3)}}function Yl(o,e){if(o&1&&(p(0,"form",1),Q(1,jl,4,4,"div",2,ye),f()),o&2){let t=b();g("formGroup",t.configGroup),d(),U(t.indices)}}var tn=class o{state=k(L);height=30;indices=[0,1,2];configGroup=void 0;constructor(){re(()=>{let e=this.state.colorBase()??[0,0,0];this.configGroup?.patchValue({v0:e[0],v1:e[1],v2:e[2]},{emitEvent:!0})})}ngOnInit(){let e=this.state.colorBase()??[0,0,0];this.configGroup=new ze({v0:new K(e[0],{nonNullable:!0}),v1:new K(e[1],{nonNullable:!0}),v2:new K(e[2],{nonNullable:!0})}),this.configGroup.valueChanges.subscribe(()=>{let{v0:t,v1:n,v2:i}=this.configGroup?.value??{v0:0,v1:0,v2:0},r=[t,n,i];this.state.colorChanged(r)})}onVariableChange(e){this.configGroup.patchValue({["v"+this.state.variableConfig().variableIndex]:(e[0]+e[1])/2}),this.state.rangeChanged(e)}componentStep(e){return 1/Math.pow(10,e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-range-selector"]],decls:2,vars:1,consts:[[1,"h-fit",2,"background-color","none !important","border-width","0px !important"],[1,"min-w-fit","h-fit",3,"formGroup"],[3,"minHeight"],[1,"block",3,"value","currentColor","height"],[1,"block",3,"minmaxChange","value","currentColor","height"],[1,"relative","z-2",3,"showTrack","fieldName","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-model","variable-config","color-base","height"]],template:function(t,n){if(t&1&&(p(0,"div",0),I(1,Yl,3,1,"form",1),f()),t&2){let i;d(),P((i=n.state.variableConfig())?1:-1,i)}},dependencies:[St,_e,Me,fe,te,ce,Dt,en],encapsulation:2,changeDetection:0})};function ql(o,e){if(o&1&&(p(0,"div",5),D(1,"zz-color-values-display",6),f()),o&2){let t=b().$implicit,n=b(3);F("color",t.fore),d(),g("color-model",n.colorModel())("values",t.valores)("vertical",!0)}}function Xl(o,e){if(o&1&&(p(0,"div",5),D(1,"zz-color-values-display",7),f()),o&2){let t=b().$implicit;F("color",t.fore),d(),g("values",t.color)("vertical",!0)}}function Zl(o,e){if(o&1&&(p(0,"div",2)(1,"div",3),x(2," \u26A0 "),f(),ve(3),I(4,ql,2,5,"div",4)(5,Xl,2,4,"div",4),f()),o&2){let t=e.$implicit,n=b(2),i=b();g("shadow",!n.continuo)("roundedSize",n.continuo?"none":"large")("color-model",i.colorModel())("values",t.valores),d(),F("color",t.fore),B("opacity-60",t.clamp);let r=i.state.paletteValuesConfig();d(3),P(r.showValues==="yes"?4:-1),d(),P(r.showValues==="rgb"?5:-1)}}function Jl(o,e){if(o&1&&(p(0,"div",1),Q(1,Zl,6,10,"div",2,ye),f()),o&2){let t=b();F("height",t.alto,"px"),B("space-x-1",t.separate),d(),U(e.swatches)}}function Wl(o,e){if(o&1&&I(0,Jl,3,4,"div",0),o&2){let t,n=b();P((t=n.palette())?0:-1,t)}}var on=class o{state=k(L);palette=w(void 0);colorModel=W(()=>{let e=this.palette()?.model;if(e)return ge[e]});static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-color-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"space-x-1","height"],[1,"flex","flex-row","justify-between"],["color-swatch-panel","",1,"axis-swatch",3,"shadow","roundedSize","color-model","values"],[1,"text-larger-2","absolute","select-none","bottom-1","right-2","opacity-0","transition-opacity","duration-500","ease-in-out"],[1,"text-smaller-2",3,"color"],[1,"text-smaller-2"],[3,"color-model","values","vertical"],[3,"values","vertical"]],template:function(t,n){if(t&1&&I(0,Wl,1,1),t&2){let i;P((i=n.state.paletteVisualConfig())?0:-1,i)}},dependencies:[Mo,_t],encapsulation:2,changeDetection:0})};var kt=class o{state=k(L);copyNotification=j(!1);lastTimeoutId=void 0;abort=void 0;copyCurrentPalette(){let e=this.state.palette().swatches.map(t=>this.state.colorModel().convert(t.valores)).join(`\r
`);if(this.state.colorModel().name==="rgb")navigator.clipboard.writeText(e);else{let t=this.state.palette().swatches.map(n=>ge.rgb.convert(n.color)).join(`\r
`);navigator.clipboard.writeText(`${e}\r
\r
${t}`)}this.setCopyNotification(!0)}setCopyNotification(e){if(this.copyNotification.set(e),this.abort?.abort(),this.copyNotification()){this.abort=new AbortController;let t=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:t,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:t,capture:!0}),this.setHideTimeout()}else this.clearHideTimeout()}setHideTimeout(){this.clearHideTimeout(),this.lastTimeoutId=window.setTimeout(()=>{this.setCopyNotification(!1)},2500)}clearHideTimeout(){this.lastTimeoutId&&(clearTimeout(this.lastTimeoutId),this.lastTimeoutId=void 0)}onKeyDown(e){e.key==="Escape"&&this.setCopyNotification(!1)}onClick(e){this.setCopyNotification(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=we({token:o,factory:o.\u0275fac,providedIn:"root"})};var nn=class o{store=k(Ae);state=k(L);copyService=k(kt);lock(){this.store.lockPalette({palette:this.state.palette(),state:{variableConfig:this.state.variableConfig(),stepsConfig:this.state.paletteStepsConfig(),currentColor:this.state.currentColor(),minmax:this.state.minmax()}})}unlock(){this.store.unlockPalette()}copy(){this.copyService.copyCurrentPalette()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-save-palette"]],decls:10,vars:1,consts:[[1,"flex","items-center"],["zz-icon-button","","title","Lock palette",1,"not-disabled:text-green-600","dark:not-disabled:text-green-400","bg-transparent","hover:bg-transparent",3,"click"],["zz-icon",""],["zz-icon-button","","title","Unlock palette",1,"not-disabled:text-red-600","dark:not-disabled:text-red-500","bg-transparent","hover:bg-transparent",3,"click","zzDisabled"],["zz-icon-button","","title","Unlock palette",1,"opacity-70","hover:opacity-100","transition-opacity","bg-transparent","hover:bg-transparent",3,"click"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"button",1),N("click",function(){return n.lock()}),p(2,"span",2),x(3,"lock"),f()(),p(4,"button",3),N("click",function(){return n.unlock()}),p(5,"span",2),x(6,"lock_open_right"),f()(),p(7,"button",4),N("click",function(){return n.copy()}),p(8,"span",2),x(9,"content_copy"),f()()()),t&2&&(d(4),g("zzDisabled",n.store.lockedPalette()===void 0))},dependencies:[mt,Be],encapsulation:2})};var Pt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-input",""],["zzInput"]],hostAttrs:[1,"py-1","ring-none","px-1","transition-all","transition-discrete","focus:px-0","focus:[&::-webkit-inner-spin-button]:block","[&::-webkit-inner-spin-button]:hidden","outline-none","border-b-1","border-b-gris-500/80","dark:focus:border-b-sky-600","focus:border-b-sky-600","w-12","text-right","dark:text-gris-100","text-gris-900","invalid:dark:border-b-red-500","invalid:border-b-red-700","dark:bg-gris-900"],features:[R([Se,{directive:Ee,inputs:["zz-disabled","zzDisabled"]}])]})};var Tt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","type","checkbox","zz-simple-check",""]],hostAttrs:[1,"appearance-none","text-inherit","inline-block","min-w-4","w-4","h-4","p-1","cursor-pointer","bg-white","dark:bg-gris-900","rounded-[25%]","border-[2px]","border-white","dark:border-gris-900","outline-[1px]","outline-gris-500","dark:outline-gris-400","focus:ring-[2px]","focus:ring-gris-900","dark:focus:ring-gris-100","transition-all","duration-100","checked:bg-sky-400","dark:checked:bg-sky-600"]})};function Kl(o,e){if(o&1&&(p(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),x(4,"Steps:"),f(),D(5,"input",4),f(),p(6,"label",5),D(7,"input",6),p(8,"span"),x(9,"Auto"),f()()()()),o&2){let t=b();g("formGroup",t.configGroup),d(5),g("zzDisabled",t.configGroup.controls.pasos.disabled)("min",2)("max",100)}}var rn=class o{state=k(L);configGroup=void 0;constructor(){re(()=>{let e=this.state.paletteStepsConfig();e.pasos!==this.configGroup?.controls.pasos.value&&this.configGroup?.controls.pasos.setValue(e.pasos,{emitEvent:!1}),e.automatico!==this.configGroup?.controls.automatico.value&&this.configGroup?.controls.automatico.setValue(e.automatico,{emitEvent:!1})})}ngOnInit(){let e=this.state.paletteStepsConfig();this.configGroup=new ze({pasos:new K(e.pasos,{nonNullable:!0,validators:[rt.min(2),rt.max(100)]}),automatico:new K(e.automatico,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(et(30),tt((t,n)=>t.pasos===n.pasos&&t.automatico===n.automatico),ot(this.configGroup.value)).subscribe(t=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteStepsConfigChanged({pasos:t.pasos??n.pasos.value,automatico:t.automatico??n.automatico.value})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-steps-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-2",2,"line-height","0.9rem"],[1,"flex","flex-row","items-center"],["for","pasos",1,"select-none"],["type","number","id","pasos","zz-input","","formControlName","pasos","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","zz-simple-check","","formControlName","automatico"]],template:function(t,n){t&1&&I(0,Kl,10,4,"form",0),t&2&&P(n.configGroup?0:-1)},dependencies:[_e,Me,Fe,ao,ro,xe,fe,lo,so,te,ce,Ne,Pt,Tt],encapsulation:2,changeDetection:0})};function Ql(o,e){if(o&1&&(p(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),x(4,"Height:"),f(),D(5,"input",4),f(),p(6,"label",5),D(7,"input",6),p(8,"span"),x(9,"Flat"),f()(),p(10,"label",5),D(11,"input",7),p(12,"span"),x(13,"Separate"),f()()()()),o&2){let t=b();g("formGroup",t.configGroup),d(5),g("zzDisabled",t.configGroup.controls.alto.disabled)("min",1)("max",180)}}var an=class o{state=k(L);configGroup=void 0;ngOnInit(){let e=this.state.paletteVisualConfig();this.configGroup=new ze({alto:new K(e.alto,{nonNullable:!0,validators:[rt.min(1),rt.max(180)]}),continuo:new K(e.continuo,{nonNullable:!0}),separate:new K(e.separate,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(et(30),tt((t,n)=>t.alto===n.alto&&t.continuo===n.continuo&&t.separate===n.separate),ot(this.configGroup.value)).subscribe(t=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteVisualConfigChanged({alto:t.alto??n.alto.value,continuo:t.continuo??n.continuo.value,separate:t.separate??n.separate.value})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-visual-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-4",2,"line-height","0.9rem"],[1,"flex","flex-row","items-center"],["for","alto",1,"select-none"],["type","number","id","alto","zz-input","","formControlName","alto","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","zz-simple-check","","formControlName","continuo"],["type","checkbox","zz-simple-check","","formControlName","separate"]],template:function(t,n){t&1&&I(0,Ql,14,4,"form",0),t&2&&P(n.configGroup?0:-1)},dependencies:[_e,Me,Fe,ao,ro,xe,fe,lo,so,te,ce,Ne,Pt,Tt],encapsulation:2,changeDetection:0})};var sn=class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["","zz-width-full",""],["zzWidthFull"]],hostAttrs:[1,"w-full"]})};var ln=class o{get baseSelectClass(){return!0}static \u0275fac=function(t){return new(t||o)};static \u0275dir=C({type:o,selectors:[["select","zz-select",""],["zzSelect"]],hostAttrs:[1,"[&::picker-icon]:font-icons","[&::picker-icon]:opacity-80","[&::picker-icon]:text-larger-5","[&::picker-icon]:leading-[1lh]","transition-all","ring-none","outline-none","border-b-1","border-b-gris-500/80","dark:focus:border-b-sky-600","focus:border-b-sky-600"],hostVars:2,hostBindings:function(t,n){t&2&&B("zz-select",n.baseSelectClass)},features:[R([uo,Se,sn,{directive:Ee,inputs:["zz-disabled","zzDisabled"]}])]})};var ec=["valor"];function tc(o,e){if(o&1&&(p(0,"option",2),x(1),f()),o&2){let t=e.$implicit,n=b();g("value",t)("selected",n.value&&t[n.displayKey()]===n.value[n.displayKey()]),d(),de(" ",t[n.displayKey()]," ")}}var cn=class o{constructor(e){this._elementRef=e}trackValue(e,t){let n=t[this.displayKey()]?.toString();return n?e+"-"+n:e.toString()}static nextId=0;controlType="select";valorInput;id=`${this.controlType}-${o.nextId++}`;selectId=`${this.id}-select`;userAriaDescribedBy;items=w([]);displayKey=w.required();upperCase=w(!1);get disabled(){return this._disabled}set disabled(e){this._disabled=e}_disabled=!1;get value(){return this._value}set value(e){this._value=e,this.touched||this.writeValue(e)}_value=void 0;_renderer=k(Qt);onValueChange(e){let t=e.target.selectedIndex;this.value=this.items()[t],this.onChange(this._value),e.stopPropagation()}touched=!1;onFocusOut(e){this.touched=!0,this.onTouched?.call(this)}writeValue(e){if(this._value=e,e){let t=e[this.displayKey()],n=this.items().findIndex(r=>r[this.displayKey()]===t);n=n===-1?0:n;let i=this.valorInput?.nativeElement.querySelector(`option:nth-of-type(${n+1})`);this._renderer.setProperty(i,"selected","selected")}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e}onChange=e=>{};onTouched=()=>{};static \u0275fac=function(t){return new(t||o)(qe(Kt))};static \u0275cmp=M({type:o,selectors:[["zz-select"]],viewQuery:function(t,n){if(t&1&&Un(ec,7),t&2){let i;ei(i=ti())&&(n.valorInput=i.first)}},hostVars:2,hostBindings:function(t,n){t&2&&eo("id",n.id)("selectId",n.selectId)},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],items:[1,"items"],displayKey:[1,"displayKey"],upperCase:[1,"upperCase"],disabled:"disabled",value:"value"},features:[ni([{provide:si,useExisting:Wn(()=>o),multi:!0}])],decls:4,vars:4,consts:[["valor",""],["zz-select","",1,"py-1","pl-2","pr-1","group","cursor-pointer","transition-all","ease-in-out","text-gris-900","group-focus-within:text-black","dark:bg-gris-900","dark:text-gris-100","group-focus-within:dark:text-white",3,"focusout","change","zzDisabled","id"],[3,"value","selected"]],template:function(t,n){if(t&1){let i=ne();p(0,"select",1,0),N("focusout",function(a){return Z(i),J(n.onFocusOut(a))})("change",function(a){return Z(i),J(n.onValueChange(a))}),Q(2,tc,2,3,"option",2,n.trackValue,!0),f()}t&2&&(B("uppercase",n.upperCase()),g("zzDisabled",n.disabled)("id",n.selectId),d(2),U(n.items()))},dependencies:[ai,_e,ui,mi,ln],styles:['.zz-select::picker-icon{content:"arrow_drop_down"}  .zz-select:open::picker-icon{content:"arrow_drop_up"}  .zz-select option{padding-inline:calc(var(--spacing) * 3);padding-block:calc(var(--spacing) * 1);color:light-dark(var(--color-gris-800),var(--color-gris-50));transition:background-color .15s}  .zz-select option::checkmark{display:none}  .zz-select option:focus{background-color:light-dark(var(--color-gris-200),var(--color-gris-600));outline:none}  .zz-select option:checked{color:light-dark(white,white);background-color:light-dark(var(--color-sky-500),var(--color-sky-700))}  .zz-select option:checked:hover{color:light-dark(white,white);background:light-dark(var(--color-sky-600),var(--color-sky-600))}  .zz-select::picker(select){appearance:base-select;transition:all .15s allow-discrete;outline:none;background-color:light-dark(white,var(--color-gris-800));border-color:color-mix(in srgb,light-dark(black,white),transparent 80%)}'],changeDetection:0})};function oc(o,e){if(o&1&&(p(0,"form",1)(1,"div",2)(2,"label",3),x(3,"Values:"),f(),D(4,"zz-select",4,0),f()()),o&2){let t=oi(5),n=b();g("formGroup",n.configGroup),d(2),g("for",t.selectId),d(2),g("items",n.state.showValuesOptions)}}var un=class o{state=k(L);configGroup=void 0;ngOnInit(){let e=this.state.paletteValuesConfig(),t=this.state.showValuesOptions.find(n=>n.value===e.showValues);this.configGroup=new ze({showValues:new K(t,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(et(30),tt((n,i)=>n.showValues?.value===i.showValues?.value),ot(this.configGroup.value)).subscribe(n=>{let i=this.configGroup?.controls;i&&this.configGroup?.valid&&this.state.paletteValuesConfigChanged({showValues:n.showValues?.value??i.showValues.value.value})})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palette-values-config"]],decls:1,vars:1,consts:[["showValues",""],[3,"formGroup"],[1,"flex","flex-row","items-center",2,"line-height","0.9rem"],[1,"select-none",3,"for"],["displayKey","text","formControlName","showValues",1,"w-16",3,"items"]],template:function(t,n){t&1&&I(0,oc,6,3,"form",1),t&2&&P(n.configGroup?0:-1)},dependencies:[_e,Me,xe,fe,te,ce,Ne,cn],encapsulation:2,changeDetection:0})};function nc(o,e){o&1&&D(0,"zz-color-palette",6),o&2&&g("palette",e.palette)}var ta=class o{state=k(L);store=k(Ae);copyService=k(kt);static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["zz-palettes"]],hostAttrs:["styles","display: block;  height: 100vh;  width: 100vw;  overflow-x: hidden;"],decls:22,vars:7,consts:[[1,"sticky","bg-application","z-20","top-0","left-0","right-0","shadow-md","dark:shadow-black/60"],[1,"flex","flex-row","items-top","justify-center","gap-8","px-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"py-4"],[1,"min-w-36","w-full","pt-3","relative","flex","flex-col"],[1,"flex","items-center","justify-between","gap-1","mt-6","mb-4"],[1,"opacity-80","hover:opacity-100"],[1,"block","pb-4",3,"palette"],[1,"py-4","hidden","lg:block"],[1,"block",3,"height"],[1,"fixed","duration-300","m-auto","left-0","right-0","w-fit","shadow-lg","shadow-black/30","dark:shadow-black/60","transition-all","ease-in-out"],[1,"rounded-lg","w-64","flex","bg-gris-100","dark:bg-gris-800","items-center","gap-4","pl-2","py-3"],[1,"dark:text-green-500","text-green-800","bg-white","dark:bg-gris-900","p-1","px-2","text-smaller","rounded-lg"],[1,"w-full"]],template:function(t,n){if(t&1&&(p(0,"div",0),D(1,"zz-palettes-header"),f(),p(2,"main",1)(3,"div",2),D(4,"zz-color-menu"),f(),p(5,"div",3),D(6,"zz-color-range-selector"),p(7,"div",4),D(8,"zz-palette-steps-config",5)(9,"zz-palette-visual-config",5)(10,"zz-palette-values-config",5)(11,"zz-save-palette"),f(),D(12,"zz-color-palette",6),I(13,nc,1,1,"zz-color-palette",6),f(),p(14,"div",7),D(15,"zz-color-sample",8),f()(),p(16,"div",9)(17,"div",10)(18,"span",11),x(19,"info"),f(),p(20,"span",12),x(21,"Palette colors copied!"),f()()()),t&2){let i;d(12),g("palette",n.state.palette()),d(),P((i=n.store.lockedPalette())?13:-1,i),d(2),g("height",200),d(),B("-bottom-14",!n.copyService.copyNotification())("bottom-12",n.copyService.copyNotification())}},dependencies:[qo,Xo,Jo,tn,rn,an,un,on,nn],encapsulation:2,changeDetection:0})};export{ta as PalettesComponent};
