import{a as he,b as pe,d as me,f as oe,g as ue,k as fe,l as ve,m as Ce,n as be}from"./chunk-E7FBCAMK.js";import{$a as N,B as ae,Ba as C,K as le,Ka as b,La as $,Ma as G,N as de,Na as ce,S as g,Ua as p,Va as m,Wa as S,Xa as j,Y as P,Z as _,Za as f,a as x,ab as W,b as ee,bb as Y,bc as ge,db as M,ga as z,ia as w,p as D,qa as te,ra as ne,sa as v,u as V,v as I,va as A,vb as k,wa as L,wb as H,y as B}from"./chunk-ITYJQT5F.js";var U=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["zz-gradients-header"]],decls:8,vars:1,consts:[[1,"flex","items-center","justify-between","m-auto","h-[50px]","pl-6","pr-4","py-1","max-w-[1600px]","leading-8"],[1,"text-2xl","opacity-90"],[3,"format"],[1,"flex","items-center","gap-4"],["href","palettes",1,"text-smaller","opacity-85","hover:opacity-100"]],template:function(n,o){n&1&&(p(0,"header")(1,"div",0)(2,"h1",1),S(3,"zz-marca",2),m(),p(4,"div",3)(5,"a",4),M(6,"Palettes"),m(),S(7,"zz-dark-mode-toggle"),m()()()),n&2&&(v(3),b("format","horizontal"))},dependencies:[pe,fe],encapsulation:2,changeDetection:0})};var ye={colors:{start:[249,147,52],end:[7,10,95]},handlers:{h1:{x:3.4,y:60},h2:{x:20,y:96.8}},angle:0};function we(e){let n=e.h1.x,o=e.h2.x,i=100,r=0,s=e.h1.y,a=e.h2.y,l=100,c=[];for(let d=0;d<=1;d+=.05){let h=Math.pow(1-d,3)*0+3*Math.pow(1-d,2)*d*n+3*(1-d)*Math.pow(d,2)*o+Math.pow(d,3)*i,u=Math.pow(1-d,3)*r+3*Math.pow(1-d,2)*d*s+3*(1-d)*Math.pow(d,2)*a+Math.pow(d,3)*l;c.push({x:h,y:u})}return c.push({x:100,y:100}),c}function R(e,t,n=6){return t.x+n>e.x&&t.x-n<e.x&&t.y+n>e.y&&t.y-n<e.y}function Me(e,t,n,o=0){let i=Re(e,t),r=Fe(e,t),s=Oe(e,t),a=[],l=[];for(let d=0;d<n.length;d++){let h=n[d],u=h.y/100,E=(u*i.range+i.delta).toFixed(3),Z=(u*r.range+r.delta).toFixed(3),O=(u*s.range+s.delta).toFixed(1),se=`oklch(${E} ${Z} ${O})`;a.push({offset:h.x,color:se}),l.push({offset:h.x,color:me(se).color})}let c=Ie(n);return{stops:a,gradient:Se(a,o,"oklch"),darkMode:ue(a[c].color)==="white",gradientRGB:Se(l,o,"srgb"),rgbStops:l}}function Fe(e,t){return{range:t[1]-e[1],delta:e[1]}}function Re(e,t){return{range:t[0]-e[0],delta:e[0]}}function Oe(e,t){let n=t[2]-e[2],o=n>180?e[2]+360:e[2];return{range:(n<-180?t[2]+360:t[2])-o,delta:o}}function Se(e,t,n){return`linear-gradient(${t}deg in ${n}, ${e.map(o=>`${o.color} ${o.offset.toFixed(1)}%`).join(", ")})`}function Ie(e){let t=e.map(o=>o.x).filter(o=>o<=50).sort((o,i)=>i-o),n=e.map(o=>o.x).filter(o=>o>50).sort((o,i)=>o-i);return 50-t[0]<n[0]-50?t.length-1:t.length}var ke=new Date(2025,0,1).valueOf();function De(e,t=0){let n=document.createElement("canvas");n.width=1920,n.height=1080;let o=n.getContext("2d");if(!o){console.error("No se pudo obtener el contexto del canvas");return}let{x1:i,y1:r,x2:s,y2:a}=_e(n.width,n.height,t),l=o.createLinearGradient(i,r,s,a);for(let h=0;h<e.length;h++){let u=e[h];l.addColorStop(u.offset/100,u.color)}o.fillStyle=l,o.beginPath(),o.rect(0,0,1920,1080),o.fill();let c=document.createElement("a"),d=n.toDataURL("image/png",1);c.href=d,c.download=`colorina-gradient-${new Date().valueOf()-ke}.png`,c.click(),c.remove()}function Pe(e,t=0){let n=Ae(e,t),o=new Blob([n],{type:"image/svg+xml"}),i=document.createElement("a");i.href=URL.createObjectURL(o),i.download=`colorina-gradient-${new Date().valueOf()-ke}.svg`,i.click(),i.remove()}function Ae(e,t=0){let i=Math.max(1920,1080),r=Math.min(1920,1080),s=Math.sqrt(1920*1920+1080*1080),{x1:a,y1:l,x2:c,y2:d,hypotenusa:h}=_e(1920,1080,t);h=Math.abs(h);let u=(i-h)/2,E=(r-s)/2,Z=e.map(O=>`        <stop offset="${(O.offset/100).toFixed(3)}" style="stop-color:${O.color};stop-opacity:1"/>`).join(`
`);return`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1920 1080" version="1.1" xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/"
      style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">

    <rect x="${u}" y="${E}" width="${h}" height="${s}"  style=" transform-origin: center center; transform: rotate(${t-90}deg); fill:url(#_Linear1);"/>
    <rect x="0" y="0" width="1920" height="1080" stroke="black" fill="none" />

  <defs>
        <linearGradient id="_Linear1" x1="${u}" y1="0" x2="${h}" y2="0" gradientUnits="userSpaceOnUse" >
${Z}
        </linearGradient>
    </defs>
</svg>`}function _e(e,t,n){let o=e/2,i=t/2,r=Math.sin((n+90)*Math.PI*2/360),s=Math.cos((n+90)*Math.PI*2/360),a=Math.sqrt(o*o+i*i),l=a*s,c=Math.abs(i*r),d=a*r,h=Math.abs(o*s);d<-i?d=Math.max(d,-i-h):d>i&&(d=Math.min(d,i+h)),l<-o?l=Math.max(l,-o-c):l>o&&(l=Math.min(l,o+c));let u=Math.sqrt(l*l+d*d)*2;return console.log("realHypotenusa",u,"hypotenusa",a),{x1:o+l,y1:i+d,x2:o-l,y2:i-d,hypotenusa:u}}var y=class e{store=g(he);initialState=this.store.get("gradient-state")??ye;angleDegrees=w(this.initialState.angle);startRGBColor=w(this.initialState.colors.start);endRGBColor=w(this.initialState.colors.end);handlers=w(this.initialState.handlers);startOklch=k(()=>oe(this.rgbText(this.startRGBColor())));endOklch=k(()=>oe(this.rgbText(this.endRGBColor())));points=k(()=>we(this.handlers()));startColor=k(()=>this.oklchText(this.startOklch()));endColor=k(()=>this.oklchText(this.endOklch()));gradient=k(()=>Me(this.startOklch(),this.endOklch(),this.points(),this.angleDegrees()));currentState=k(()=>({colors:{start:this.startRGBColor(),end:this.endRGBColor()},handlers:this.handlers(),angle:this.angleDegrees()}));constructor(){H(()=>this.store.save("gradient-state",this.currentState()))}onAngleDegreesChange(t){this.angleDegrees.set(t)}onStartColorChange(t){this.startRGBColor.set(t)}onEndColorChange(t){this.endRGBColor.set(t)}onHandlersChange(t){this.handlers.set(x({},t))}rgbText(t){return`rgb(${Math.round(t[0])} ${Math.round(t[1])} ${Math.round(t[2])})`}oklchText(t){return`oklch(${t[0].toFixed(3)} ${t[1].toFixed(3)} ${t[2].toFixed(1)})`}static \u0275fac=function(n){return new(n||e)};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})};var X=class e{state=g(y);swap(){let t=this.state.startRGBColor(),n=this.state.endRGBColor();this.state.onStartColorChange(n),this.state.onEndColorChange(t)}onColorEndChange(t){this.state.onEndColorChange(t)}onColorStartChange(t){this.state.onStartColorChange(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["zz-gradient-colors"]],hostAttrs:[1,"w-full"],decls:6,vars:4,consts:[[1,"flex","flex-row","items-center","justify-center","gap-2","w-full"],[1,"shadow-md",3,"color-changing","border","color"],["title","Swap colors (Ctrl+Shift+Y)",1,"shadow-md","w-5","h-5","-mt-1",3,"click"],[1,"font-icons","text-larger-5","leading-5"]],template:function(n,o){n&1&&(p(0,"div",0)(1,"zz-color-selector",1),f("color-changing",function(r){return o.onColorStartChange(r)}),m(),p(2,"button",2),f("click",function(){return o.swap()}),p(3,"span",3),M(4,"swap_horiz"),m()(),p(5,"zz-color-selector",1),f("color-changing",function(r){return o.onColorEndChange(r)}),m()()),n&2&&(v(),b("border","border-current/40")("color",o.state.startRGBColor()),v(4),b("border","border-current/40")("color",o.state.endRGBColor()))},dependencies:[Ce],encapsulation:2,changeDetection:0})};function Te(e,t,n,o,i){let r=new OffscreenCanvas(n,n),s=r.getContext("2d");Le(s,n,i);let a=$e(i),l=je(i);He(s,{x:n,y:0},t.h2,a.line),ze(s,t.h2,a.h2),He(s,{x:0,y:n},t.h1,a.line),ze(s,t.h1,a.h1),o==="h1"?Ge(s,t.h1,a.h1,a.shadow):o==="h2"&&Ge(s,t.h2,a.h2,a.shadow),s.beginPath(),s.moveTo(0,n),s.strokeStyle=l,s.bezierCurveTo(t.h1.x,t.h1.y,t.h2.x,t.h2.y,n,0),s.lineWidth=2,s.stroke();let c=r.transferToImageBitmap();e.transferFromImageBitmap(c)}function Le(e,t,n){let o=Ne(n);e.beginPath(),e.rect(0,0,t,t),e.strokeStyle=o.border,e.lineWidth=1,e.stroke();let i=t/100;e.strokeStyle=o.lines,e.setLineDash([2,2]);for(let r=10;r<=90;r+=10)e.beginPath(),e.moveTo(0,r*i),e.lineTo(t,r*i),e.lineWidth=.5,e.stroke(),e.beginPath(),e.moveTo(r*i,0),e.lineTo(r*i,t),e.lineWidth=.5,e.stroke();e.setLineDash([])}function ze(e,t,n){e.beginPath(),e.arc(t.x,t.y,7,0,Math.PI*2),e.fillStyle=n,e.fill()}function Ge(e,t,n,o){e.shadowColor=o,e.shadowBlur=7,e.shadowOffsetX=5,e.shadowOffsetY=5,e.beginPath(),e.arc(t.x,t.y,10,0,Math.PI*2),e.strokeStyle=n,e.lineWidth=2,e.stroke(),e.shadowColor="transparent"}function He(e,t,n,o){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.strokeStyle=o,e.stroke()}function $e(e){return{h1:e?"oklch(0.634 0.254 18)":"oklch(0.355 0.146 29)",h2:e?"oklch(0.858 0.146 197)":"oklch(0.377 0.1 247)",line:e?"#E0FFE0":"#305030",shadow:e?"#000000":"#202020"}}function je(e){return e?"#D0D0D0":"#303030"}function Ne(e){return{lines:e?"#C0C0C0":"#606060",border:e?"#F0F0F0":"#101010"}}function Ee(e,t){let n=100/t;return{x:Math.max(0,Math.min(e.x,t))*n,y:Math.max(0,Math.min(t-e.y,t))*n}}function ie(e,t){let n=t/100;return{x:Math.max(0,Math.min(e.x,100))*n,y:t-Math.max(0,Math.min(e.y,t))*n}}var We=["canvas"],K=class e{constructor(t){this.renderer=t;H(()=>{let n=this.handlersToCanvas(this.state.handlers());this.dibujar(n,this.currentHandler(),this.size(),this.darkMode())})}mouseMoveSubscription=null;mouseMoveDocumentSubscription=null;removeDocumentClickListenerFn=null;state=g(y);overHandler=w(null);currentHandler=w(null);size=z(200);darkMode=z(!1);canvas;canvasContext=null;ngAfterViewInit(){this.mouseMoveSubscription=V(this.canvas.nativeElement,"mousemove").pipe(B(1),D(t=>t)).subscribe(t=>{this.onMouseMove(t)}),this.mouseMoveDocumentSubscription=V(document,"mousemove").pipe(I(()=>this.currentHandler()!==null),B(1),D(t=>t)).subscribe(t=>{this.onMouseMove(t)}),this.canvas.nativeElement.oncontextlost=t=>{console.warn("Context lost",t)},this.dibujar(this.handlersToCanvas(this.state.handlers()))}onDoubleClick(t){let n=this.overHandler();n!==null&&this.state.onHandlersChange(ee(x({},this.state.handlers()),{[n]:{x:50,y:50}}))}onMouseDown(t){let n=this.overHandler();n!==null&&this.setHandlerSelected(n)}onMouseMove(t){let n=this.pointFromEvent(t);if(!this.currentHandler()){let o=this.overHandler(),i=this.isOverHandler(n);if(o===i)return;this.overHandler.set(i)}this.updateHandlerCoords(n)}stopTracking(){this.currentHandler()!==null&&(this.removeDocumentClickListenerFn?.(),this.currentHandler.set(null))}setHandlerSelected(t){this.setListeners(),this.currentHandler.set(t)}updateHandlerCoords(t){let n=this.currentHandler();n!==null&&this.state.onHandlersChange(ee(x({},this.state.handlers()),{[n]:t}))}isOverHandler(t){let n=this.state.handlers();return R(t,n.h1)?"h1":R(t,n.h2)?"h2":null}setListeners(){this.removeDocumentClickListenerFn=this.renderer.listen("document","mouseup",()=>{this.currentHandler()&&this.stopTracking()})}dibujar(t,n=this.currentHandler(),o=this.size(),i=this.darkMode()){if(!this.canvas)return;this.canvasContext===null&&(this.canvasContext=this.canvas.nativeElement.getContext("bitmaprenderer"));let r=this.canvasContext;requestAnimationFrame(()=>{Te(r,t,o,n,i)})}handlersToCanvas(t){return{h1:ie(t.h1,this.size()),h2:ie(t.h2,this.size())}}pointFromEvent(t){let n=this.canvas?.nativeElement;if(!n)return{x:0,y:0};let o=window.getComputedStyle(n),i=parseFloat(o.paddingLeft.replace("px",""))||0,r=parseFloat(o.paddingTop.replace("px",""))||0,a=(parseFloat(o.paddingBottom.replace("px",""))||0)+r,l=n.getBoundingClientRect(),c=l.bottom-l.top-a;return Ee({x:t.clientX-l.left-i,y:t.clientY-l.top-r},c)}ngOnDestroy(){this.removeDocumentClickListenerFn?.(),this.mouseMoveSubscription?.unsubscribe(),this.mouseMoveDocumentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||e)(L(A))};static \u0275cmp=C({type:e,selectors:[["zz-bezier-panel"]],viewQuery:function(n,o){if(n&1&&N(We,5),n&2){let i;W(i=Y())&&(o.canvas=i.first)}},inputs:{size:[1,"size"],darkMode:[1,"darkMode"]},decls:3,vars:8,consts:[["canvas",""],["id","canvas",1,"bg-gris-500/20","rounded-lg",3,"mousedown","dblclick","width","height"]],template:function(n,o){if(n&1){let i=j();p(0,"div")(1,"canvas",1,0),f("mousedown",function(s){return P(i),_(o.onMouseDown(s))})("dblclick",function(s){return P(i),_(o.onDoubleClick(s))}),m()()}n&2&&(v(),$("padding",o.size()/20,"px"),G("cursor-grab",o.overHandler()!==null)("cursor-grabbing",o.currentHandler()!==null),b("width",o.size())("height",o.size()))},encapsulation:2,changeDetection:0})};var Q=class e{copyService=g(ve);state=g(y);handleCopyShortcut(t){t.preventDefault(),this.copy()}handleSvgShortcut(t){t.preventDefault(),this.copy()}copy(){this.copyService.copy(this.state.gradient().gradient,"Gradient  copied!")}saveAsImage(){De(this.state.gradient().rgbStops,this.state.angleDegrees())}saveSVG(){Pe(this.state.gradient().rgbStops,this.state.angleDegrees())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["zz-gradient-actions"]],hostAttrs:[1,"block","w-full"],hostBindings:function(n,o){n&1&&f("keydown.control.shift.c",function(r){return o.handleCopyShortcut(r)},!1,ne)("keydown.control.shift.g",function(r){return o.handleSvgShortcut(r)},!1,ne)},decls:7,vars:0,consts:[[1,"flex","justify-center","gap-2","w-full"],["title","Download gradient as SVG (Ctrl+Shift+G)",1,"font-button","shadow-md","w-10","border-[1px]",3,"click"],["title","Save png gradient (Ctrl+Shift+C)",1,"font-button","shadow-md","w-10","border-[1px]",3,"click"],["title","Copy gradient (Ctrl+Shift+C)",1,"font-button","shadow-md","w-10","border-[1px]",3,"click"]],template:function(n,o){n&1&&(p(0,"div",0)(1,"button",1),f("click",function(){return o.saveSVG()}),M(2," SVG "),m(),p(3,"button",2),f("click",function(){return o.saveAsImage()}),M(4," PNG "),m(),p(5,"button",3),f("click",function(){return o.copy()}),M(6," COPY "),m()())},encapsulation:2,changeDetection:0})};function Ve(e,t,n=100,o=!1,i=!1){let r=new OffscreenCanvas(n,n),s=r.getContext("2d");if(!s)return;Xe(s,n,i),qe(s,t,n,o,i);let a=r.transferToImageBitmap();e.transferFromImageBitmap(a)}var Ye=.84,Ue=.85;function Xe(e,t,n){let o=Math.round(t/2);e.beginPath(),e.arc(o,o,o,0,Math.PI*2),e.lineWidth=.5,e.fillStyle="#80808040",e.fill(),e.setLineDash([]),e.strokeStyle="transparent";let i=Math.round(Ye*o),r=Ke(n);e.beginPath(),e.arc(o,o,i,0,Math.PI*2),e.moveTo(o,o),e.strokeStyle=r.border,e.lineWidth=1,e.stroke(),e.beginPath(),e.setLineDash([2,2]),e.arc(o,o,Math.round(i*.2),0,Math.PI*2),e.strokeStyle=r.lines,e.stroke(),e.strokeStyle=r.lines;for(let s=0;s<=7;s++){let a=Math.PI*2/8*s,l=Math.cos(a)*i,c=Math.sin(a)*i,d=l+o,h=c+o,u=l*.8+o,E=c*.8+o;e.beginPath(),e.moveTo(d,h),e.lineTo(u,E),e.lineWidth=.5,e.stroke(),e.beginPath(),e.arc(d,h,3,0,Math.PI*2),e.fillStyle=r.border,e.fill()}e.setLineDash([])}function Ke(e){return{lines:e?"#cccccc":"#606060",border:e?"#bbbbbb":"#303030"}}var xe=5,re=14,q=8,Qe=-3;function qe(e,t,n,o,i){let r=Je(i),s=Math.round(n/2),a=Math.round(Ue*s);e.translate(s,s),e.rotate((t-180)*Math.PI/180);let l=a;o&&(e.shadowColor=i?"#303030":"#606060",e.shadowBlur=7,e.shadowOffsetX=3,e.shadowOffsetY=3),e.beginPath(),e.moveTo(0,l),e.lineTo(0,0),e.strokeStyle=r.lines,e.lineWidth=2,e.stroke(),e.beginPath(),e.arc(0,0,3,0,Math.PI*2),e.fillStyle=r.toe,e.fill(),e.beginPath(),e.arc(0,0,3,0,Math.PI*2),e.strokeStyle=r.lines,e.lineWidth=1,e.stroke(),e.beginPath(),e.moveTo(0,a+q),e.lineTo(-xe,a-re+q),e.lineTo(0,a-re+q+Qe),e.lineTo(xe,a-re+q),e.fillStyle=r.tip,e.closePath(),e.fill(),e.strokeStyle=r.lines,e.lineWidth=2,e.lineCap="butt",e.lineJoin="round",e.stroke(),e.shadowColor="transparent",e.setTransform(1,0,0,1,0,0)}function Je(e){return{lines:e?"#cccccc":"#202020",tip:e?"oklch(0.355 0.146 29)":"oklch(0.634 0.254 18)",toe:e?"gray":"#d0d0d0"}}var Ze=["canvas"],J=class e{constructor(t){this.renderer=t;H(()=>{this.dibujar(this.state.angleDegrees(),this.handler(),this.size(),this.darkMode())})}maxMovement=12;mouseMoveSubscription=null;removeDocumentClickListenerFn=null;state=g(y);presetAngles=[];shiftPressed=w(!1);canvasContext=null;handler=w(!1);size=z(100);darkMode=z(!1);canvas;onShiftKeyDown(t){this.shiftPressed()||(this.shiftPressed.set(!0),t.preventDefault())}onShiftKeyUp(t){this.shiftPressed()&&(this.shiftPressed.set(!1),t.preventDefault())}ngAfterViewInit(){this.mouseMoveSubscription=V(document,"mousemove").pipe(I(()=>this.handler()),B(1),le(i=>console.log("Mouse moved",this.pointFromEvent(i))),D(i=>this.angleDegreesFromPoint(this.pointFromEvent(i))),D(i=>this.shiftPressed()?Math.round(i/45)*45:i),ae()).subscribe(i=>{this.state.onAngleDegreesChange(i)});let t=Math.round(this.size()*.84/2),n=Math.round(this.size()/2),o=t*.7071;this.presetAngles.push({angle:0,point:{x:n,y:n+t}}),this.presetAngles.push({angle:45,point:{x:n+o,y:n+o}}),this.presetAngles.push({angle:90,point:{x:n+t,y:n}}),this.presetAngles.push({angle:135,point:{x:n+o,y:n-o}}),this.presetAngles.push({angle:180,point:{x:n,y:n-t}}),this.presetAngles.push({angle:225,point:{x:n-o,y:n-o}}),this.presetAngles.push({angle:270,point:{x:n-t,y:n}}),this.presetAngles.push({angle:315,point:{x:n-o,y:n+o}}),this.dibujar(this.state.angleDegrees())}onDoubleClick(t){this.state.onAngleDegreesChange(0)}onMouseDown(t){this.checkPreset(this.pointFromEvent(t))||this.setHandlerSelected()}checkPreset(t){for(let n of this.presetAngles)if(R(n.point,t,7))return n.angle!==this.state.angleDegrees()?(this.state.onAngleDegreesChange(n.angle),!0):!1;return!1}stopTracking(){this.handler()!==null&&(this.removeDocumentClickListenerFn?.(),this.handler.set(!1))}setHandlerSelected(){this.setListeners(),this.handler.set(!0)}angleDegreesFromPoint(t){let n=Math.round(this.size()/2),o=(t.x-n)/n,i=(t.y-n)/n;if(Math.abs(o)<.1&&Math.abs(i)<.1)return this.state.angleDegrees();let r=Math.atan2(o,i),s=Math.round(r*180/Math.PI);s<0&&(s+=360);let a=s;if(!this.shiftPressed()){let l=this.state.angleDegrees(),c=Math.min(this.maxMovement,Math.abs(l-s)),d=l-s>180?c:l-s<-180?-c:l<s?c:-c;a=l+d}return a<0?a+360:a>=360?a-360:a}setListeners(){this.removeDocumentClickListenerFn=this.renderer.listen("document","mouseup",()=>{this.handler()&&this.stopTracking()})}dibujar(t,n=!1,o=this.size(),i=this.darkMode()){if(!this.canvas)return;this.canvasContext===null&&(this.canvasContext=this.canvas.nativeElement.getContext("bitmaprenderer"));let r=this.canvasContext;requestAnimationFrame(()=>{Ve(r,t,o,n,i)})}pointFromEvent(t){let n=this.canvas?.nativeElement;if(!n)return{x:0,y:0};let o=window.getComputedStyle(n),i=parseFloat(o.paddingLeft.replace("px",""))||0,r=i*2,s=n.getBoundingClientRect(),a=s.bottom-s.top-r;return{x:t.clientX-s.left-i,y:a-(t.clientY-s.top-i)}}ngOnDestroy(){this.removeDocumentClickListenerFn?.(),this.mouseMoveSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||e)(L(A))};static \u0275cmp=C({type:e,selectors:[["zz-orientation-compass"]],viewQuery:function(n,o){if(n&1&&N(Ze,5),n&2){let i;W(i=Y())&&(o.canvas=i.first)}},hostBindings:function(n,o){n&1&&f("keydown.shift",function(r){return o.onShiftKeyDown(r)},!1,te)("keyup.shift",function(r){return o.onShiftKeyUp(r)},!1,te)},inputs:{size:[1,"size"],darkMode:[1,"darkMode"]},decls:3,vars:4,consts:[["canvas",""],["id","canvas",1,"rounded-full","cursor-grab","bg-gris-500/20",3,"mousedown","dblclick","width","height"]],template:function(n,o){if(n&1){let i=j();p(0,"div")(1,"canvas",1,0),f("mousedown",function(s){return P(i),_(o.onMouseDown(s))})("dblclick",function(s){return P(i),_(o.onDoubleClick(s))}),m()()}n&2&&(v(),G("cursor-grabbing",o.handler()),b("width",o.size())("height",o.size()))},encapsulation:2,changeDetection:0})};var Be=class e{state=g(y);bezierSize=350;compassSize=100;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=C({type:e,selectors:[["zz-test-col"]],decls:11,vars:12,consts:[[1,"bg-application","w-screen","h-screen","overflow-x-hidden"],[1,"sticky","bg-application","z-20","top-0","left-0","right-0","shadow-md","dark:shadow-black/60"],[1,"relative","w-screen","min-h-[calc(100svh_-_50px)]","pt-4","pb-8","grid","items-center","justify-center"],[1,"col-2","w-fit","m-auto","flex","flex-row","items-start","justify-center","gap-4"],[1,"",3,"size","darkMode"],[1,"flex","flex-col","items-center","gap-4"],[3,"size","darkMode"]],template:function(n,o){n&1&&(p(0,"div",0)(1,"div",1),S(2,"zz-gradients-header"),m(),p(3,"main",2)(4,"div",3),S(5,"zz-bezier-panel",4),p(6,"div",5),S(7,"zz-orientation-compass",6)(8,"zz-gradient-colors")(9,"zz-gradient-actions"),m()()()(),S(10,"zz-notification")),n&2&&(v(3),ce("grid-template-columns: calc(50svw - "+o.bezierSize*.55+"px) "+o.bezierSize*1.1+"px 1fr;"),$("background",o.state.gradient().gradient),G("text-gris-900",!o.state.gradient().darkMode)("text-gris-100",o.state.gradient().darkMode),v(2),b("size",o.bezierSize)("darkMode",o.state.gradient().darkMode),v(2),b("size",o.compassSize)("darkMode",o.state.gradient().darkMode))},dependencies:[be,U,ge,X,K,Q,J],encapsulation:2,changeDetection:0})};export{Be as BezierGradientComponent};
