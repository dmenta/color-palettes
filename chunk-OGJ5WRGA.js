import{a as re,b as ae,c as le,d as se,e as ce,f as me,g as pe,h as ue,i as de,j as fe,k as V,l as Ce,n as ge,o as he,p as xe,q as be,r as ve}from"./chunk-6A3WXWDW.js";import{Aa as P,B as L,Ca as $,Da as v,H as B,Ib as K,Ja as c,Jb as z,Ka as R,Kb as U,La as y,Lb as W,Ma as S,Mb as q,Na as _,Nb as x,Ob as Q,Pb as X,Qa as F,Ra as I,Sa as a,Sb as Z,Ta as i,Tb as ee,Ua as u,Va as b,Wb as oe,Xa as h,Xb as ne,Y as f,Ya as m,Yb as te,Z as C,Zb as ie,ca as w,cb as Y,db as d,eb as E,ga as H,gb as j,ia as p,kb as J,mb as A,qa as r,y as O,za as g}from"./chunk-GI7T4GG4.js";var M=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["zz-layout-header"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","max-w-[1600px]","leading-8"],[1,"text-3xl","m-0","font-museo-moderno","leading-7","text-orange-600","dark:text-orange-500"]],template:function(e,n){e&1&&(a(0,"header")(1,"nav",0)(2,"h1",1),d(3,"CoLoRina"),i(),u(4,"zz-dark-mode-toggle"),i()())},dependencies:[ve],encapsulation:2})};var T=class t{collapse=H(!1,{alias:"zz-collapse-vertical"});static \u0275fac=function(e){return new(e||t)};static \u0275dir=P({type:t,selectors:[["","zz-collapse-vertical",""],["zzCollapseVertical"]],hostVars:4,hostBindings:function(e,n){e&2&&(R("height",n.collapse()?"0":"calc-size(auto, size)"),y("opacity-50",n.collapse()))},inputs:{collapse:[1,"zz-collapse-vertical","collapse"]},features:[$([fe,re,Ce])]})};var ye=(t,o,e)=>({"bg-gris-100/85":t,"dark:bg-gris-800/85":o,bold:e}),Ve=(t,o,e)=>({"bg-gris-100/50":t,"dark:bg-gris-700/45":o,"semi-bold":e}),_e=(t,o)=>o.name;function Me(t,o){if(t&1){let e=b();a(0,"li")(1,"span",4),h("click",function(){let s=f(e).$implicit,l=m(2);return C(l.variableSelected(s))}),d(2),i()()}if(t&2){let e=o.$implicit,n=m(2);r(),S(A(3,Ve,n.currentVariable().name===e.name,n.currentVariable().name===e.name,n.currentVariable().name===e.name)),r(),E(e.name)}}function De(t,o){if(t&1){let e=b();j(0),a(1,"li")(2,"div",1)(3,"span",2),h("click",function(){let s=f(e).$implicit,l=m();return C(l.modelSelected(s))}),d(4),i(),a(5,"ul",3),F(6,Me,3,7,"li",null,_e),i()()()}if(t&2){let e=o.$implicit,n=m().currentModel().name===e.name;r(2),c("zzBorderSize",n?"thin":"none"),r(),S(A(7,ye,n,n,n)),r(),E(e.name),r(),y("p-2",n),c("zz-collapse-vertical",!n),r(),I(e.components)}}var k=class t{models=ae;currentModel=p(le.oklch);currentVariable=p(this.currentModel().components[this.currentModel().defaultVariableIndex]);currentVariableIndex=p(this.currentModel().components.findIndex(o=>o.name===this.currentModel().components[this.currentModel().defaultVariableIndex].name));colorConfigChange=new w;ngOnInit(){let o=this.currentModel();this.colorConfigChange.emit({model:o,variable:o.components[o.defaultVariableIndex],variableIndex:o.components.findIndex(e=>e.name===o.components[o.defaultVariableIndex].name)})}modelSelected(o){this.currentModel.set(o),this.currentVariable.set(o.components[o.defaultVariableIndex]),this.currentVariableIndex.set(o.components.findIndex(e=>e.name===o.components[o.defaultVariableIndex].name)),this.colorConfigChange.emit({model:o,variable:o.components[o.defaultVariableIndex],variableIndex:o.components.findIndex(e=>e.name===o.components[o.defaultVariableIndex].name)})}variableSelected(o){this.currentVariable.set(o),this.currentVariableIndex.set(this.currentModel().components.findIndex(e=>e.name===o.name)),this.colorConfigChange.emit({model:this.currentModel(),variable:o,variableIndex:this.currentModel().components.findIndex(e=>e.name===o.name)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["zz-color-menu"]],outputs:{colorConfigChange:"colorConfigChange"},decls:3,vars:0,consts:[[1,"space-y-2","min-w-32"],["zz-container","",1,"rounded",2,"background-color","none !important",3,"zzBorderSize"],[1,"select-none","uppercase","text-lg","w-full","cursor-pointer","inline-block","transition-all","p-2","rounded","hover:bg-gris-100","dark:hover:bg-gris-800/95",3,"click"],[1,"space-y-1",3,"zz-collapse-vertical"],[1,"select-none","w-full","inline-block","cursor-pointer","transition-all","px-2","py-1","rounded","dark:hover:bg-gris-700/60",3,"click"]],template:function(e,n){e&1&&(a(0,"ul",0),F(1,De,8,11,"li",null,_e),i()),e&2&&(r(),I(n.models))},dependencies:[T,V],encapsulation:2})};function Te(t,o){if(t&1&&(a(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),d(5,"Height "),i(),u(6,"input",6),i(),a(7,"div",4)(8,"label",7),d(9," Steps "),i(),u(10,"input",8),i(),u(11,"zz-toggle-check",9)(12,"zz-toggle-check",10)(13,"zz-toggle-check",11),a(14,"div",4)(15,"label",12),d(16,"Values"),i(),u(17,"zz-select",13,0),i()()()()),t&2){let e=Y(18),n=m();c("formGroup",n.configGroup),r(),c("zzBorderSize","none"),r(5),c("zzDisabled",n.configGroup.controls.alto.disabled)("min",1)("max",180),r(4),c("zzDisabled",n.configGroup.controls.pasos.disabled)("min",2)("max",100),r(),c("before",!0),r(),c("before",!0),r(),c("before",!0),r(2),c("for",e),r(2),c("items",n.showValuesOptions)}}var N=class t{configGroup=void 0;axisConfigChange=new w;showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"}];ngOnInit(){this.configGroup=new q({alto:new x(100,{nonNullable:!0,validators:[z.min(1),z.max(180)]}),continuo:new x(!1,{nonNullable:!0}),pasos:new x(12,{nonNullable:!0,validators:[z.min(2),z.max(100)]}),automatico:new x(!0,{nonNullable:!0}),showValues:new x(this.showValuesOptions[0],{nonNullable:!0}),separate:new x(!1,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(O(30),L((o,e)=>JSON.stringify(o)===JSON.stringify(e)),B(this.configGroup.value)).subscribe(o=>{let e=this.configGroup?.controls;e&&this.configGroup?.valid&&this.axisConfigChange.emit({alto:o.alto??e.alto.value,continuo:o.continuo??e.continuo.value,pasos:o.pasos??e.pasos.value,automatico:o.automatico??e.automatico.value,showValues:o.showValues?.value??e.showValues.value.value,separate:o.separate??e.separate.value})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["zz-axis-advanced-config"]],outputs:{axisConfigChange:"axisConfigChange"},decls:1,vars:1,consts:[["showValues",""],[1,"h-fit","w-full","text-smaller",2,"line-height","0.9rem",3,"formGroup"],["zz-container","",1,"h-fit","w-full",2,"background-color","none !important",3,"zzBorderSize"],[1,"flex","flex-row","items-center","gap-4"],[1,"flex","flex-row","items-center","gap-2"],["for","alto"],["type","number","id","alto","zz-input","","formControlName","alto","value","10",3,"zzDisabled","min","max"],["for","pasos"],["type","number","id","pasos","zz-input","","formControlName","pasos","value","10",3,"zzDisabled","min","max"],["formControlName","automatico","label","Auto",3,"before"],["formControlName","continuo","label","Flat",3,"before"],["formControlName","separate","label","Separate",3,"before"],[3,"for"],["displayKey","text","formControlName","showValues",1,"w-20",3,"items"]],template:function(e,n){e&1&&v(0,Te,19,13,"form",1),e&2&&_(n.configGroup?0:-1)},dependencies:[te,Q,K,X,U,W,ne,oe,ie,Z,ee,V,ge,de,he],encapsulation:2})};var ke=()=>({alto:30,continuo:!0,pasos:60,automatico:!0,showValues:"no"});function Ne(t,o){if(t&1){let e=b();a(0,"zz-color-range-selector",6),h("colorChange",function(s){f(e);let l=m();return C(l.colorChange(s))})("rangeChange",function(s){f(e);let l=m();return C(l.rangeChange(s))}),i(),a(1,"zz-axis-advanced-config",7),h("axisConfigChange",function(s){f(e);let l=m();return C(l.configChanged(s))}),i(),u(2,"zz-color-axis",8)}if(t&2){let e=o,n=m();c("color-config",e)("axis-config",J(9,ke))("color-base",n.colorBase()),r(2),c("color-config",e)("axis-config",n.axisConfig())("color-base",n.currentColor())("showClamp",!0)("min",n.minmax()[0])("max",n.minmax()[1])}}function Se(t,o){if(t&1){let e=b();a(0,"zz-color-sample",9),h("newColor",function(s){f(e);let l=m();return C(l.onNewColor(s))}),i()}if(t&2){let e=m();c("height",220)("color-model",o.model)("current-color",e.currentColor())}}var ze=class t{colorConfig=p(void 0);axisConfig=p(void 0);colorBase=p([0,0,0]);minmax=p([0,0]);currentColor=p([0,0,0]);configChanged(o){this.axisConfig.set(o)}colorConfigChanged(o){let e=this.colorConfig()?.model.convert(this.currentColor()),n=o.model?.defaultValues()??[0,0,0];if(o.model.name===this.colorConfig()?.model.name&&(n=this.currentColor()),e)switch(o.model.name){case"hsl":n=me(e);break;case"oklch":n=pe(e);break;default:n=ce(e)}this.colorConfig.set(o),this.minmax.set(o.variable?[o.variable.min,o.variable.max]:[0,0]),this.colorBase.set(n),this.currentColor.set(n)}colorChange(o){this.currentColor.set(o)}rangeChange(o){this.minmax.set(o)}onNewColor(o){let e=this.getChannels(o);this.colorBase.set(e),this.currentColor.set(e)}getChannels(o){let e=this.colorConfig()?.model;if(!e||e.name==="rgb")return o;let n=new se(`rgb(${o[0]} ${o[1]} ${o[2]})`).to(e.name),s=this.ensureCoord(n.coords[0],e.components[0]),l=this.ensureCoord(n.coords[1],e.components[1]),we=this.ensureCoord(n.coords[2],e.components[2]);return[s,l,we]}ensureCoord(o,e){let n=Number.isNaN(o)?0:o;return Math.max(0,Math.min(e.max,n))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["zz-layout"]],decls:9,vars:2,consts:[[1,"flex","flex-row","items-top","justify-center","gap-8","pl-5","pr-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"min-w-36","py-2"],[3,"colorConfigChange"],[1,"min-w-32","w-full","pt-1","relative","flex","flex-col"],[1,"min-w-56","py-2","hidden","lg:block"],[1,"block",3,"height","color-model","current-color"],[3,"colorChange","rangeChange","color-config","axis-config","color-base"],[1,"pb-4",3,"axisConfigChange"],[1,"block",3,"color-config","axis-config","color-base","showClamp","min","max"],[1,"block",3,"newColor","height","color-model","current-color"]],template:function(e,n){if(e&1&&(a(0,"div"),u(1,"zz-layout-header"),i(),a(2,"main",0)(3,"div",1)(4,"zz-color-menu",2),h("colorConfigChange",function(l){return n.colorConfigChanged(l)}),i()(),a(5,"div",3),v(6,Ne,3,10),i(),a(7,"div",4),v(8,Se,1,3,"zz-color-sample",5),i()()),e&2){let s,l;r(6),_((s=n.colorConfig())?6:-1,s),r(2),_((l=n.colorConfig())?8:-1,l)}},dependencies:[M,k,be,xe,ue,N],styles:["[_nghost-%COMP%]{display:block;height:100vh;width:100vw}"]})};export{ze as LayoutComponent};
