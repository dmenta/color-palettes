import{A as lr,B as cr,C as eo,D as to,E as we,F as oe,f as or,g as nr,h as rr,m as ir,n as Qt,o as Ne,p as ot,q as ve,r as fe,s as ye,t as Q,u as xe,v as Ut,w as ar,x as sr,y as le,z as Fe}from"./chunk-KGPJ74US.js";import{$ as et,$a as N,Aa as _,B as Qe,Ca as M,Da as tt,Ea as X,Fa as P,H as Ue,Ka as Zt,La as g,M as Gn,Ma as E,N as pe,Na as I,Oa as Ie,Pa as V,Qa as be,Ra as Yn,Sa as U,T as z,Ta as ee,Ua as p,Va as d,Wa as S,Xa as W,Ya as Kt,Z as q,_ as Y,a as ae,ab as b,b as je,bb as Xn,c as Je,cb as Zn,da as Yt,db as Kn,eb as Jn,fb as x,ga as It,gb as Ce,ha as v,hb as De,ia as On,ib as Wn,ja as H,jb as ke,kb as Jt,lb as Wt,mb as Qn,nb as Un,ob as nn,pb as er,qb as tr,ra as f,ua as jn,va as Xt,wb as j,xa as qn,xb as de,y as We}from"./chunk-2DFNKYQG.js";var oo=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-display-base",""],["zzDisplayBase"]],hostVars:2,hostBindings:function(o,n){o&2&&Ie(n.tipo)}})},_e=class e extends oo{tipo="inline-block";static \u0275fac=(()=>{let t;return function(n){return(t||(t=et(e)))(n||e)}})();static \u0275dir=M({type:e,selectors:[["","zz-inline-block",""],["zzInlineBlock"]],features:[tt]})},nt=class e extends oo{tipo="block";static \u0275fac=(()=>{let t;return function(n){return(t||(t=et(e)))(n||e)}})();static \u0275dir=M({type:e,selectors:[["","zz-block",""],["zzBlock"]],features:[tt]})};var Te=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["span","zz-icon",""]],hostAttrs:[1,"font-icons","text-larger-5","min-w-8","w-8","h-10","content-center"],features:[X([_e])]})};var it=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-select-none",""],["zzSelectNone"]],hostAttrs:[1,"select-none"]})};var at=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-transition-default",""],["zzTransitionDefault"]],hostAttrs:[1,"transition-all"]})};var no=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-background-base",""],["zzBackgroundBase"]],hostVars:2,hostBindings:function(o,n){o&2&&Ie(n.varname)}})},ro=class e extends no{varname="bg-container";static \u0275fac=(()=>{let t;return function(n){return(t||(t=et(e)))(n||e)}})();static \u0275dir=M({type:e,selectors:[["","zz-container-background",""],["zzContainerBackground"]],features:[tt]})},io=class e extends no{varname="bg-button";static \u0275fac=(()=>{let t;return function(n){return(t||(t=et(e)))(n||e)}})();static \u0275dir=M({type:e,selectors:[["","zz-button-background",""],["zzButtonBackground"]],features:[tt]})};var la=.125,st=class e{radius=v("small",{alias:"zz-rounded",transform:t=>{let o=(t??"none").toLowerCase().trim();return o==="none"?"none":o==="normal"?"normal":o==="large"?"large":"small"}});get estilos(){let t=this.radius();if(t!=="none")return la*(t==="normal"?3:t==="small"?2:4)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-rounded",""],["zzRounded"]],hostAttrs:[1,"overflow-hidden"],hostVars:2,hostBindings:function(o,n){o&2&&E("border-radius",n.estilos,"rem")},inputs:{radius:[1,"zz-rounded","radius"]}})};var ao=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-button-hover",""],["zzButtonHover"]],hostAttrs:[1,"hover:bg-button-hover"]})};var so=class e{enabled=v(void 0,{alias:"show-focus-ring",transform:t=>t??!0});clases=j(()=>this.enabled()?`
          group-focus-within:ring-2 group-focus-within:ring-offset-0
          ring-gris-600/50 outline-none  
          dark:ring-gris-300/60
          focus:ring-2 focus:ring-offset-0
        `:"");static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-focus-ring",""],["zzFocusRing"]],hostVars:2,hostBindings:function(o,n){o&2&&Ie(n.clases())},inputs:{enabled:[1,"show-focus-ring","enabled"]}})};var Be=class e{state=v(!1,{alias:"zz-disabled"});get opacity(){return this.state()?"0.5":void 0}get cursor(){return this.state()?"not-allowed":void 0}get userSelect(){return this.state()?"none":void 0}get shadow(){return this.state()?"0 0 #0000":void 0}get isDisabled(){return this.state().toString()==="true"?"":void 0}static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-disabled",""],["zzDisabled"]],hostVars:9,hostBindings:function(o,n){o&2&&(Zt("disabled",n.isDisabled),E("opacity",n.opacity)("cursor",n.cursor)("user-select",n.userSelect)("shadow",n.shadow))},inputs:{state:[1,"zz-disabled","state"]}})};var lt=class e{onClick(t){t.preventDefault(),t.stopImmediatePropagation()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-button",""]],hostAttrs:[1,"appearance-none","active:not-disabled:scale-90","min-w-fit","mx-0.5","cursor-pointer"],hostBindings:function(o,n){o&1&&N("click",function(i){return n.onClick(i)})},features:[X([_e,it,at,io,{directive:st,inputs:["zz-rounded","roundedSize"]},ao,{directive:so,inputs:["show-focus-ring","focus-ring"]},{directive:Be,inputs:["zz-disabled","zzDisabled"]}])]})};var ct=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-icon-button",""]],features:[X([lt])]})};var da=["zz-icon-toggle-button",""],lo=class e{value=qn(!0);toggle=It();trueIcon=v("radio_button_checked",{transform:t=>t?.trim()||"radio_button_checked"});falseIcon=v("radio_button_unchecked",{transform:t=>t?.trim()||"radio_button_unchecked"});iconName=j(()=>this.value()?this.trueIcon():this.falseIcon());onClick(t){this.value.update(o=>!o),this.toggle.emit(this.value()),t.stopPropagation()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["button","zz-icon-toggle-button",""]],hostBindings:function(o,n){o&1&&N("click",function(i){return n.onClick(i)})},inputs:{value:[1,"value"],trueIcon:[1,"trueIcon"],falseIcon:[1,"falseIcon"]},outputs:{value:"valueChange",toggle:"toggle"},features:[X([ct])],attrs:da,decls:2,vars:1,consts:[["zz-icon",""]],template:function(o,n){o&1&&(p(0,"span",0),x(1),d()),o&2&&(f(),Ce(n.iconName()))},dependencies:[Te],encapsulation:2,changeDetection:0})};var Ee=class e{save(t,o){localStorage.setItem(t,JSON.stringify(o))}get(t){let o=localStorage.getItem(t);if(o)try{return JSON.parse(o)}catch(n){return console.error(`Error parsing value for ${t}:`,n),null}return null}delete(t){localStorage.removeItem(t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var co=class e{store=z(Ee);darkMode=H(this.store.get("darkMode")??this.darkModeSystem());setDarkMode(t){this.darkMode.set(t)}constructor(){de(()=>this.apply(this.darkMode()))}apply(t){this.store.save("darkMode",t),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.querySelector("meta[name='color-scheme']")?.setAttribute("content",t?"dark":"light")}darkModeSystem(){return window.matchMedia("(prefers-color-scheme: dark)").matches}static \u0275fac=function(o){return new(o||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var uo=class e{darkModeService=z(co);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-dark-mode-toggle"]],decls:1,vars:2,consts:[["zz-icon-toggle-button","","falseIcon","dark_mode","trueIcon","light_mode",1,"m-1",2,"background-color","transparent !important",3,"toggle","focus-ring","value"]],template:function(o,n){o&1&&(p(0,"button",0),N("toggle",function(i){return n.darkModeService.setDarkMode(i)}),d()),o&2&&g("focus-ring",!1)("value",n.darkModeService.darkMode())},dependencies:[lo],encapsulation:2,changeDetection:0})};var ut=class e{show=v(!0,{alias:"zz-shadow"});static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-shadow",""],["zzShadow"]],hostVars:4,hostBindings:function(o,n){o&2&&I("shadow-md/50",n.show())("shadow-black",n.show())},inputs:{show:[1,"zz-shadow","show"]}})};var qe=class e{colorModel=v(void 0,{alias:"color-model"});values=v(void 0);get background(){return this.bgColor()??"black"}bgColor=j(()=>{let t=this.colorModel();if(!t)return;let o=this.values()??[0,0,0];return t.convert([o[0],o[1],o[2]])});static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","color-swatch",""]],hostVars:2,hostBindings:function(o,n){o&2&&E("background-color",n.background)},inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"]}})},mo=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","color-swatch-panel",""]],features:[X([{directive:qe,inputs:["color-model","color-model","values","values"]},{directive:st,inputs:["zz-rounded","roundedSize"]},{directive:ut,inputs:["zz-shadow","shadow"]}])]})};var Nt=.001,re=class{constructor(t,o,n=1,r="",i=100,a=2,l){this.name=t;this.range=o;this.valueStep=n;this.unit=r;this.autoSteps=i;this.templateFn=l?.bind(this)||this.templateFn,n<1&&(this.precision=Math.ceil(Math.log10(1/n))),this.defaultValue=this.average(o),this.axisValues=this.calcAxisValues(o,a)}templateFn=this.template;defaultValue;axisValues;precision=0;convert(t){return this.templateFn(this.clampValue(t))}bestRange(t){let o=fr(this.range),n=t>o?this.range.max:t*2-this.range.min;return{min:t<o?this.range.min:t*2-this.range.max,max:n}}calcAxisValues(t,o){let n=(an(t)-2*this.valueStep)/(o-1);return Array.from({length:o},(r,i)=>this.valueStep+t.min+i*n)}template(t){return`${or(t,"en-US",`1.0-${this.precision}`)}${this.unit}`}average(t){let o=fr(t);return Number.parseFloat(o.toFixed(this.precision))}clampValue(t){return t===void 0?this.defaultValue:Math.max(this.range.min,Math.min(this.range.max,t))}},Ye=class{constructor(t,o,n=0,r){this.name=t;this.components=o;this.defaultVariableIndex=n;this.templateFn=r?.bind(this)||this.templateFn}templateFn=this.template;template(t){return`${this.name}(${t[0]} ${t[1]} ${t[2]})`}defaultValues(){return[this.components[0].defaultValue,this.components[1].defaultValue,this.components[2].defaultValue]}convert(t){return this.templateFn([this.components[0].convert(t[0]),this.components[1].convert(t[1]),this.components[2].convert(t[2])])}displayValues(t){return this.components.map((o,n)=>({label:o.name.label,value:o.convert(t[n])}))}};function an(e){return e.max-e.min}function fr(e){return(e.max+e.min)/2}function hr(e,t){return!(e.colorModelName!==t.colorModelName||e.variable.name.caption!==t.variable.name.caption||e.variable.name.label!==t.variable.name.label||!po(e.color,t.color)||Math.abs(e.range.min-t.range.min)>=Nt||Math.abs(e.range.max-t.range.max)>=Nt)}function po(e,t){return Math.abs(e[0]-t[0])<Nt&&Math.abs(e[1]-t[1])<Nt&&Math.abs(e[2]-t[2])<Nt}var mt=[new Ye("oklch",[new re({caption:"Lightness",label:"L"},{min:0,max:1},.005,"",35),new re({caption:"Chroma",label:"C"},{min:0,max:.44},.004,"",20),new re({caption:"Hue",label:"H"},{min:-180,max:540},1,"",55,9)]),new Ye("hsl",[new re({caption:"Hue",label:"H"},{min:-180,max:540},1,"deg",55,9),new re({caption:"Saturation",label:"S"},{min:0,max:100},1,"%",20),new re({caption:"Lightness",label:"L"},{min:0,max:100},1,"%",35)],2),new Ye("rgb",[new re({caption:"Red",label:"R"},{min:0,max:255},1,"",25),new re({caption:"Green",label:"G"},{min:0,max:255},1,"",25),new re({caption:"Blue",label:"B"},{min:0,max:255},1,"",25)]),new Ye("hex",[new re({caption:"Red",label:"R"},{min:0,max:255},1,"",25,2,e=>Math.round(e).toString(16).padStart(2,"0").toUpperCase()),new re({caption:"Green",label:"G"},{min:0,max:255},1,"",25,2,e=>Math.round(e).toString(16).padStart(2,"0").toUpperCase()),new re({caption:"Blue",label:"B"},{min:0,max:255},1,"",25,2,e=>Math.round(e).toString(16).padStart(2,"0").toUpperCase())],0,e=>`#${e[0]}${e[1]}${e[2]}`)],he={oklch:mt[0],hsl:mt[1],rgb:mt[2],hex:mt[3]};function ha(e,t){if(e&1&&S(0,"div",2),e&2){let o=t.$implicit,n=b(2);g("color-model",n.colorModel())("values",o.valores)}}function ga(e,t){e&1&&(p(0,"div",1),U(1,ha,1,2,"div",2,be),d()),e&2&&(E("height",24,"px"),f(),ee(t.swatches))}var fo=class e{palette=v(void 0);colorModel=j(()=>{let t=this.palette()?.model;if(t)return he[t]});static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-mini-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"height"],[1,"flex","flex-row","justify-between"],["color-swatch","",1,"axis-swatch",3,"color-model","values"]],template:function(o,n){if(o&1&&P(0,ga,3,2,"div",0),o&2){let r;V((r=n.palette())?0:-1,r)}},dependencies:[qe],encapsulation:2,changeDetection:0})};function ba(e,t){if(e&1){let o=W();p(0,"div",1)(1,"span",2),x(2),d(),p(3,"zz-mini-palette",3),N("click",function(){let r=q(o).$implicit,i=b();return Y(i.paletteClick(r))}),d(),p(4,"button",4),N("click",function(r){let i=q(o).$index,a=b();return Y(a.removePalette(r,i))}),p(5,"span",5),x(6,"close"),d()()()}if(e&2){let o=t.$implicit,n=t.$index;f(2),Ce(n+1),f(),g("palette",o.palette)}}var ho=class e{palettes=v([]);paletteSelected=It();paletteRemoved=It();paletteClick(t){this.paletteSelected.emit(t)}removePalette(t,o){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),this.paletteRemoved.emit(o)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palette-list"]],inputs:{palettes:[1,"palettes"]},outputs:{paletteSelected:"paletteSelected",paletteRemoved:"paletteRemoved"},decls:3,vars:0,consts:[[1,"h-fit","select-none"],[1,"last:pb-3","first:pt-3","transition-colors","duration-200","ease-in-out","flex","items-center","gap-2","group","hover:bg-gris-100/50","dark:hover:bg-gris-900/70","px-2","py-1.5"],[1,"transition-opacity","duration-200","ease-in-out","text-smaller-2","group-hover:opacity-100","opacity-85","block","w-3","text-right"],[1,"block","w-full","cursor-pointer","rounded","overflow-hidden",3,"click","palette"],["title","Remove palette",1,"transition-opacity","duration-200","ease-in-out","cursor-pointer","group-hover:opacity-100","opacity-75","flex","items-center","justify-center","rounded-full",3,"click"],[1,"font-icons","icon-bold","text-larger","-ml-1"]],template:function(o,n){o&1&&(p(0,"div",0),U(1,ba,7,2,"div",1,be),d()),o&2&&(f(),ee(n.palettes()))},dependencies:[fo],encapsulation:2,changeDetection:0})};var Le=class e{showNotification=H(!1);notificationMessage=H({type:"success",message:""});lastTimeoutId=void 0;abort=void 0;success(t){this.notificationMessage.set({type:"success",message:t??""}),this.setNotification(!0)}warn(t){this.notificationMessage.set({type:"warn",message:t??""}),this.setNotification(!0)}setNotification(t){if(this.showNotification.set(t),this.abort?.abort(),this.showNotification()){this.abort=new AbortController;let o=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:o,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:o,capture:!0}),this.setHideTimeout()}else this.clearHideTimeout()}setHideTimeout(){this.clearHideTimeout(),this.lastTimeoutId=window.setTimeout(()=>{this.setNotification(!1)},1500)}clearHideTimeout(){this.lastTimeoutId&&(clearTimeout(this.lastTimeoutId),this.lastTimeoutId=void 0)}onKeyDown(t){t.key==="Escape"&&this.setNotification(!1)}onClick(t){this.setNotification(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})};function sn(e,t){return!(!va(e.palette,t.palette)||!Ca(e.state,t.state))}function Ca(e,t){return!(!hr(e.colorConfig,t.colorConfig)||!wa(e.stepsConfig,t.stepsConfig))}function va(e,t){return!(e.model!==t.model||!ya(e.swatches,t.swatches))}function ya(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!xa(e[o],t[o]))return!1;return!0}function xa(e,t){return!(!e||!t||!po(e.valores,t.valores)||!po(e.rgbValues,t.rgbValues)||e.clamp!==t.clamp)}function wa(e,t){return e.steps===t.steps&&e.automatic===t.automatic}var Re=class e{store=z(Ee);notificationService=z(Le);saved=H(this.store.get("saved-palettes")??[]);lockedPalette=H(this.store.get("locked-palette")??void 0);lock(t){let o=this.lockedPalette();if(o&&sn(o,t)){this.notificationService.warn("Already locked!");return}this.store.save("locked-palette",t),this.lockedPalette.set(t),this.notificationService.success("Palette locked!")}unlock(){this.store.delete("locked-palette"),this.lockedPalette.set(void 0)}remove(t){this.saved.update(o=>{let n=[...o];return n.splice(t,1),n}),this.store.save("saved-palettes",this.saved())}save(t){let o=this.saved().findIndex(n=>sn(n,t));if(o>=0){this.notificationService.warn(`Already saved at #${o+1}`);return}this.saved.update(n=>[t,...n].slice(0,10)),this.store.save("saved-palettes",this.saved()),this.notificationService.success("Palette saved!")}static \u0275fac=function(o){return new(o||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})};function A(e,t){let o=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(a=>[a]));let n=t[0].length,r=t[0].map((a,l)=>t.map(s=>s[l])),i=e.map(a=>r.map(l=>{let s=0;if(!Array.isArray(a)){for(let c of l)s+=a*c;return s}for(let c=0;c<a.length;c++)s+=a[c]*(l[c]||0);return s}));return o===1&&(i=i[0]),n===1?i.map(a=>a[0]):i}function Rt(e){return Ae(e)==="string"}function Ae(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function So(e,{precision:t,unit:o}){return $e(e)?"none":di(e,t)+(o??"")}function $e(e){return Number.isNaN(e)||e instanceof Number&&e?.none}function Z(e){return $e(e)?0:e}function di(e,t){if(e===0)return 0;let o=~~e,n=0;o&&t&&(n=~~Math.log10(Math.abs(o))+1);let r=10**(t-n);return Math.floor(e*r+.5)/r}var _a={deg:1,grad:.9,rad:180/Math.PI,turn:360};function fi(e){if(!e)return;e=e.trim();let t=/^([a-z]+)\((.+?)\)$/i,o=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,r=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,i=e.match(t);if(i){let a=[];return i[2].replace(r,(l,s)=>{let c=s.match(n),m=s;if(c){let u=c[0],h=m.slice(0,-u.length);u==="%"?(m=new Number(h/100),m.type="<percentage>"):(m=new Number(h*_a[u]),m.type="<angle>",m.unit=u)}else o.test(m)?(m=new Number(m),m.type="<number>"):m==="none"&&(m=new Number(NaN),m.none=!0);l.startsWith("/")&&(m=m instanceof Number?m:new Number(m),m.alpha=!0),typeof m=="object"&&m instanceof Number&&(m.raw=s),a.push(m)}),{name:i[1].toLowerCase(),rawName:i[1],rawArgs:i[2],args:a}}}function hi(e){return e[e.length-1]}function Bt(e,t,o){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*o}function gi(e,t,o){return(o-e)/(t-e)}function Dn(e,t,o){return Bt(t[0],t[1],gi(e[0],e[1],o))}function bi(e){return e.map(t=>t.split("|").map(o=>{o=o.trim();let n=o.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let r=new String(n[1]);return r.range=[+n[2],+n[3]],r}return o}))}function Ci(e,t,o){return Math.max(Math.min(o,t),e)}function Vo(e,t){return Math.sign(e)===Math.sign(t)?e:-e}function Me(e,t){return Vo(Math.abs(e)**t,e)}function kn(e,t){return t===0?0:e/t}function vi(e,t,o=0,n=e.length){for(;o<n;){let r=o+n>>1;e[r]<t?o=r+1:n=r}return o}var Ma=Object.freeze({__proto__:null,bisectLeft:vi,clamp:Ci,copySign:Vo,interpolate:Bt,interpolateInv:gi,isNone:$e,isString:Rt,last:hi,mapRange:Dn,multiplyMatrices:A,parseCoordGrammar:bi,parseFunction:fi,serializeNumber:So,skipNone:Z,spow:Me,toPrecision:di,type:Ae,zdiv:kn}),Cn=class{add(t,o,n){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(r){this[r]=this[r]||[],o&&this[r][n?"unshift":"push"](o)},this)}run(t,o){this[t]=this[t]||[],this[t].forEach(function(n){n.call(o&&o.context?o.context:o,o)})}},He=new Cn,me={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(t){this.verbose&&globalThis?.console?.warn?.(t)}},ie={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function vn(e){return Array.isArray(e)?e:ie[e]}function zo(e,t,o,n={}){if(e=vn(e),t=vn(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${!e&&!t?"/":""}${t?"":"to"}`);if(e===t)return o;let r={W1:e,W2:t,XYZ:o,options:n};if(He.run("chromatic-adaptation-start",r),r.M||(r.W1===ie.D65&&r.W2===ie.D50?r.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:r.W1===ie.D50&&r.W2===ie.D65&&(r.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),He.run("chromatic-adaptation-end",r),r.M)return A(r.M,r.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var Sa=new Set(["<number>","<percentage>","<angle>"]);function gr(e,t,o,n){return Object.entries(e.coords).map(([i,a],l)=>{let s=t.coordGrammar[l],c=n[l],m=c?.type,u;if(c.none?u=s.find(C=>Sa.has(C)):u=s.find(C=>C==m),!u){let C=a.name||i;throw new TypeError(`${m??c.raw} not allowed for ${C} in ${o}()`)}let h=u.range;m==="<percentage>"&&(h||=[0,1]);let D=a.range||a.refRange;return h&&D&&(n[l]=Dn(h,D,n[l])),u})}function yi(e,{meta:t}={}){let o={str:String(e)?.trim()};if(He.run("parse-start",o),o.color)return o.color;if(o.parsed=fi(o.str),o.parsed){let n=o.parsed.name;if(n==="color"){let r=o.parsed.args.shift(),i=r.startsWith("--")?r.substring(2):`--${r}`,a=[r,i],l=o.parsed.rawArgs.indexOf("/")>0?o.parsed.args.pop():1;for(let m of y.all){let u=m.getFormat("color");if(u&&(a.includes(u.id)||u.ids?.filter(h=>a.includes(h)).length)){let h=Object.keys(m.coords).map((C,F)=>o.parsed.args[F]||0),D;return u.coordGrammar&&(D=gr(m,u,"color",h)),t&&Object.assign(t,{formatId:"color",types:D}),u.id.startsWith("--")&&!r.startsWith("--")&&me.warn(`${m.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${u.id}) instead of color(${r}).`),r.startsWith("--")&&!u.id.startsWith("--")&&me.warn(`${m.name} is a standard space and supported in the CSS spec. Use color(${u.id}) instead of prefixed color(${r}).`),{spaceId:m.id,coords:h,alpha:l}}}let s="",c=r in y.registry?r:i;if(c in y.registry){let m=y.registry[c].formats?.color?.id;m&&(s=`Did you mean color(${m})?`)}throw new TypeError(`Cannot parse color(${r}). `+(s||"Missing a plugin?"))}else for(let r of y.all){let i=r.getFormat(n);if(i&&i.type==="function"){let a=1;(i.lastAlpha||hi(o.parsed.args).alpha)&&(a=o.parsed.args.pop());let l=o.parsed.args,s;return i.coordGrammar&&(s=gr(r,i,n,l)),t&&Object.assign(t,{formatId:i.name,types:s}),{spaceId:r.id,coords:l,alpha:a}}}}else for(let n of y.all)for(let r in n.formats){let i=n.formats[r];if(i.type!=="custom"||i.test&&!i.test(o.str))continue;let a=i.parse(o.str);if(a)return a.alpha??=1,t&&(t.formatId=r),a}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function k(e){if(Array.isArray(e))return e.map(k);if(!e)throw new TypeError("Empty color reference");Rt(e)&&(e=yi(e));let t=e.space||e.spaceId;return t instanceof y||(e.space=y.get(t)),e.alpha===void 0&&(e.alpha=1),e}var za=75e-6,y=(()=>{class e{constructor(o){this.id=o.id,this.name=o.name,this.base=o.base?e.get(o.base):null,this.aliases=o.aliases,this.base&&(this.fromBase=o.fromBase,this.toBase=o.toBase);let n=o.coords??this.base.coords;for(let i in n)"name"in n[i]||(n[i].name=i);this.coords=n;let r=o.white??this.base.white??"D65";this.white=vn(r),this.formats=o.formats??{};for(let i in this.formats){let a=this.formats[i];a.type||="function",a.name||=i}this.formats.color?.id||(this.formats.color=je(ae({},this.formats.color??{}),{id:o.cssId||this.id})),o.gamutSpace?this.gamutSpace=o.gamutSpace==="self"?this:e.get(o.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(i,a)=>!0),this.referred=o.referred,Object.defineProperty(this,"path",{value:Da(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),He.run("colorspace-init-end",this)}inGamut(o,{epsilon:n=za}={}){if(!this.equals(this.gamutSpace))return o=this.to(this.gamutSpace,o),this.gamutSpace.inGamut(o,{epsilon:n});let r=Object.values(this.coords);return o.every((i,a)=>{let l=r[a];if(l.type!=="angle"&&l.range){if(Number.isNaN(i))return!0;let[s,c]=l.range;return(s===void 0||i>=s-n)&&(c===void 0||i<=c+n)}return!0})}get isUnbounded(){return Object.values(this.coords).every(o=>!("range"in o))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let o in this.coords)if(this.coords[o].type==="angle")return!0;return!1}getFormat(o){if(typeof o=="object")return o=br(o,this),o;let n;return o==="default"?n=Object.values(this.formats)[0]:n=this.formats[o],n?(n=br(n,this),n):null}equals(o){return o?this===o||this.id===o||this.id===o.id:!1}to(o,n){if(arguments.length===1){let s=k(o);[o,n]=[s.space,s.coords]}if(o=e.get(o),this.equals(o))return n;n=n.map(s=>Number.isNaN(s)?0:s);let r=this.path,i=o.path,a,l;for(let s=0;s<r.length&&r[s].equals(i[s]);s++)a=r[s],l=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${o}: no connection space was found`);for(let s=r.length-1;s>l;s--)n=r[s].toBase(n);for(let s=l+1;s<i.length;s++)n=i[s].fromBase(n);return n}from(o,n){if(arguments.length===1){let r=k(o);[o,n]=[r.space,r.coords]}return o=e.get(o),o.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let o=[];for(let n in this.coords){let r=this.coords[n],i=r.range||r.refRange;o.push(i?.min??0)}return o}static registry={};static get all(){return[...new Set(Object.values(e.registry))]}static register(o,n){if(arguments.length===1&&(n=arguments[0],o=n.id),n=this.get(n),this.registry[o]&&this.registry[o]!==n)throw new Error(`Duplicate color space registration: '${o}'`);if(this.registry[o]=n,arguments.length===1&&n.aliases)for(let r of n.aliases)this.register(r,n);return n}static get(o,...n){if(!o||o instanceof e)return o;if(Ae(o)==="string"){let i=e.registry[o.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${o}"`);return i}if(n.length)return e.get(...n);throw new TypeError(`${o} is not a valid color space`)}static resolveCoord(o,n){let r=Ae(o),i,a;if(r==="string"?o.includes(".")?[i,a]=o.split("."):[i,a]=[,o]:Array.isArray(o)?[i,a]=o:(i=o.space,a=o.coordId),i=e.get(i),i||(i=n),!i)throw new TypeError(`Cannot resolve coordinate reference ${o}: No color space specified and relative references are not allowed here`);if(r=Ae(a),r==="number"||r==="string"&&a>=0){let c=Object.entries(i.coords)[a];if(c)return ae({space:i,id:c[0],index:a},c[1])}i=e.get(i);let l=a.toLowerCase(),s=0;for(let c in i.coords){let m=i.coords[c];if(c.toLowerCase()===l||m.name?.toLowerCase()===l)return ae({space:i,id:c,index:s},m);s++}throw new TypeError(`No "${a}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}return e})();function Da(e){let t=[e];for(let o=e;o=o.base;)t.push(o);return t}function br(e,{coords:t}={}){if(e.coords&&!e.coordGrammar){e.type||="function",e.name||="color",e.coordGrammar=bi(e.coords);let o=Object.entries(t).map(([n,r],i)=>{let a=e.coordGrammar[i][0],l=r.range||r.refRange,s=a.range,c="";return a=="<percentage>"?(s=[0,100],c="%"):a=="<angle>"&&(c="deg"),{fromRange:l,toRange:s,suffix:c}});e.serializeCoords=(n,r)=>n.map((i,a)=>{let{fromRange:l,toRange:s,suffix:c}=o[a];return l&&s&&(i=Dn(l,s,i)),i=So(i,{precision:r,unit:c}),i})}return e}var te=new y({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),ne=class extends y{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=te),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=o=>{let n=A(t.toXYZ_M,o);return this.white!==this.base.white&&(n=zo(this.white,this.base.white,n)),n},t.fromBase??=o=>(o=zo(this.base.white,this.white,o),A(t.fromXYZ_M,o))),t.referred??="display",super(t)}};function At(e,t){return e=k(e),!t||e.space.equals(t)?e.coords.slice():(t=y.get(t),t.from(e))}function ce(e,t){e=k(e);let{space:o,index:n}=y.resolveCoord(t,e.space);return At(e,o)[n]}function Vn(e,t,o){return e=k(e),t=y.get(t),e.coords=t.to(e.space,o),e}Vn.returns="color";function Ve(e,t,o){if(e=k(e),arguments.length===2&&Ae(arguments[1])==="object"){let n=arguments[1];for(let r in n)Ve(e,r,n[r])}else{typeof o=="function"&&(o=o(ce(e,t)));let{space:n,index:r}=y.resolveCoord(t,e.space),i=At(e,n);i[r]=o,Vn(e,n,i)}return e}Ve.returns="color";var Pn=new y({id:"xyz-d50",name:"XYZ D50",white:"D50",base:te,fromBase:e=>zo(te.white,"D50",e),toBase:e=>zo("D50",te.white,e)}),ka=216/24389,Cr=24/116,go=24389/27,ln=ie.D50,ue=new y({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:ln,base:Pn,fromBase(e){let o=e.map((n,r)=>n/ln[r]).map(n=>n>ka?Math.cbrt(n):(go*n+16)/116);return[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>Cr?Math.pow(t[0],3):(116*t[0]-16)/go,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/go,t[2]>Cr?Math.pow(t[2],3):(116*t[2]-16)/go].map((n,r)=>n*ln[r])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Se(e){return(e%360+360)%360}function Va(e,t){if(e==="raw")return t;let[o,n]=t.map(Se),r=n-o;return e==="increasing"?r<0&&(n+=360):e==="decreasing"?r>0&&(o+=360):e==="longer"?-180<r&&r<180&&(r>0?o+=360:n+=360):e==="shorter"&&(r>180?o+=360:r<-180&&(n+=360)),[o,n]}var Et=new y({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:ue,fromBase(e){let[t,o,n]=e,r,i=.02;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),Se(r)]},toBase(e){let[t,o,n]=e;return o<0&&(o=0),isNaN(n)&&(n=0),[t,o*Math.cos(n*Math.PI/180),o*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),vr=25**7,Do=Math.PI,yr=180/Do,pt=Do/180;function xr(e){let t=e*e;return t*t*t*e}function xi(e,t,{kL:o=1,kC:n=1,kH:r=1}={}){[e,t]=k([e,t]);let[i,a,l]=ue.from(e),s=Et.from(ue,[i,a,l])[1],[c,m,u]=ue.from(t),h=Et.from(ue,[c,m,u])[1];s<0&&(s=0),h<0&&(h=0);let D=(s+h)/2,C=xr(D),F=.5*(1-Math.sqrt(C/(C+vr))),T=(1+F)*a,G=(1+F)*m,B=Math.sqrt(T**2+l**2),O=Math.sqrt(G**2+u**2),se=T===0&&l===0?0:Math.atan2(l,T),Pe=G===0&&u===0?0:Math.atan2(u,G);se<0&&(se+=2*Do),Pe<0&&(Pe+=2*Do),se*=yr,Pe*=yr;let Ot=c-i,jt=O-B,ge=Pe-se,kt=se+Pe,En=Math.abs(ge),Vt;B*O===0?Vt=0:En<=180?Vt=ge:ge>180?Vt=ge-360:ge<-180?Vt=ge+360:me.warn("the unthinkable has happened");let Ln=2*Math.sqrt(O*B)*Math.sin(Vt*pt/2),na=(i+c)/2,on=(B+O)/2,Rn=xr(on),ze;B*O===0?ze=kt:En<=180?ze=kt/2:kt<360?ze=(kt+360)/2:ze=(kt-360)/2;let An=(na-50)**2,ra=1+.015*An/Math.sqrt(20+An),$n=1+.045*on,Pt=1;Pt-=.17*Math.cos((ze-30)*pt),Pt+=.24*Math.cos(2*ze*pt),Pt+=.32*Math.cos((3*ze+6)*pt),Pt-=.2*Math.cos((4*ze-63)*pt);let Hn=1+.015*on*Pt,ia=30*Math.exp(-1*((ze-275)/25)**2),aa=2*Math.sqrt(Rn/(Rn+vr)),sa=-1*Math.sin(2*ia*pt)*aa,qt=(Ot/(o*ra))**2;return qt+=(jt/(n*$n))**2,qt+=(Ln/(r*Hn))**2,qt+=sa*(jt/(n*$n))*(Ln/(r*Hn)),Math.sqrt(qt)}var Pa=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Ia=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Na=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Fa=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],gt=new y({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:te,fromBase(e){let o=A(Pa,e).map(n=>Math.cbrt(n));return A(Na,o)},toBase(e){let o=A(Fa,e).map(n=>n**3);return A(Ia,o)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function yn(e,t){[e,t]=k([e,t]);let[o,n,r]=gt.from(e),[i,a,l]=gt.from(t),s=o-i,c=n-a,m=r-l;return Math.sqrt(s**2+c**2+m**2)}var Ta=75e-6;function Ze(e,t,{epsilon:o=Ta}={}){e=k(e),t||(t=e.space),t=y.get(t);let n=e.coords;return t!==e.space&&(n=t.from(e)),t.inGamut(n,{epsilon:o})}function bt(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function wi(e,t,o="lab"){o=y.get(o);let n=o.from(e),r=o.from(t);return Math.sqrt(n.reduce((i,a,l)=>{let s=r[l];return isNaN(a)||isNaN(s)?i:i+(s-a)**2},0))}function Ba(e,t){return wi(e,t,"lab")}var Ea=Math.PI,wr=Ea/180;function La(e,t,{l:o=2,c:n=1}={}){[e,t]=k([e,t]);let[r,i,a]=ue.from(e),[,l,s]=Et.from(ue,[r,i,a]),[c,m,u]=ue.from(t),h=Et.from(ue,[c,m,u])[1];l<0&&(l=0),h<0&&(h=0);let D=r-c,C=l-h,F=i-m,T=a-u,G=F**2+T**2-C**2,B=.511;r>=16&&(B=.040975*r/(1+.01765*r));let O=.0638*l/(1+.0131*l)+.638,se;Number.isNaN(s)&&(s=0),s>=164&&s<=345?se=.56+Math.abs(.2*Math.cos((s+168)*wr)):se=.36+Math.abs(.4*Math.cos((s+35)*wr));let Pe=Math.pow(l,4),Ot=Math.sqrt(Pe/(Pe+1900)),jt=O*(Ot*se+1-Ot),ge=(D/(o*B))**2;return ge+=(C/(n*O))**2,ge+=G/jt**2,Math.sqrt(ge)}var _r=203,In=new y({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:te,fromBase(e){return e.map(t=>Math.max(t*_r,0))},toBase(e){return e.map(t=>Math.max(t/_r,0))}}),bo=1.15,Co=.66,Mr=2610/2**14,Ra=2**14/2610,Sr=3424/2**12,zr=2413/2**7,Dr=2392/2**7,Aa=1.7*2523/2**5,kr=2**5/(1.7*2523),vo=-.56,cn=16295499532821565e-27,$a=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Ha=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Ga=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Oa=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],_i=new y({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:In,fromBase(e){let[t,o,n]=e,r=bo*t-(bo-1)*n,i=Co*o-(Co-1)*t,l=A($a,[r,i,n]).map(function(h){let D=Sr+zr*(h/1e4)**Mr,C=1+Dr*(h/1e4)**Mr;return(D/C)**Aa}),[s,c,m]=A(Ga,l);return[(1+vo)*s/(1+vo*s)-cn,c,m]},toBase(e){let[t,o,n]=e,r=(t+cn)/(1+vo-vo*(t+cn)),a=A(Oa,[r,o,n]).map(function(h){let D=Sr-h**kr,C=Dr*h**kr-zr;return 1e4*(D/C)**Ra}),[l,s,c]=A(Ha,a),m=(l+(bo-1)*c)/bo,u=(s+(Co-1)*m)/Co;return[m,u,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),xn=new y({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:_i,fromBase(e){let[t,o,n]=e,r,i=2e-4;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),Se(r)]},toBase(e){return[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)]}});function ja(e,t){[e,t]=k([e,t]);let[o,n,r]=xn.from(e),[i,a,l]=xn.from(t),s=o-i,c=n-a;Number.isNaN(r)&&Number.isNaN(l)?(r=0,l=0):Number.isNaN(r)?r=l:Number.isNaN(l)&&(l=r);let m=r-l,u=2*Math.sqrt(n*a)*Math.sin(m/2*(Math.PI/180));return Math.sqrt(s**2+c**2+u**2)}var Mi=3424/4096,Si=2413/128,zi=2392/128,Vr=2610/16384,qa=2523/32,Ya=16384/2610,Pr=32/2523,Xa=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Za=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Ka=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Ja=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],wn=new y({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:In,fromBase(e){let t=A(Xa,e);return Wa(t)},toBase(e){let t=Qa(e);return A(Ja,t)}});function Wa(e){let t=e.map(function(o){let n=Mi+Si*(o/1e4)**Vr,r=1+zi*(o/1e4)**Vr;return(n/r)**qa});return A(Za,t)}function Qa(e){return A(Ka,e).map(function(n){let r=Math.max(n**Pr-Mi,0),i=Si-zi*n**Pr;return 1e4*(r/i)**Ya})}function Ua(e,t){[e,t]=k([e,t]);let[o,n,r]=wn.from(e),[i,a,l]=wn.from(t);return 720*Math.sqrt((o-i)**2+.25*(n-a)**2+(r-l)**2)}var es=ie.D65,Di=.42,Ir=1/Di,un=2*Math.PI,ki=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],ts=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],os=[[460,451,288],[460,-891,-261],[460,-220,-6300]],ns={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Xe={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},rs=180/Math.PI,Nr=Math.PI/180;function Vi(e,t){return e.map(n=>{let r=Me(t*Math.abs(n)*.01,Di);return 400*Vo(r,n)/(r+27.13)})}function is(e,t){let o=100/t*27.13**Ir;return e.map(n=>{let r=Math.abs(n);return Vo(o*Me(r/(400-r),Ir),n)})}function as(e){let t=Se(e);t<=Xe.h[0]&&(t+=360);let o=vi(Xe.h,t)-1,[n,r]=Xe.h.slice(o,o+2),[i,a]=Xe.e.slice(o,o+2),l=Xe.H[o],s=(t-n)/i;return l+100*s/(s+(r-t)/a)}function ss(e){let t=(e%400+400)%400,o=Math.floor(.01*t);t=t%100;let[n,r]=Xe.h.slice(o,o+2),[i,a]=Xe.e.slice(o,o+2);return Se((t*(a*n-i*r)-100*n*a)/(t*(a-i)-100*a))}function Pi(e,t,o,n,r){let i={};i.discounting=r,i.refWhite=e,i.surround=n;let a=e.map(F=>F*100);i.la=t,i.yb=o;let l=a[1],s=A(ki,a);n=ns[i.surround];let c=n[0];i.c=n[1],i.nc=n[2];let u=(1/(5*i.la+1))**4;i.fl=u*i.la+.1*(1-u)*(1-u)*Math.cbrt(5*i.la),i.flRoot=i.fl**.25,i.n=i.yb/l,i.z=1.48+Math.sqrt(i.n),i.nbb=.725*i.n**-.2,i.ncb=i.nbb;let h=r?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-i.la-42)/92)),1),0);i.dRgb=s.map(F=>Bt(1,l/F,h)),i.dRgbInv=i.dRgb.map(F=>1/F);let D=s.map((F,T)=>F*i.dRgb[T]),C=Vi(D,i.fl);return i.aW=i.nbb*(2*C[0]+C[1]+.05*C[2]),i}var Fr=Pi(es,64/Math.PI*.2,20,"average",!1);function _n(e,t){if(!(e.J!==void 0^e.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(e.C!==void 0^e.M!==void 0^e.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(e.h!==void 0^e.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(e.J===0||e.Q===0)return[0,0,0];let o=0;e.h!==void 0?o=Se(e.h)*Nr:o=ss(e.H)*Nr;let n=Math.cos(o),r=Math.sin(o),i=0;e.J!==void 0?i=Me(e.J,1/2)*.1:e.Q!==void 0&&(i=.25*t.c*e.Q/((t.aW+4)*t.flRoot));let a=0;e.C!==void 0?a=e.C/i:e.M!==void 0?a=e.M/t.flRoot/i:e.s!==void 0&&(a=4e-4*e.s**2*(t.aW+4)/t.c);let l=Me(a*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),s=.25*(Math.cos(o+2)+3.8),c=t.aW*Me(i,2/t.c/t.z),m=5e4/13*t.nc*t.ncb*s,u=c/t.nbb,h=23*(u+.305)*kn(l,23*m+l*(11*n+108*r)),D=h*n,C=h*r,F=is(A(os,[u,D,C]).map(T=>T*1/1403),t.fl);return A(ts,F.map((T,G)=>T*t.dRgbInv[G])).map(T=>T/100)}function Ii(e,t){let o=e.map(O=>O*100),n=Vi(A(ki,o).map((O,se)=>O*t.dRgb[se]),t.fl),r=n[0]+(-12*n[1]+n[2])/11,i=(n[0]+n[1]-2*n[2])/9,a=(Math.atan2(i,r)%un+un)%un,l=.25*(Math.cos(a+2)+3.8),s=5e4/13*t.nc*t.ncb*kn(l*Math.sqrt(r**2+i**2),n[0]+n[1]+1.05*n[2]+.305),c=Me(s,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),m=t.nbb*(2*n[0]+n[1]+.05*n[2]),u=Me(m/t.aW,.5*t.c*t.z),h=100*Me(u,2),D=4/t.c*u*(t.aW+4)*t.flRoot,C=c*u,F=C*t.flRoot,T=Se(a*rs),G=as(T),B=50*Me(t.c*c/(t.aW+4),1/2);return{J:h,C,h:T,s:B,Q:D,M:F,H:G}}var ls=new y({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:te,fromBase(e){let t=Ii(e,Fr);return[t.J,t.M,t.h]},toBase(e){return _n({J:e[0],M:e[1],h:e[2]},Fr)}}),cs=ie.D65,us=216/24389,Ni=24389/27;function ms(e){return 116*(e>us?Math.cbrt(e):(Ni*e+16)/116)-16}function Mn(e){return e>8?Math.pow((e+16)/116,3):e/Ni}function ps(e,t){let[o,n,r]=e,i=[],a=0;if(r===0)return[0,0,0];let l=Mn(r);r>0?a=.00379058511492914*r**2+.608983189401032*r+.9155088574762233:a=9514440756550361e-21*r**2+.08693057439788597*r-21.928975842194614;let s=2e-12,c=15,m=0,u=1/0;for(;m<=c;){i=_n({J:a,C:n,h:o},t);let h=Math.abs(i[1]-l);if(h<u){if(h<=s)return i;u=h}a=a-(i[1]-l)*a/(2*i[1]),m+=1}return _n({J:a,C:n,h:o},t)}function ds(e,t){let o=ms(e[1]);if(o===0)return[0,0,0];let n=Ii(e,Nn);return[Se(n.h),n.C,o]}var Nn=Pi(cs,200/Math.PI*Mn(50),Mn(50)*100,"average",!1),Lt=new y({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:te,fromBase(e){return ds(e)},toBase(e){return ps(e,Nn)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),fs=Math.PI/180,Tr=[1,.007,.0228];function Br(e){e[1]<0&&(e=Lt.fromBase(Lt.toBase(e)));let t=Math.log(Math.max(1+Tr[2]*e[1]*Nn.flRoot,1))/Tr[2],o=e[0]*fs,n=t*Math.cos(o),r=t*Math.sin(o);return[e[2],n,r]}function hs(e,t){[e,t]=k([e,t]);let[o,n,r]=Br(Lt.from(e)),[i,a,l]=Br(Lt.from(t));return Math.sqrt((o-i)**2+(n-a)**2+(r-l)**2)}var Ct={deltaE76:Ba,deltaECMC:La,deltaE2000:xi,deltaEJz:ja,deltaEITP:Ua,deltaEOK:yn,deltaEHCT:hs};function gs(e){let t=e?Math.floor(Math.log10(Math.abs(e))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}var Er={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Ge(e,{method:t=me.gamut_mapping,space:o=void 0,deltaEMethod:n="",jnd:r=2,blackWhiteClamp:i={}}={}){if(e=k(e),Rt(arguments[1])?o=arguments[1]:o||(o=e.space),o=y.get(o),Ze(e,o,{epsilon:0}))return e;let a;if(t==="css")a=bs(e,{space:o});else{if(t!=="clip"&&!Ze(e,o)){Object.prototype.hasOwnProperty.call(Er,t)&&({method:t,jnd:r,deltaEMethod:n,blackWhiteClamp:i}=Er[t]);let l=xi;if(n!==""){for(let c in Ct)if("deltae"+n.toLowerCase()===c.toLowerCase()){l=Ct[c];break}}let s=Ge(R(e,o),{method:"clip",space:o});if(l(e,s)>r){if(Object.keys(i).length===3){let B=y.resolveCoord(i.channel),O=ce(R(e,B.space),B.id);if($e(O)&&(O=0),O>=i.max)return R({space:"xyz-d65",coords:ie.D65},e.space);if(O<=i.min)return R({space:"xyz-d65",coords:[0,0,0]},e.space)}let c=y.resolveCoord(t),m=c.space,u=c.id,h=R(e,m);h.coords.forEach((B,O)=>{$e(B)&&(h.coords[O]=0)});let C=(c.range||c.refRange)[0],F=gs(r),T=C,G=ce(h,u);for(;G-T>F;){let B=bt(h);B=Ge(B,{space:o,method:"clip"}),l(h,B)-r<F?T=ce(h,u):G=ce(h,u),Ve(h,u,(T+G)/2)}a=R(h,o)}else a=s}else a=R(e,o);if(t==="clip"||!Ze(a,o,{epsilon:0})){let l=Object.values(o.coords).map(s=>s.range||[]);a.coords=a.coords.map((s,c)=>{let[m,u]=l[c];return m!==void 0&&(s=Math.max(m,s)),u!==void 0&&(s=Math.min(s,u)),s})}}return o!==e.space&&(a=R(a,e.space)),e.coords=a.coords,e}Ge.returns="color";var Lr={WHITE:{space:gt,coords:[1,0,0]},BLACK:{space:gt,coords:[0,0,0]}};function bs(e,{space:t}={}){e=k(e),t||(t=e.space),t=y.get(t);let r=y.get("oklch");if(t.isUnbounded)return R(e,t);let i=R(e,r),a=i.coords[0];if(a>=1){let C=R(Lr.WHITE,t);return C.alpha=e.alpha,R(C,t)}if(a<=0){let C=R(Lr.BLACK,t);return C.alpha=e.alpha,R(C,t)}if(Ze(i,t,{epsilon:0}))return R(i,t);function l(C){let F=R(C,t),T=Object.values(t.coords);return F.coords=F.coords.map((G,B)=>{if("range"in T[B]){let[O,se]=T[B].range;return Ci(O,G,se)}return G}),F}let s=0,c=i.coords[1],m=!0,u=bt(i),h=l(u),D=yn(h,u);if(D<.02)return h;for(;c-s>1e-4;){let C=(s+c)/2;if(u.coords[1]=C,m&&Ze(u,t,{epsilon:0}))s=C;else if(h=l(u),D=yn(h,u),D<.02){if(.02-D<1e-4)break;m=!1,s=C}else c=C}return h}function R(e,t,{inGamut:o}={}){e=k(e),t=y.get(t);let n=t.from(e),r={space:t,coords:n,alpha:e.alpha};return o&&(r=Ge(r,o===!0?void 0:o)),r}R.returns="color";function Tt(e,i={}){var a=i,{precision:t=me.precision,format:o="default",inGamut:n=!0}=a,r=Je(a,["precision","format","inGamut"]);let l;e=k(e);let s=o;o=e.space.getFormat(o)??e.space.getFormat("default")??y.DEFAULT_FORMAT;let c=e.coords.slice();if(n||=o.toGamut,n&&!Ze(e)&&(c=Ge(bt(e),n===!0?void 0:n).coords),o.type==="custom")if(r.precision=t,o.serialize)l=o.serialize(c,e.alpha,r);else throw new TypeError(`format ${s} can only be used to parse colors, not for serialization`);else{let m=o.name||"color";o.serializeCoords?c=o.serializeCoords(c,t):t!==null&&(c=c.map(C=>So(C,{precision:t})));let u=[...c];if(m==="color"){let C=o.id||o.ids?.[0]||e.space.id;u.unshift(C)}let h=e.alpha;t!==null&&(h=So(h,{precision:t}));let D=e.alpha>=1||o.noAlpha?"":`${o.commas?",":" /"} ${h}`;l=`${m}(${u.join(o.commas?", ":" ")}${D})`}return l}var Cs=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],vs=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],Po=new ne({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:Cs,fromXYZ_M:vs}),yo=1.09929682680944,Rr=.018053968510807,Fi=new ne({id:"rec2020",name:"REC.2020",base:Po,toBase(e){return e.map(function(t){return t<Rr*4.5?t/4.5:Math.pow((t+yo-1)/yo,1/.45)})},fromBase(e){return e.map(function(t){return t>=Rr?yo*Math.pow(t,.45)-(yo-1):4.5*t})}}),ys=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],xs=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],Ti=new ne({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:ys,fromXYZ_M:xs}),ws=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],J=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],Bi=new ne({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:ws,fromXYZ_M:J}),Ar={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},$r=Array(3).fill("<percentage> | <number>[0, 255]"),Hr=Array(3).fill("<number>[0, 255]"),vt=new ne({id:"srgb",name:"sRGB",base:Bi,fromBase:e=>e.map(t=>{let o=t<0?-1:1,n=t*o;return n>.0031308?o*(1.055*n**(1/2.4)-.055):12.92*t}),toBase:e=>e.map(t=>{let o=t<0?-1:1,n=t*o;return n<=.04045?t/12.92:o*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:$r},rgb_number:{name:"rgb",commas:!0,coords:Hr,noAlpha:!0},color:{},rgba:{coords:$r,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Hr},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,o=>{t.push(parseInt(o,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(e,t,{collapse:o=!0}={})=>{t<1&&e.push(t),e=e.map(i=>Math.round(i*255));let n=o&&e.every(i=>i%17===0);return"#"+e.map(i=>n?(i/17).toString(16):i.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){e=e.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(e==="transparent"?(t.coords=Ar.black,t.alpha=0):t.coords=Ar[e],t.coords)return t}}}}),Ei=new ne({id:"p3",cssId:"display-p3",name:"P3",base:Ti,fromBase:vt.fromBase,toBase:vt.toBase});me.display_space=vt;var _s;if(typeof CSS<"u"&&CSS.supports)for(let e of[ue,Fi,Ei]){let t=e.getMinCoords(),n=Tt({space:e,coords:t,alpha:1});if(CSS.supports("color",n)){me.display_space=e;break}}function Ms(e,n={}){var r=n,{space:t=me.display_space}=r,o=Je(r,["space"]);let i=Tt(e,o);if(typeof CSS>"u"||CSS.supports("color",i)||!me.display_space)i=new String(i),i.color=e;else{let a=e;if((e.coords.some($e)||$e(e.alpha))&&!(_s??=CSS.supports("color","hsl(none 50% 50%)"))&&(a=bt(e),a.coords=a.coords.map(Z),a.alpha=Z(a.alpha),i=Tt(a,o),CSS.supports("color",i)))return i=new String(i),i.color=a,i;a=R(a,t),i=new String(Tt(a,o)),i.color=a}return i}function Ss(e,t){return e=k(e),t=k(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every((o,n)=>o===t.coords[n])}function Oe(e){return ce(e,[te,"y"])}function Li(e,t){Ve(e,[te,"y"],t)}function zs(e){Object.defineProperty(e.prototype,"luminance",{get(){return Oe(this)},set(t){Li(this,t)}})}var Ds=Object.freeze({__proto__:null,getLuminance:Oe,register:zs,setLuminance:Li});function ks(e,t){e=k(e),t=k(t);let o=Math.max(Oe(e),0),n=Math.max(Oe(t),0);return n>o&&([o,n]=[n,o]),(o+.05)/(n+.05)}var Vs=.56,Ps=.57,Is=.62,Ns=.65,Gr=.022,Fs=1.414,Ts=.1,Bs=5e-4,Es=1.14,Or=.027,Ls=1.14;function jr(e){return e>=Gr?e:e+(Gr-e)**Fs}function dt(e){let t=e<0?-1:1,o=Math.abs(e);return t*Math.pow(o,2.4)}function Rs(e,t){t=k(t),e=k(e);let o,n,r,i,a,l;t=R(t,"srgb"),[i,a,l]=t.coords;let s=dt(i)*.2126729+dt(a)*.7151522+dt(l)*.072175;e=R(e,"srgb"),[i,a,l]=e.coords;let c=dt(i)*.2126729+dt(a)*.7151522+dt(l)*.072175,m=jr(s),u=jr(c),h=u>m;return Math.abs(u-m)<Bs?n=0:h?(o=u**Vs-m**Ps,n=o*Es):(o=u**Ns-m**Is,n=o*Ls),Math.abs(n)<Ts?r=0:n>0?r=n-Or:r=n+Or,r*100}function As(e,t){e=k(e),t=k(t);let o=Math.max(Oe(e),0),n=Math.max(Oe(t),0);n>o&&([o,n]=[n,o]);let r=o+n;return r===0?0:(o-n)/r}var $s=5e4;function Hs(e,t){e=k(e),t=k(t);let o=Math.max(Oe(e),0),n=Math.max(Oe(t),0);return n>o&&([o,n]=[n,o]),n===0?$s:(o-n)/n}function Gs(e,t){e=k(e),t=k(t);let o=ce(e,[ue,"l"]),n=ce(t,[ue,"l"]);return Math.abs(o-n)}var Os=216/24389,qr=24/116,xo=24389/27,mn=ie.D65,Sn=new y({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:mn,base:te,fromBase(e){let o=e.map((n,r)=>n/mn[r]).map(n=>n>Os?Math.cbrt(n):(xo*n+16)/116);return[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>qr?Math.pow(t[0],3):(116*t[0]-16)/xo,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/xo,t[2]>qr?Math.pow(t[2],3):(116*t[2]-16)/xo].map((n,r)=>n*mn[r])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),pn=Math.pow(5,.5)*.5+.5;function js(e,t){e=k(e),t=k(t);let o=ce(e,[Sn,"l"]),n=ce(t,[Sn,"l"]),r=Math.abs(Math.pow(o,pn)-Math.pow(n,pn)),i=Math.pow(r,1/pn)*Math.SQRT2-40;return i<7.5?0:i}var Mo=Object.freeze({__proto__:null,contrastAPCA:Rs,contrastDeltaPhi:js,contrastLstar:Gs,contrastMichelson:As,contrastWCAG21:ks,contrastWeber:Hs});function qs(e,t,o={}){Rt(o)&&(o={algorithm:o});let i=o,{algorithm:n}=i,r=Je(i,["algorithm"]);if(!n){let a=Object.keys(Mo).map(l=>l.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}e=k(e),t=k(t);for(let a in Mo)if("contrast"+n.toLowerCase()===a.toLowerCase())return Mo[a](e,t,r);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function Io(e){let[t,o,n]=At(e,te),r=t+15*o+3*n;return[4*t/r,9*o/r]}function Ri(e){let[t,o,n]=At(e,te),r=t+o+n;return[t/r,o/r]}function Ys(e){Object.defineProperty(e.prototype,"uv",{get(){return Io(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return Ri(this)}})}var Xs=Object.freeze({__proto__:null,register:Ys,uv:Io,xy:Ri});function Ft(e,t,o={}){Rt(o)&&(o={method:o});let i=o,{method:n=me.deltaE}=i,r=Je(i,["method"]);for(let a in Ct)if("deltae"+n.toLowerCase()===a.toLowerCase())return Ct[a](e,t,r);throw new TypeError(`Unknown deltaE method: ${n}`)}function Zs(e,t=.25){let n=[y.get("oklch","lch"),"l"];return Ve(e,n,r=>r*(1+t))}function Ks(e,t=.25){let n=[y.get("oklch","lch"),"l"];return Ve(e,n,r=>r*(1-t))}var Js=Object.freeze({__proto__:null,darken:Ks,lighten:Zs});function Ai(e,t,o=.5,n={}){return[e,t]=[k(e),k(t)],Ae(o)==="object"&&([o,n]=[.5,o]),$t(e,t,n)(o)}function $i(e,t,o={}){let n;Fn(e)&&([n,o]=[e,t],[e,t]=n.rangeArgs.colors);let h=o,{maxDeltaE:r,deltaEMethod:i,steps:a=2,maxSteps:l=1e3}=h,s=Je(h,["maxDeltaE","deltaEMethod","steps","maxSteps"]);n||([e,t]=[k(e),k(t)],n=$t(e,t,s));let c=Ft(e,t),m=r>0?Math.max(a,Math.ceil(c/r)+1):a,u=[];if(l!==void 0&&(m=Math.min(m,l)),m===1)u=[{p:.5,color:n(.5)}];else{let D=1/(m-1);u=Array.from({length:m},(C,F)=>{let T=F*D;return{p:T,color:n(T)}})}if(r>0){let D=u.reduce((C,F,T)=>{if(T===0)return 0;let G=Ft(F.color,u[T-1].color,i);return Math.max(C,G)},0);for(;D>r;){D=0;for(let C=1;C<u.length&&u.length<l;C++){let F=u[C-1],T=u[C],G=(T.p+F.p)/2,B=n(G);D=Math.max(D,Ft(B,F.color),Ft(B,T.color)),u.splice(C,0,{p:G,color:n(G)}),C++}}}return u=u.map(D=>D.color),u}function $t(e,t,o={}){if(Fn(e)){let[s,c]=[e,t];return $t(...s.rangeArgs.colors,ae(ae({},s.rangeArgs.options),c))}let{space:n,outputSpace:r,progression:i,premultiplied:a}=o;e=k(e),t=k(t),e=bt(e),t=bt(t);let l={colors:[e,t],options:o};if(n?n=y.get(n):n=y.registry[me.interpolationSpace]||e.space,r=r?y.get(r):n,e=R(e,n),t=R(t,n),e=Ge(e),t=Ge(t),n.coords.h&&n.coords.h.type==="angle"){let s=o.hue=o.hue||"shorter",c=[n,"h"],[m,u]=[ce(e,c),ce(t,c)];isNaN(m)&&!isNaN(u)?m=u:isNaN(u)&&!isNaN(m)&&(u=m),[m,u]=Va(s,[m,u]),Ve(e,c,m),Ve(t,c,u)}return a&&(e.coords=e.coords.map(s=>s*e.alpha),t.coords=t.coords.map(s=>s*t.alpha)),Object.assign(s=>{s=i?i(s):s;let c=e.coords.map((h,D)=>{let C=t.coords[D];return Bt(h,C,s)}),m=Bt(e.alpha,t.alpha,s),u={space:n,coords:c,alpha:m};return a&&(u.coords=u.coords.map(h=>h/m)),r!==n&&(u=R(u,r)),u},{rangeArgs:l})}function Fn(e){return Ae(e)==="function"&&!!e.rangeArgs}me.interpolationSpace="lab";function Ws(e){e.defineFunction("mix",Ai,{returns:"color"}),e.defineFunction("range",$t,{returns:"function<color>"}),e.defineFunction("steps",$i,{returns:"array<color>"})}var Qs=Object.freeze({__proto__:null,isRange:Fn,mix:Ai,range:$t,register:Ws,steps:$i}),Hi=new y({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:vt,fromBase:e=>{let t=Math.max(...e),o=Math.min(...e),[n,r,i]=e,[a,l,s]=[NaN,0,(o+t)/2],c=t-o;if(c!==0){switch(l=s===0||s===1?0:(t-s)/Math.min(s,1-s),t){case n:a=(r-i)/c+(r<i?6:0);break;case r:a=(i-n)/c+2;break;case i:a=(n-r)/c+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,s*100]},toBase:e=>{let[t,o,n]=e;t=t%360,t<0&&(t+=360),o/=100,n/=100;function r(i){let a=(i+t/30)%12,l=o*Math.min(n,1-n);return n-l*Math.max(-1,Math.min(a-3,9-a,1))}return[r(0),r(8),r(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Gi=new y({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Hi,fromBase(e){let[t,o,n]=e;o/=100,n/=100;let r=n+o*Math.min(n,1-n);return[t,r===0?0:200*(1-n/r),100*r]},toBase(e){let[t,o,n]=e;o/=100,n/=100;let r=n*(1-o/2);return[t,r===0||r===1?0:(n-r)/Math.min(r,1-r)*100,r*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Us=new y({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Gi,fromBase(e){let[t,o,n]=e;return[t,n*(100-o)/100,100-n]},toBase(e){let[t,o,n]=e;o/=100,n/=100;let r=o+n;if(r>=1){let l=o/r;return[t,0,l*100]}let i=1-n,a=i===0?0:1-o/i;return[t,a*100,i*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),el=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],tl=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],Oi=new ne({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:el,fromXYZ_M:tl}),ol=new ne({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:Oi,toBase:e=>e.map(t=>Math.pow(Math.abs(t),563/256)*Math.sign(t)),fromBase:e=>e.map(t=>Math.pow(Math.abs(t),256/563)*Math.sign(t))}),nl=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],rl=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],ji=new ne({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Pn,toXYZ_M:nl,fromXYZ_M:rl}),il=1/512,al=16/512,sl=new ne({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:ji,toBase(e){return e.map(t=>t<al?t/16:t**1.8)},fromBase(e){return e.map(t=>t>=il?t**(1/1.8):16*t)}}),ll=new y({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:gt,fromBase(e){let[t,o,n]=e,r,i=2e-4;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),Se(r)]},toBase(e){let[t,o,n]=e,r,i;return isNaN(n)?(r=0,i=0):(r=o*Math.cos(n*Math.PI/180),i=o*Math.sin(n*Math.PI/180)),[t,r,i]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),qi=ie.D65,cl=216/24389,Yr=24389/27,[Xr,Zr]=Io({space:te,coords:qi}),Yi=new y({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:qi,base:te,fromBase(e){let t=[Z(e[0]),Z(e[1]),Z(e[2])],o=t[1],[n,r]=Io({space:te,coords:t});if(!Number.isFinite(n)||!Number.isFinite(r))return[0,0,0];let i=o<=cl?Yr*o:116*Math.cbrt(o)-16;return[i,13*i*(n-Xr),13*i*(r-Zr)]},toBase(e){let[t,o,n]=e;if(t===0||$e(t))return[0,0,0];o=Z(o),n=Z(n);let r=o/(13*t)+Xr,i=n/(13*t)+Zr,a=t<=8?t/Yr:Math.pow((t+16)/116,3);return[a*(9*r/(4*i)),a,a*((12-3*r-20*i)/(4*i))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Tn=new y({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Yi,fromBase(e){let[t,o,n]=e,r,i=.02;return Math.abs(o)<i&&Math.abs(n)<i?r=NaN:r=Math.atan2(n,o)*180/Math.PI,[t,Math.sqrt(o**2+n**2),Se(r)]},toBase(e){let[t,o,n]=e;return o<0&&(o=0),isNaN(n)&&(n=0),[t,o*Math.cos(n*Math.PI/180),o*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),ul=216/24389,ml=24389/27,Kr=J[0][0],Jr=J[0][1],dn=J[0][2],Wr=J[1][0],Qr=J[1][1],fn=J[1][2],Ur=J[2][0],ei=J[2][1],hn=J[2][2];function ft(e,t,o){let n=t/(Math.sin(o)-e*Math.cos(o));return n<0?1/0:n}function ko(e){let t=Math.pow(e+16,3)/1560896,o=t>ul?t:e/ml,n=o*(284517*Kr-94839*dn),r=o*(838422*dn+769860*Jr+731718*Kr),i=o*(632260*dn-126452*Jr),a=o*(284517*Wr-94839*fn),l=o*(838422*fn+769860*Qr+731718*Wr),s=o*(632260*fn-126452*Qr),c=o*(284517*Ur-94839*hn),m=o*(838422*hn+769860*ei+731718*Ur),u=o*(632260*hn-126452*ei);return{r0s:n/i,r0i:r*e/i,r1s:n/(i+126452),r1i:(r-769860)*e/(i+126452),g0s:a/s,g0i:l*e/s,g1s:a/(s+126452),g1i:(l-769860)*e/(s+126452),b0s:c/u,b0i:m*e/u,b1s:c/(u+126452),b1i:(m-769860)*e/(u+126452)}}function ti(e,t){let o=t/360*Math.PI*2,n=ft(e.r0s,e.r0i,o),r=ft(e.r1s,e.r1i,o),i=ft(e.g0s,e.g0i,o),a=ft(e.g1s,e.g1i,o),l=ft(e.b0s,e.b0i,o),s=ft(e.b1s,e.b1i,o);return Math.min(n,r,i,a,l,s)}var pl=new y({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Tn,gamutSpace:vt,fromBase(e){let[t,o,n]=[Z(e[0]),Z(e[1]),Z(e[2])],r;if(t>99.9999999)r=0,t=100;else if(t<1e-8)r=0,t=0;else{let i=ko(t),a=ti(i,n);r=o/a*100}return[n,r,t]},toBase(e){let[t,o,n]=[Z(e[0]),Z(e[1]),Z(e[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let i=ko(n);r=ti(i,t)/100*o}return[n,r,t]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});J[0][0];J[0][1];J[0][2];J[1][0];J[1][1];J[1][2];J[2][0];J[2][1];J[2][2];function ht(e,t){return Math.abs(t)/Math.sqrt(Math.pow(e,2)+1)}function oi(e){let t=ht(e.r0s,e.r0i),o=ht(e.r1s,e.r1i),n=ht(e.g0s,e.g0i),r=ht(e.g1s,e.g1i),i=ht(e.b0s,e.b0i),a=ht(e.b1s,e.b1i);return Math.min(t,o,n,r,i,a)}var dl=new y({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Tn,gamutSpace:"self",fromBase(e){let[t,o,n]=[Z(e[0]),Z(e[1]),Z(e[2])],r;if(t>99.9999999)r=0,t=100;else if(t<1e-8)r=0,t=0;else{let i=ko(t),a=oi(i);r=o/a*100}return[n,r,t]},toBase(e){let[t,o,n]=[Z(e[0]),Z(e[1]),Z(e[2])],r;if(n>99.9999999)n=100,r=0;else if(n<1e-8)n=0,r=0;else{let i=ko(n);r=oi(i)/100*o}return[n,r,t]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),ni=203,ri=2610/2**14,fl=2**14/2610,hl=2523/2**5,ii=2**5/2523,ai=3424/2**12,si=2413/2**7,li=2392/2**7,gl=new ne({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:Po,toBase(e){return e.map(function(t){return(Math.max(t**ii-ai,0)/(si-li*t**ii))**fl*1e4/ni})},fromBase(e){return e.map(function(t){let o=Math.max(t*ni/1e4,0),n=ai+si*o**ri,r=1+li*o**ri;return(n/r)**hl})}}),ci=.17883277,ui=.28466892,mi=.55991073,gn=3.7743,bl=new ne({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Po,toBase(e){return e.map(function(t){return t<=.5?t**2/3*gn:(Math.exp((t-mi)/ci)+ui)/12*gn})},fromBase(e){return e.map(function(t){return t/=gn,t<=1/12?Math.sqrt(3*t):ci*Math.log(12*t-ui)+mi})}}),Xi={};He.add("chromatic-adaptation-start",e=>{e.options.method&&(e.M=Zi(e.W1,e.W2,e.options.method))});He.add("chromatic-adaptation-end",e=>{e.M||(e.M=Zi(e.W1,e.W2,e.options.method))});function No({id:e,toCone_M:t,fromCone_M:o}){Xi[e]=arguments[0]}function Zi(e,t,o="Bradford"){let n=Xi[o],[r,i,a]=A(n.toCone_M,e),[l,s,c]=A(n.toCone_M,t),m=[[l/r,0,0],[0,s/i,0],[0,0,c/a]],u=A(m,n.toCone_M);return A(n.fromCone_M,u)}No({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});No({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});No({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});No({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(ie,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});ie.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var Cl=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],vl=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Ki=new ne({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:ie.ACES,toXYZ_M:Cl,fromXYZ_M:vl}),wo=2**-16,bn=-.35828683,_o=(Math.log2(65504)+9.72)/17.52,yl=new ne({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[bn,_o],name:"Red"},g:{range:[bn,_o],name:"Green"},b:{range:[bn,_o],name:"Blue"}},referred:"scene",base:Ki,toBase(e){let t=-.3013698630136986;return e.map(function(o){return o<=t?(2**(o*17.52-9.72)-wo)*2:o<_o?2**(o*17.52-9.72):65504})},fromBase(e){return e.map(function(t){return t<=0?(Math.log2(wo)+9.72)/17.52:t<wo?(Math.log2(wo+t*.5)+9.72)/17.52:(Math.log2(t)+9.72)/17.52})}}),pi=Object.freeze({__proto__:null,A98RGB:ol,A98RGB_Linear:Oi,ACEScc:yl,ACEScg:Ki,CAM16_JMh:ls,HCT:Lt,HPLuv:dl,HSL:Hi,HSLuv:pl,HSV:Gi,HWB:Us,ICTCP:wn,JzCzHz:xn,Jzazbz:_i,LCH:Et,LCHuv:Tn,Lab:ue,Lab_D65:Sn,Luv:Yi,OKLCH:ll,OKLab:gt,P3:Ei,P3_Linear:Ti,ProPhoto:sl,ProPhoto_Linear:ji,REC_2020:Fi,REC_2020_Linear:Po,REC_2100_HLG:bl,REC_2100_PQ:gl,XYZ_ABS_D65:In,XYZ_D50:Pn,XYZ_D65:te,sRGB:vt,sRGB_Linear:Bi}),K=class e{constructor(...t){let o;t.length===1&&(o=k(t[0]));let n,r,i;o?(n=o.space||o.spaceId,r=o.coords,i=o.alpha):[n,r,i]=t,Object.defineProperty(this,"space",{value:y.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=r?r.slice():[0,0,0],this.alpha=i>1||i===void 0?1:i<0?0:i;for(let a=0;a<this.coords.length;a++)this.coords[a]==="NaN"&&(this.coords[a]=NaN);for(let a in this.space.coords)Object.defineProperty(this,a,{get:()=>this.get(a),set:l=>this.set(a,l)})}get spaceId(){return this.space.id}clone(){return new e(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...t){let o=Ms(this,...t);return o.color=new e(o.color),o}static get(t,...o){return t instanceof e?t:new e(t,...o)}static defineFunction(t,o,n=o){let{instance:r=!0,returns:i}=n,a=function(...l){let s=o(...l);if(i==="color")s=e.get(s);else if(i==="function<color>"){let c=s;s=function(...m){let u=c(...m);return e.get(u)},Object.assign(s,c)}else i==="array<color>"&&(s=s.map(c=>e.get(c)));return s};t in e||(e[t]=a),r&&(e.prototype[t]=function(...l){return a(this,...l)})}static defineFunctions(t){for(let o in t)e.defineFunction(o,t[o],t[o])}static extend(t){if(t.register)t.register(e);else for(let o in t)e.defineFunction(o,t[o])}};K.defineFunctions({get:ce,getAll:At,set:Ve,setAll:Vn,to:R,equals:Ss,inGamut:Ze,toGamut:Ge,distance:wi,toString:Tt});Object.assign(K,{util:Ma,hooks:He,WHITES:ie,Space:y,spaces:y.registry,parse:yi,defaults:me});for(let e of Object.keys(pi))y.register(pi[e]);for(let e in y.registry)zn(e,y.registry[e]);He.add("colorspace-init-end",e=>{zn(e.id,e),e.aliases?.forEach(t=>{zn(t,e)})});function zn(e,t){let o=e.replace(/-/g,"_");Object.defineProperty(K.prototype,o,{get(){let n=this.getAll(e);return typeof Proxy>"u"?n:new Proxy(n,{has:(r,i)=>{try{return y.resolveCoord([t,i]),!0}catch{}return Reflect.has(r,i)},get:(r,i,a)=>{if(i&&typeof i!="symbol"&&!(i in r)){let{index:l}=y.resolveCoord([t,i]);if(l>=0)return r[l]}return Reflect.get(r,i,a)},set:(r,i,a,l)=>{if(i&&typeof i!="symbol"&&!(i in r)||i>=0){let{index:s}=y.resolveCoord([t,i]);if(s>=0)return r[s]=a,this.setAll(e,r),!0}return Reflect.set(r,i,a,l)}})},set(n){this.setAll(e,n)},configurable:!0,enumerable:!0})}K.extend(Ct);K.extend({deltaE:Ft});Object.assign(K,{deltaEMethods:Ct});K.extend(Js);K.extend({contrast:qs});K.extend(Xs);K.extend(Ds);K.extend(Qs);K.extend(Mo);function Ht(e){let t=new K(e),o=Math.round(Math.max(0,Math.min(1,t.srgb.r??0))*255),n=Math.round(Math.max(0,Math.min(1,t.srgb.g??0))*255),r=Math.round(Math.max(0,Math.min(1,t.srgb.b??0))*255);return{values:[o,n,r],color:`rgb(${o} ${n} ${r})`}}function Ji(e){let t=Ht(e),o=new K(t.color).to("hsl");return[o.coords[0].valueOf(),o.coords[1].valueOf(),o.coords[2].valueOf()]}function Wi(e){let t=new K(e).to("oklch");return[t.coords[0].valueOf(),t.coords[1].valueOf(),t.coords[2].valueOf()]}function Gt(e){return new K(e).luminance<.35?"white":"black"}function Fo(e){return`#${Math.round(e[0]).toString(16).padStart(2,"0")}${Math.round(e[1]).toString(16).padStart(2,"0")}${Math.round(e[2]).toString(16).padStart(2,"0")}`.toUpperCase()}function Qi(e){e=e?.replace("#","")??"000000",e.length!==6&&(e="000000");let t=parseInt(e,16),o=t>>16&255,n=t>>8&255,r=t&255;return[o,n,r]}function Ui(e,t){if(!t||t.name==="rgb"||t.name==="hex")return e;let o=new K(`rgb(${e[0]} ${e[1]} ${e[2]})`).to(t.name),n=Bn(o.coords[0],t.components[0]),r=Bn(o.coords[1],t.components[1]),i=Bn(o.coords[2],t.components[2]);return[n,r,i]}function Bn(e,t){let o=Number.isNaN(e)?0:e;return Math.max(0,Math.min(t.range.max,o))}function ea(e,t){let o=Math.abs(e[0]-t[0]),n=Math.abs(e[1]-t[1]),r=Math.abs(e[2]-t[2]);return o<=7&&n<=3&&r<=14}var To=he.oklch,ta={colorConfig:{colorModelName:To.name,variable:To.components[2],variableIndex:To.components.findIndex(e=>e.name.caption===To.components[2].name.caption),color:{0:.641,1:.161,2:344.6},range:{min:191,max:498}},paletteStepsConfig:{steps:8,automatic:!0},paletteVisualConfig:{height:100,flat:!1,separate:!0},paletteValuesConfig:{showValues:"no"}};var $=class e{store=z(Ee);initialState=this.store.get("color-state")??ta;_showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"},{text:"HEX",value:"hex"}];colorModel=H(he[this.initialState.colorConfig.colorModelName]);variableConfig=H({variable:this.colorModel().components[this.initialState.colorConfig.variableIndex],variableIndex:this.initialState.colorConfig.variableIndex});range=H(this.initialState.colorConfig.range);get showValuesOptions(){return this._showValuesOptions}currentColor=H(this.initialState.colorConfig.color);colorConfig=H(je(ae({colorModel:this.colorModel()},this.variableConfig()),{color:this.currentColor(),range:this.range()}));paletteStepsConfig=H(this.initialState.paletteStepsConfig);paletteVisualConfig=H(this.initialState.paletteVisualConfig);paletteValuesConfig=H(this.initialState.paletteValuesConfig);rgb=j(()=>Ht(this.colorModel().convert(this.currentColor())).values);currentState=j(()=>({colorConfig:{colorModelName:this.colorModel().name,variable:this.colorConfig().variable,variableIndex:this.colorConfig().variableIndex,color:this.currentColor(),range:this.range()},paletteStepsConfig:this.paletteStepsConfig(),paletteVisualConfig:this.paletteVisualConfig(),paletteValuesConfig:this.paletteValuesConfig()}));palette=j(()=>{let t=je(ae({},this.colorConfig()),{color:this.currentColor(),range:this.range()}),o=this.paletteStepsConfig(),n=this.currentColor()??t.colorModel.defaultValues(),r=t.range.min,i=t.range.max,a=o?.steps??10;if(o?.automatic??!0){let c=t.variable;a=Math.min(a,Math.max(2,Math.ceil(Math.abs(i-r)/an(c.range)*c.autoSteps)))}let l=(i-r)/(a-1),s=Array.from({length:a},(c,m)=>{let u=r+m*l,h=ae({},n);h[t.variableIndex]=u;let D=t.colorModel.convert([h[0],h[1],h[2]]),C=Ht(D);return{valores:h,color:D,rgbValues:C.values,rgb:C.color}});if(s.length>0){let c=s[0].rgbValues;for(let m=1;m<s.length;m++){let u=s[m].rgbValues;ea(u,c)&&(s[m-1].clamp=!0,s[m].clamp=!0),c=u}}return{model:t.colorModel.name,swatches:s}});constructor(){de(()=>this.store.save("color-state",this.currentState()))}loadPalette(t){this.paletteStepsConfigChanged(t.state.stepsConfig),this.colorModel.set(he[t.palette.model]),this.variableConfig.set(t.state.colorConfig),this.currentColor.set(t.state.colorConfig.color),this.range.set(t.state.colorConfig.range),this.colorConfig.set({colorModel:this.colorModel(),variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()})}showValuesOption(t){return this._showValuesOptions.find(o=>o.value===t)}colorModelChanged(t){this.onColorModelChanged(t),this.colorConfig.set({colorModel:t,variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()})}variableChanged(t){this.onVariableConfigChanged(t,this.currentColor()),this.colorConfig.update(o=>je(ae({},o),{variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()}))}paletteStepsConfigChanged(t){this.paletteStepsConfig.set(t)}paletteVisualConfigChanged(t){this.paletteVisualConfig.set(t)}paletteValuesConfigChanged(t){this.paletteValuesConfig.set(t)}rangeChanged(t){this.range.set(t)}colorChanged(t){this.currentColor.set(t)}colorSelected(t){let o=Ui(t,this.colorModel());this.colorConfig.update(n=>je(ae({},n),{color:o,range:n.variable.bestRange(o[n.variableIndex])}))}currentPaletteInfo(){return{palette:this.palette(),state:{colorConfig:{colorModelName:this.colorModel().name,variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()},stepsConfig:this.paletteStepsConfig()}}}onColorModelChanged(t){let o=this.colorModel().convert(this.currentColor()),n=t.defaultValues()??[0,0,0];if(o)switch(t.name){case"hsl":n=Ji(o);break;case"oklch":n=Wi(o);break;default:n=Ht(o).values}this.colorModel.set(t),this.onVariableConfigChanged(t.components[t.defaultVariableIndex],n),this.currentColor.set(n)}onVariableConfigChanged(t,o){let n=this.colorModel().components.findIndex(r=>r.name===t.name);this.variableConfig.set({variable:t,variableIndex:n}),this.range.set(t.bestRange(o[n]))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var yt=class e{collapse=v(!1,{alias:"zz-collapse-vertical"});static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-collapse-vertical",""],["zzCollapseVertical"]],hostAttrs:[1,"overflow-y-hidden"],hostVars:4,hostBindings:function(o,n){o&2&&(E("height",n.collapse()?"0":"calc-size(auto, size)"),I("opacity-50",n.collapse()))},inputs:{collapse:[1,"zz-collapse-vertical","collapse"]},features:[X([nt,at])]})};var xt=class e{size=v("thin",{alias:"zz-border",transform:t=>{let o=(t??"none").toLowerCase().trim();return o==="none"?"none":["thin","normal","thick"].includes(o)?o:"thin"}});color=v("color-mix(in oklch, var(--text-color), transparent 70%)",{alias:"zz-border-color",transform:t=>{let o=(t??"").trim().replace(/ /g,"-").toLowerCase();return o===""?void 0:o}});style=v("solid",{alias:"zz-border-style",transform:t=>{let o=(t??"solid").toLowerCase().trim();return["solid","dashed","dotted","double","groove","ridge","inset","outset"].includes(o)?o:"solid"}});get borderSize(){if(this.size())return{thin:1,normal:2,thick:4}[this.size()]}get borderColor(){return this.color()}get borderStyle(){return this.style()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-border",""],["zzBorder"]],hostVars:6,hostBindings:function(o,n){o&2&&E("border-width",n.borderSize,"px")("border-color",n.borderColor)("border-style",n.borderStyle)},inputs:{size:[1,"zz-border","size"],color:[1,"zz-border-color","color"],style:[1,"zz-border-style","style"]}})};function wl(e,t){if(e&1){let o=W();p(0,"div",5)(1,"zz-palette-list",7),N("paletteSelected",function(r){q(o);let i=b();return Y(i.state.loadPalette(r))})("paletteRemoved",function(r){q(o);let i=b();return Y(i.store.remove(r))}),d()()}if(e&2){let o=b();g("zz-collapse-vertical",!o.open())("zz-border",o.open()?"thin":"none")("zz-shadow",!0),f(),g("palettes",o.store.saved())}}var Bo=class e{store=z(Re);state=z($);abort=void 0;open=H(!1);toggleOpen(){this.openState(!this.open())}openState(t){if(this.abort?.abort(),this.open.set(t),this.open()){this.abort=new AbortController;let o=this.abort.signal;window.addEventListener("keydown",this.onKeyDown.bind(this),{once:!0,signal:o,capture:!0}),window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:o})}}onKeyDown(t){t.key==="Escape"&&this.openState(!1)}onClick(t){this.openState(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palette-selector"]],decls:9,vars:5,consts:[[1,"relative"],["zz-button","",1,"ring-0","outline-none","bg-transparent","hover:bg-gris-100/50","dark:hover:bg-gris-950/50","px-4","py-1","w-24",3,"click","zzDisabled"],[1,"flex","flex-row","items-center","gap-2","justify-between"],[1,"whitespace-nowrap"],[1,"font-icons"],[1,"absolute","top-10","left-0","z-32","rounded",3,"zz-collapse-vertical","zz-border","zz-shadow"],[1,"fixed","top-0","left-0","z-30","bg-black/10","dark:bg-black/20","block","opacity-100","w-screen","h-screen"],[1,"block","bg-white","dark:bg-gris-800","w-56",3,"paletteSelected","paletteRemoved","palettes"]],template:function(o,n){o&1&&(p(0,"div",0)(1,"button",1),N("click",function(){return n.toggleOpen()}),p(2,"span",2)(3,"span",3),x(4,"Saved palettes"),d(),p(5,"span",4),x(6),d()()(),P(7,wl,2,4,"div",5),S(8,"div",6),d()),o&2&&(f(),g("zzDisabled",n.store.saved().length===0),f(5),Ce(n.open()?"arrow_drop_up":"arrow_drop_down"),f(),V(n.store.saved().length>0?7:-1),f(),I("hidden",!n.open()))},dependencies:[lt,ho,yt,xt,ut],encapsulation:2,changeDetection:0})};var Eo=class e{format=v("horizontal");static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-marca"]],inputs:{format:[1,"format"]},decls:24,vars:14,consts:[[1,"font-museo-moderno","text-center","leading-marca","text-white","select-none"],[1,"flex","gap-marca"],[1,"bg-marca-1","w-marca","rounded"],[1,"bg-marca-2","w-marca","rounded"],[1,"bg-marca-3","w-marca","rounded"],[1,"bg-marca-4","w-marca","rounded"],[1,"bg-marca-5","w-marca","rounded"],[1,"bg-marca-6","w-marca","rounded"],[1,"bg-marca-7","w-marca","rounded"],[1,"bg-marca-8","w-marca","rounded"]],template:function(o,n){o&1&&(p(0,"div",0)(1,"span",1)(2,"span",1)(3,"span",1)(4,"span",2),x(5,"C"),d(),p(6,"span",3),x(7,"o"),d()(),p(8,"span",1)(9,"span",4),x(10,"L"),d(),p(11,"span",5),x(12,"o"),d()()(),p(13,"span",1)(14,"span",1)(15,"span",6),x(16,"R"),d(),p(17,"span",7),x(18,"i"),d()(),p(19,"span",1)(20,"span",8),x(21,"n"),d(),p(22,"span",9),x(23,"a"),d()()()()()),o&2&&(f(),I("flex-col",n.format()!=="horizontal"),f(),I("flex-col",n.format()!=="horizontal"&&n.format()!=="half"),f(),I("flex-col",n.format()==="vertical"),f(5),I("flex-col",n.format()==="vertical"),f(5),I("flex-col",n.format()!=="horizontal"&&n.format()!=="half"),f(),I("flex-col",n.format()==="vertical"),f(5),I("flex-col",n.format()==="vertical"))},encapsulation:2,changeDetection:0})};var Lo=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palettes-header"]],decls:6,vars:1,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","max-w-[1600px]","leading-8"],[1,"text-2xl","opacity-90"],[3,"format"]],template:function(o,n){o&1&&(p(0,"header")(1,"div",0)(2,"h1",1),S(3,"zz-marca",2),d(),S(4,"zz-palette-selector")(5,"zz-dark-mode-toggle"),d()()),o&2&&(f(3),g("format","horizontal"))},dependencies:[uo,Bo,Eo],encapsulation:2,changeDetection:0})};var wt=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-container",""]],features:[X([nt,ro,{directive:xt,inputs:["zz-border","zzBorderSize","zz-border-color","zzBorderColor","zz-border-style","zzBorderStyle"]}])]})};var _l=e=>({"bg-gris-100/85 dark:bg-gris-800/85 bold":e}),Ml=e=>({"bg-gris-100/50 dark:bg-gris-700/45 semi-bold":e}),Sl=(e,t)=>t.name,zl=(e,t)=>t.name.caption;function Dl(e,t){if(e&1){let o=W();ke(0),p(1,"li")(2,"div",4),N("click",function(){let r=q(o).$implicit,i=b(2);return Y(i.state.variableChanged(r))}),x(3),d()()}if(e&2){let o=t.$implicit,n=b(2).state.colorConfig().variable.name.caption===o.name.caption;f(2),I("pointer-events-none",n),g("ngClass",nn(4,Ml,n)),f(),De(" ",o.name.caption," ")}}function kl(e,t){if(e&1){let o=W();ke(0),p(1,"li")(2,"div",1)(3,"div",2),N("click",function(){let r=q(o).$implicit,i=b();return Y(i.state.colorModelChanged(r))}),x(4),d(),p(5,"ul",3),U(6,Dl,4,6,"li",null,zl),d()()()}if(e&2){let o=t.$implicit,n=b().state.colorConfig().colorModel.name===o.name;f(2),g("zzBorderSize",n?"thin":"none"),f(),I("pointer-events-none",n),g("ngClass",nn(10,_l,n)),f(),De(" ",o.name," "),f(),I("bg-red-500_50",n)("p-2",n),g("zz-collapse-vertical",!n),f(),ee(o.components)}}var Ro=class e{models=mt.filter(t=>t.name!=="hex");state=z($);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-menu"]],decls:4,vars:0,consts:[[1,"space-y-2","min-w-36","w-full"],["zz-container","",1,"rounded","bg-transparent",3,"zzBorderSize"],[1,"select-none","uppercase","text-larger-2","appearance-base-select","w-full","cursor-pointer","inline-block","transition-all","p-2","rounded","hover:bg-gris-100","dark:hover:bg-gris-800/95",3,"click","ngClass"],[1,"space-y-1",3,"zz-collapse-vertical"],[1,"select-none","w-full","inline-block","cursor-pointer","transition-all","px-2","py-1","rounded","dark:hover:bg-gris-700/60",3,"click","ngClass"]],template:function(o,n){o&1&&(p(0,"nav")(1,"menu",0),U(2,kl,8,12,"li",null,Sl),d()()),o&2&&(f(2),ee(n.models))},dependencies:[yt,wt,nr],encapsulation:2,changeDetection:0})};var _t=class e{notificationService=z(Le);copy(t,o){navigator.clipboard.writeText(t),this.notificationService.success(o??"Copied to clipboard!")}static \u0275fac=function(o){return new(o||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})};function Vl(e,t){if(e&1&&(p(0,"div",4),x(1),d()),e&2){let o=t.$implicit;f(),Wn("",o.label,": ",o.value,"")}}function Pl(e,t){if(e&1){let o=W();p(0,"div",2),N("click",function(){q(o);let r=b();return Y(r.copy())}),p(1,"div",3),U(2,Vl,2,2,"div",4,be),d()()}if(e&2){let o=b();E("color",o.useContrast()?o.contrast():"auto"),I("w-[9ch]",o.vertical()),f(),I("flex-col",o.vertical())("gap-2",!o.vertical())("leading-4",o.vertical()),f(),ee(o.parts())}}function Il(e,t){if(e&1){let o=W();p(0,"div",5),N("click",function(){q(o);let r=b();return Y(r.copy())}),x(1),d()}if(e&2){let o=b();f(),De(" ",o.full(),`
`)}}var Mt=class e{copyService=z(_t);colorModelName=v("rgb",{alias:"color-model-name"});values=v(void 0,{alias:"values",transform:t=>t??[0,0,0]});useContrast=v(!0,{alias:"use-contrast"});vertical=v(!1,{alias:"vertical"});full=j(()=>he[this.colorModelName()].convert(this.values()));parts=j(()=>he[this.colorModelName()].displayValues(this.values()??[0,0,0]));contrast=j(()=>Gt(this.full()));copy(){this.copyService.copy(this.full(),"Color copied!")}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-values-display"]],inputs:{colorModelName:[1,"color-model-name","colorModelName"],values:[1,"values"],useContrast:[1,"use-contrast","useContrast"],vertical:[1,"vertical"]},decls:2,vars:1,consts:[[1,"flex","justify-center","font-noto","cursor-copy","group","hover:opacity-100","opacity-85","underline-offset-2",3,"color","w-[9ch]"],[1,"w-[7ch]","flex","px-1","justify-center","font-noto","cursor-copy","hover:opacity-100","opacity-85","underline-offset-2","hover:underline","decoration-current/70"],[1,"flex","justify-center","font-noto","cursor-copy","group","hover:opacity-100","opacity-85","underline-offset-2",3,"click"],[1,"flex","w-fit"],[1,"group-hover:underline","decoration-current/70"],[1,"w-[7ch]","flex","px-1","justify-center","font-noto","cursor-copy","hover:opacity-100","opacity-85","underline-offset-2","hover:underline","decoration-current/70",3,"click"]],template:function(o,n){o&1&&P(0,Pl,4,10,"div",0)(1,Il,2,1,"div",1),o&2&&V(n.colorModelName()!=="hex"?0:1)},encapsulation:2,changeDetection:0})};var Nl=(e,t)=>({"border-white/40":e,"border-black/40":t});function Fl(e,t){if(e&1){let o=W();p(0,"input",1),N("change",function(){q(o);let r=b();return Y(r.updateColor())}),d()}if(e&2){let o=b();Ie(er(3,Nl,o.borderColor()==="white",o.borderColor()==="black")),g("formControl",o.colorControl)}}var Ao=class e{colorControl=void 0;value=v("#000000",{alias:"color",transform:t=>{let o=t??"#000000";return typeof o=="string"?o.startsWith("#")?o:`#${o}`:Fo(o)}});colorChange=new Yt;borderColor=H("");constructor(){de(()=>{this.colorControl?.setValue(this.value());let t=Gt(this.value());this.borderColor.set(t)})}ngOnInit(){let t=Gt(this.value());this.borderColor.set(t),this.colorControl=new Q(this.value(),{nonNullable:!0})}updateColor(){this.colorChange.emit(Qi(this.colorControl.value))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-selector"]],inputs:{value:[1,"color","value"]},outputs:{colorChange:"color-change"},decls:1,vars:1,consts:[["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"class","formControl"],["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"change","formControl"]],template:function(o,n){o&1&&P(0,Fl,1,6,"input",0),o&2&&V(n.colorControl?0:-1)},dependencies:[oe,Ne,ve,sr],encapsulation:2,changeDetection:0})};function Tl(e,t){if(e&1&&S(0,"zz-color-values-display",5),e&2){let o=b();g("values",o.state.rgb())("use-contrast",!1)}}var $o=class e{height=v(120);state=z($);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-sample"]],inputs:{height:[1,"height"]},decls:7,vars:11,consts:[["zz-container","",1,"max-w-[25ch]","rounded-lg"],["color-swatch","",1,"text-right","p-4","rounded-lg",3,"color-model","values"],[3,"color-change","color"],[1,"transition-all","text-smaller","justify-center","w-full","min-h-10","max-h-20","py-2","flex","flex-col","items-center","text-md","dark:text-gris-100","text-gris-700"],[1,"whitespace-nowrap","w-[25ch]","text-center","font-semibold",2,"font-variation-settings","'wght' 450",3,"color-model-name","use-contrast","values"],["color-model-name","rgb",1,"opacity-80","text-smaller",2,"line-height","1rem",3,"values","use-contrast"],["color-model-name","hex",1,"opacity-80","text-smaller",2,"line-height","1rem",3,"values","use-contrast"]],template:function(o,n){o&1&&(p(0,"div",0)(1,"div",1)(2,"zz-color-selector",2),N("color-change",function(i){return n.state.colorSelected(i)}),d()(),p(3,"div",3),S(4,"zz-color-values-display",4),P(5,Tl,1,2,"zz-color-values-display",5),S(6,"zz-color-values-display",6),d()()),o&2&&(f(),E("height",n.height(),"px"),g("color-model",n.state.colorConfig().colorModel)("values",n.state.currentColor()),f(),g("color",n.state.rgb()),f(2),g("color-model-name",n.state.colorConfig().colorModel.name)("use-contrast",!1)("values",n.state.currentColor()),f(),V(n.state.colorConfig().colorModel.name!=="rgb"?5:-1),f(),g("values",n.state.rgb())("use-contrast",!1))},dependencies:[oe,qe,Mt,Ao,wt],encapsulation:2,changeDetection:0})};var Ho=class e{value=null;unit="";length;nullValueText="";decimals=0;get text(){return this.value===null?this.nullValueText??"N/A":this.value.toFixed(this.decimals??0)+(this.unit??"")}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-field-value"]],inputs:{value:"value",unit:"unit",length:"length",nullValueText:"nullValueText",decimals:"decimals"},features:[X([it])],decls:2,vars:1,template:function(o,n){o&1&&(p(0,"div"),x(1),d()),o&2&&(f(),Ce(n.text))},encapsulation:2,changeDetection:0})};var Go=class e{controlPressed=H(!1);accent=v(!1);showTrack=v(!0);step=v(1,{alias:"zzStep",transform:t=>Math.max(Math.min(400,t??1),.001)});get stepCorregido(){return this.resolvedStep()}get current(){return this.value()}value=v(0,{alias:"zzValue",transform:t=>Math.max(Math.min(720,t??0),-720)});onControlKeyDown(t){this.controlPressed()||(this.controlPressed.set(!0),t.preventDefault())}onControlKeyUp(t){this.controlPressed()&&(this.controlPressed.set(!1),t.preventDefault())}resolvedStep=j(()=>{let t=this.step();return this.controlPressed()?10*t:t});static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["input","type","range","zz-slider",""]],hostAttrs:[1,"slider-slim"],hostVars:6,hostBindings:function(o,n){o&1&&N("keydown.control",function(i){return n.onControlKeyDown(i)})("keyup.control",function(i){return n.onControlKeyUp(i)}),o&2&&(Kt("step",n.stepCorregido)("value",n.current),I("slider-slim-track",n.showTrack())("slider-slim-accent",n.accent()))},inputs:{accent:[1,"accent"],showTrack:[1,"showTrack"],step:[1,"zzStep","step"],value:[1,"zzValue","value"]}})};var Oo=class e{length=v(void 0,{alias:"zz-text-length",transform:t=>{let o=Math.max(0,t??0);return Number.isInteger(o)?o:void 0}});get width(){return this.length()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-text-length",""],["zzTextLength"]],hostAttrs:[1,"truncate","select-none","opacity-95"],hostVars:2,hostBindings:function(o,n){o&2&&E("width",n.width,"ch")},inputs:{length:[1,"zz-text-length","length"]}})};function Bl(e,t){if(e&1&&S(0,"option",1),e&2){let o=t.$implicit;g("value",o)}}function El(e,t){if(e&1&&(p(0,"datalist",0),U(1,Bl,1,1,"option",1,Yn),d()),e&2){let o=b();g("id",o.id),f(),ee(o.values)}}var jo=class e{_values=[];id;set values(t){this._values=t.sort((o,n)=>o-n).reduce((o,n)=>(o.includes(n)||o.push(n),o),[])}get values(){return this._values}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-data-list"]],inputs:{id:"id",values:"values"},decls:1,vars:1,consts:[[3,"id"],[3,"value"]],template:function(o,n){o&1&&P(0,El,3,1,"datalist",0),o&2&&V(n.id?0:-1)},encapsulation:2,changeDetection:0})};var Ll=()=>[];function Rl(e,t){if(e&1){let o=W();p(0,"label",8),N("dblclick",function(){q(o);let r=b(2);return Y(r.control.reset())}),x(1),d()}if(e&2){let o=b(2);I("text-right",o.labelsReverse)("opacity-80",o.defaultValue!==void 0&&o.control.value===o.defaultValue),g("for",o.fieldName)("zz-text-length",o.labelLength),f(),De(" ",o.label," ")}}function Al(e,t){if(e&1&&S(0,"zz-field-value",9),e&2){let o,n,r=b(2);I("opacity-70",r.defaultValue!==void 0&&r.control.value===r.defaultValue),g("value",r.control.value)("length",(o=r.valueLength)!==null&&o!==void 0?o:10)("decimals",r.decimales)("unit",(n=r.unit)!==null&&n!==void 0?n:"")}}function $l(e,t){if(e&1&&(p(0,"div",2)(1,"div",3)(2,"div"),P(3,Rl,2,7,"label",4),d(),P(4,Al,1,6,"zz-field-value",5),d(),S(5,"input",6,0)(7,"zz-data-list",7),d()),e&2){let o,n,r=b();I("flex-col-reverse",!r.labelsAbove),g("formGroup",r.formGroup),f(),I("flex-row-reverse",r.labelsReverse),f(2),V(r.showLabel?3:-1),f(),V(r.showValue?4:-1),f(),g("zzStep",(o=r.step)!==null&&o!==void 0?o:1)("accent",r.defaultValue!==void 0&&r.control.value!==r.defaultValue)("formControlName",r.fieldName)("zzValue",r.control.value)("showTrack",r.showTrack())("min",r.min)("max",r.max),Zt("aria-label","Input for "+r.label)("list",r.fieldName+"-list"),f(2),g("id",r.fieldName+"-list")("values",(n=r.stops)!==null&&n!==void 0?n:Un(18,Ll))}}var St=class e{constructor(t){this._parentFormGroupDirective=t}fieldName="";labelsAbove=!0;labelsReverse=!1;label="";valueLength;unit="";showTrack=v(!0);min=0;max=10;step=1;stops=[];labelLength;_defaultValue=0;get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}_showLabel=!1;get showLabel(){return this._showLabel&&(this.labelLength??1)>0}set showLabel(t){this._showLabel=t}_showValue=!1;get showValue(){return this._showValue&&(this.valueLength??1)>0}set showValue(t){this._showValue=t}get decimales(){let t=0;if((this.step??1)!==1&&!Number.isInteger(this.step)&&(t=this.step.toString().split(".")[1]?.length??0),(this.min??0)!==0&&!Number.isInteger(this.min)){let o=this.min.toString();t=Math.max(t,o.split(".")[1]?.length??0)}if((this.max??10)!==10&&!Number.isInteger(this.max)){let o=this.max.toString();t=Math.max(t,o.split(".")[1]?.length??0)}return t}get formGroup(){return this._parentFormGroupDirective?.control}get control(){return this._parentFormGroupDirective?.control.controls[this.fieldName]}static \u0275fac=function(o){return new(o||e)(Xt(le,8))};static \u0275cmp=_({type:e,selectors:[["zz-slider-field"]],inputs:{fieldName:"fieldName",labelsAbove:[0,"labels-above","labelsAbove"],labelsReverse:[0,"labels-reverse","labelsReverse"],label:"label",valueLength:"valueLength",unit:"unit",showTrack:[1,"showTrack"],min:"min",max:"max",step:"step",stops:"stops",labelLength:"labelLength",defaultValue:"defaultValue",showLabel:"showLabel",showValue:"showValue"},decls:1,vars:1,consts:[["slider",""],[1,"w-full","p-1","flex","flex-col","select-none",3,"flex-col-reverse","formGroup"],[1,"w-full","p-1","flex","flex-col","select-none",3,"formGroup"],[1,"flex","flex-row","items-base","justify-between"],[3,"for","zz-text-length","text-right","opacity-80"],[3,"value","length","decimals","unit","opacity-70"],["zz-slider","","type","range",3,"zzStep","accent","formControlName","zzValue","showTrack","min","max"],[3,"id","values"],[3,"dblclick","for","zz-text-length"],[3,"value","length","decimals","unit"]],template:function(o,n){o&1&&P(0,$l,8,19,"div",1),o&2&&V(n.control?0:-1)},dependencies:[oe,Ne,ar,ve,fe,le,Fe,Go,Ho,Oo,jo],encapsulation:2,changeDetection:0})};var zt=class e{colorConfig=v(void 0,{alias:"color-config"});height=v(30,{transform:t=>{if(t===void 0)return 30;let o=Number.isInteger(t)?t:30;return Math.max(1,Math.min(400,o))}});currentColor=v(void 0,{alias:"current-color"});gradient=void 0;colorSpaces={oklch:"oklch",rgb:"srgb",hsl:"hsl",hex:"srgb"};ngOnInit(){this.gradient=j(()=>{let t=this.colorConfig();if(!t)return"";let o=t.colorModel,n=this.currentColor()??o.defaultValues(),r=100/(t.variable.axisValues.length-1),i=t.variable.axisValues.map((a,l)=>{let s=ae({},n);return s[t.variableIndex]=a,`${o.convert(s)} ${(l*r).toFixed(2)}%`});return`linear-gradient(to right in ${this.colorSpaces[o.name]}, ${i})`})}static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-color-axis",""]],hostVars:4,hostBindings:function(o,n){o&2&&E("height",n.height(),"px")("background",n.gradient())},inputs:{colorConfig:[1,"color-config","colorConfig"],height:[1,"height"],currentColor:[1,"current-color","currentColor"]}})};function Hl(e,t){if(e&1&&(p(0,"div",1)(1,"span",2),x(2,"arrow_range"),d()(),S(3,"zz-slider-field",3)(4,"div",4)(5,"zz-slider-field",5)),e&2){b();let o=Wt(1),n=b();f(3),g("showTrack",!1)("min",o.variable.range.min)("max",o.variable.range.max)("step",o.variable.valueStep)("label",o.variable.name.caption)("defaultValue",o.variable.range.max)("showLabel",!0)("labelLength",10)("unit",o.variable.unit)("showValue",!0)("valueLength",9),f(),g("color-config",o)("current-color",n.currentColor())("height",n.height()),f(),g("showTrack",!1)("labels-above",!1)("labels-reverse",!0)("min",o.variable.range.min)("max",o.variable.range.max)("step",o.variable.valueStep)("label",o.variable.name.caption)("defaultValue",o.variable.range.min)("showLabel",!1)("labelLength",10)("unit",o.variable.unit)("showValue",!0)("valueLength",9)}}function Gl(e,t){if(e&1&&(p(0,"form",0),ke(1),P(2,Hl,6,27),d()),e&2){let o=b();g("formGroup",o.formDual),f();let n=Jt(o.state.colorConfig());f(),V(n?2:-1)}}var qo=class e{state=z($);currentColor=v(void 0,{alias:"current-color"});height=v(30,{transform:t=>{if(t===void 0)return 30;let o=Number.isInteger(t)?t:30;return Math.max(1,Math.min(400,o))}});rangeChange=new Yt;formDual=void 0;constructor(){de(()=>{this.formDual?.patchValue({min:this.state.colorConfig().range.min,max:this.state.colorConfig().range.max},{emitEvent:!0})})}ngOnInit(){this.formDual=new ye({min:new Q(this.state.colorConfig().range.min,{nonNullable:!0}),max:new Q(this.state.colorConfig().range.max,{nonNullable:!0})}),this.formDual.valueChanges.subscribe(t=>{this.rangeChange.emit({min:t.min??this.formDual?.controls.min.value??0,max:t.max??this.formDual?.controls.max.value??0})})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-dual-axis-slider"]],hostAttrs:[1,"block","w-full"],inputs:{currentColor:[1,"current-color","currentColor"],height:[1,"height"]},outputs:{rangeChange:"rangeChange"},decls:1,vars:1,consts:[[1,"relative","select-none",3,"formGroup"],[1,"absolute","left-1/2","-top-1"],["zz-icon","",1,"leading-2"],["fieldName","max",1,"relative","z-2","font-bold",3,"showTrack","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],["zz-color-axis","",1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","current-color","height"],["fieldName","min",1,"relative","z-2","-mt-2.5","block",3,"showTrack","labels-above","labels-reverse","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"]],template:function(o,n){o&1&&P(0,Gl,3,3,"form",0),o&2&&V(n.formDual!==void 0?0:-1)},dependencies:[St,zt,oe,xe,fe,le,Te],encapsulation:2,changeDetection:0})};var Ol=(e,t,o,n,r)=>({colorModel:e,variable:t,variableIndex:o,color:n,range:r});function jl(e,t){if(e&1){let o=W();p(0,"zz-dual-axis-slider",4),N("rangeChange",function(r){q(o);let i=b(3);return Y(i.onVariableChange(r))}),d()}if(e&2){let o=b(3);g("current-color",o.state.currentColor())("height",o.height)}}function ql(e,t){if(e&1&&S(0,"zz-slider-field",5)(1,"div",6),e&2){let o=b().$implicit,n=Wt(0),r=b(),i=b();g("showTrack",!1)("fieldName","v"+o)("min",n.range.min)("max",n.range.max)("step",n.valueStep)("label",n.name.caption)("defaultValue",n.defaultValue)("showLabel",!0)("labelLength",10)("unit",n.unit)("showValue",!0)("valueLength",9),f(),g("color-config",tr(15,Ol,r.colorModel,n,o,i.state.currentColor(),r.range))("current-color",i.state.currentColor())("height",i.height)}}function Yl(e,t){if(e&1&&(ke(0),p(1,"div"),P(2,jl,1,2,"zz-dual-axis-slider",3)(3,ql,2,21),d()),e&2){let o=t.$implicit,n=b(),r=b();Jt(n.colorModel.components[o]),f(),E("min-height",70+r.height,"px"),f(),V(o===n.variableIndex?2:3)}}function Xl(e,t){if(e&1&&(p(0,"form",1),U(1,Yl,4,4,"div",2,be),d()),e&2){let o=b();g("formGroup",o.configGroup),f(),ee(o.indices)}}var Yo=class e{state=z($);height=30;indices=[0,1,2];configGroup=void 0;constructor(){de(()=>{let t=this.state.colorConfig();this.configGroup?.patchValue({v0:t.color[0],v1:t.color[1],v2:t.color[2]},{emitEvent:!0})})}ngOnInit(){let t=this.state.colorConfig().color??[0,0,0];this.configGroup=new ye({v0:new Q(t[0],{nonNullable:!0}),v1:new Q(t[1],{nonNullable:!0}),v2:new Q(t[2],{nonNullable:!0})}),this.configGroup.valueChanges.subscribe(()=>{let{v0:o,v1:n,v2:r}=this.configGroup?.value??{v0:0,v1:0,v2:0},i=[o,n,r];this.state.colorChanged(i)})}onVariableChange(t){this.state.rangeChanged(t),this.configGroup.patchValue({["v"+this.state.colorConfig().variableIndex]:(t.min+t.max)/2},{emitEvent:!0})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-range-selector"]],decls:2,vars:1,consts:[[1,"h-fit",2,"background-color","none !important","border-width","0px !important"],[1,"min-w-fit","h-fit",3,"formGroup"],[3,"minHeight"],[1,"block",3,"current-color","height"],[1,"block",3,"rangeChange","current-color","height"],[1,"relative","z-2",3,"showTrack","fieldName","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],["zz-color-axis","",1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","current-color","height"]],template:function(o,n){if(o&1&&(p(0,"div",0),P(1,Xl,3,1,"form",1),d()),o&2){let r;f(),V((r=n.state.colorConfig())?1:-1,r)}},dependencies:[St,we,xe,fe,oe,le,zt,qo],encapsulation:2,changeDetection:0})};function Zl(e,t){if(e&1&&(p(0,"div",4),S(1,"zz-color-values-display",5),d()),e&2){let o=b().$implicit,n=b(3);f(),g("color-model-name",n.colorModel().name)("values",o.valores)("vertical",!0)}}function Kl(e,t){if(e&1&&(p(0,"div",4),S(1,"zz-color-values-display",6),d()),e&2){let o=b().$implicit;f(),g("values",o.rgbValues)("vertical",!0)}}function Jl(e,t){if(e&1&&(p(0,"div",4),S(1,"zz-color-values-display",7),d()),e&2){let o=b().$implicit;f(),g("values",o.rgbValues)("vertical",!0)}}function Wl(e,t){if(e&1&&(p(0,"div",2)(1,"div",3),x(2," \u26A0 "),d(),ke(3),P(4,Zl,2,3,"div",4)(5,Kl,2,2,"div",4)(6,Jl,2,2,"div",4),d()),e&2){let o=t.$implicit,n=b(2),r=b();g("shadow",!n.flat)("roundedSize",n.flat?"none":"large")("color-model",r.colorModel())("values",o.valores),f(),I("opacity-60",o.clamp);let i=r.state.paletteValuesConfig();f(3),V(i.showValues==="yes"?4:-1),f(),V(i.showValues==="rgb"?5:-1),f(),V(i.showValues==="hex"?6:-1)}}function Ql(e,t){if(e&1&&(p(0,"div",1),U(1,Wl,7,9,"div",2,be),d()),e&2){let o=b();E("height",o.height,"px"),I("space-x-1",o.separate),f(),ee(t.swatches)}}function Ul(e,t){if(e&1&&P(0,Ql,3,4,"div",0),e&2){let o,n=b();V((o=n.palette())?0:-1,o)}}var Xo=class e{state=z($);palette=v(void 0);colorModel=j(()=>{let t=this.palette()?.model;if(t)return he[t]});static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"space-x-1","height"],[1,"flex","flex-row","justify-between"],["color-swatch-panel","",1,"axis-swatch",3,"shadow","roundedSize","color-model","values"],[1,"text-larger-2","absolute","select-none","bottom-1","right-2","opacity-0","transition-opacity","duration-500","ease-in-out"],[1,"text-smaller-1"],[3,"color-model-name","values","vertical"],["color-model-name","rgb",3,"values","vertical"],["color-model-name","hex",3,"values","vertical"]],template:function(o,n){if(o&1&&P(0,Ul,1,1),o&2){let r;V((r=n.state.paletteVisualConfig())?0:-1,r)}},dependencies:[mo,Mt],encapsulation:2,changeDetection:0})};function ec(e,t){e&1&&(p(0,"span",2),x(1,"WARN"),d())}function tc(e,t){e&1&&(p(0,"span",3),x(1,"OK"),d())}var Zo=class e{notificationService=z(Le);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-notification"]],decls:7,vars:10,consts:[[1,"fixed","duration-200","m-auto","z-35","scale-0","left-0","right-0","w-fit","shadow-lg","shadow-black/30","dark:shadow-black/60","transition-all","ease-out"],[1,"rounded-lg","w-64","flex","bg-gris-50","dark:bg-gris-800","items-center","gap-4","pl-2","py-3"],[1,"dark:bg-orange-500","bg-orange-400","font-museo-moderno","font-semibold","text-white","p-0.5","px-1.5","text-smaller-3","rounded-lg"],[1,"dark:bg-green-700","bg-green-600","font-museo-moderno","font-semibold","text-white","p-0.5","px-1.5","text-smaller-2","rounded-lg"],[1,"w-full"],[1,"fixed","top-0","left-0","z-30","bg-black/10","dark:bg-black/20","block","opacity-100","w-screen","h-screen"]],template:function(o,n){o&1&&(p(0,"div",0)(1,"div",1),P(2,ec,2,0,"span",2)(3,tc,2,0,"span",3),p(4,"span",4),x(5),d()()(),S(6,"div",5)),o&2&&(I("-top-12",!n.notificationService.showNotification())("top-8",n.notificationService.showNotification())("scale-100",n.notificationService.showNotification()),f(2),V(n.notificationService.notificationMessage().type==="warn"?2:3),f(3),Ce(n.notificationService.notificationMessage().message),f(),I("hidden",!n.notificationService.showNotification()))},encapsulation:2,changeDetection:0})};var Ko=class e{store=z(Re);state=z($);copyService=z(_t);save(){this.store.save(this.state.currentPaletteInfo())}lock(){this.store.lock(this.state.currentPaletteInfo())}unlock(){this.store.unlock()}copy(){let t=this.paletteValues(this.state.palette());this.copyService.copy(t,"Palette colors copied!")}paletteValues(t){let o=[],n=[],r=[];for(let l of t.swatches)o.push(l.rgb),n.push(Fo(l.rgbValues)),r.push(l.color);let i=r.join(`\r
`),a=n.join(`\r
`);if(i?.startsWith("rgb"))return`${i}\r
\r
${a}`;{let l=o.join(`\r
`);return`${i}\r
\r
${l}\r
\r
${a}`}}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palette-actions"]],decls:13,vars:1,consts:[[1,"flex","items-center"],["zz-icon-button","","title","Lock palette",1,"not-disabled:text-green-600","icon-bold","dark:not-disabled:text-green-400","bg-transparent","hover:bg-transparent","opacity-80","hover:opacity-100","transition-opacity",3,"click"],["zz-icon",""],["zz-icon-button","","title","Unlock palette",1,"not-disabled:text-red-600","icon-bold","dark:not-disabled:text-red-500","bg-transparent","hover:bg-transparent","opacity-80","hover:opacity-100","transition-opacity",3,"click","zzDisabled"],["zz-icon-button","","title","Save palette",1,"opacity-80","hover:opacity-100","transition-opacity","bg-transparent","hover:bg-transparent",3,"click"],["zz-icon-button","","title","Copy palette values",1,"opacity-80","hover:opacity-100","transition-opacity","bg-transparent","hover:bg-transparent",3,"click"]],template:function(o,n){o&1&&(p(0,"div",0)(1,"button",1),N("click",function(){return n.lock()}),p(2,"span",2),x(3,"cached"),d()(),p(4,"button",3),N("click",function(){return n.unlock()}),p(5,"span",2),x(6,"sync_disabled"),d()(),p(7,"button",4),N("click",function(){return n.save()}),p(8,"span",2),x(9,"save"),d()(),p(10,"button",5),N("click",function(){return n.copy()}),p(11,"span",2),x(12,"content_copy"),d()()()),o&2&&(f(4),g("zzDisabled",n.store.lockedPalette()===void 0))},dependencies:[ct,Te],encapsulation:2,changeDetection:0})};var Dt=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["","zz-input",""],["zzInput"]],hostAttrs:[1,"py-1","ring-none","px-1","transition-all","transition-discrete","focus:px-0","focus:[&::-webkit-inner-spin-button]:block","[&::-webkit-inner-spin-button]:hidden","outline-none","border-b-1","border-b-gris-500/80","dark:focus:border-b-sky-600","focus:border-b-sky-600","w-12","text-right","dark:text-gris-100","text-gris-900","invalid:dark:border-b-red-500","invalid:border-b-red-700","dark:bg-gris-900"],features:[X([_e,{directive:Be,inputs:["zz-disabled","zzDisabled"]}])]})};function oc(e,t){if(e&1&&(p(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),x(4,"Steps:"),d(),S(5,"input",4),d(),p(6,"label",5),S(7,"input",6),p(8,"span"),x(9,"Auto"),d()()()()),e&2){let o=b();g("formGroup",o.configGroup),f(5),g("zzDisabled",o.configGroup.controls.steps.disabled)("min",2)("max",100)}}var Jo=class e{state=z($);configGroup=void 0;constructor(){de(()=>{let t=this.state.paletteStepsConfig();t.steps!==this.configGroup?.controls.steps.value&&this.configGroup?.controls.steps.setValue(t.steps,{emitEvent:!1}),t.automatic!==this.configGroup?.controls.automatic.value&&this.configGroup?.controls.automatic.setValue(t.automatic,{emitEvent:!1})})}ngOnInit(){let t=this.state.paletteStepsConfig();this.configGroup=new ye({steps:new Q(t.steps,{nonNullable:!0,validators:[ot.min(2),ot.max(100)]}),automatic:new Q(t.automatic,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(We(30),Qe((o,n)=>o.steps===n.steps&&o.automatic===n.automatic),Ue(this.configGroup.value)).subscribe(o=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteStepsConfigChanged({steps:o.steps??n.steps.value,automatic:o.automatic??n.automatic.value})})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palette-steps-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-2",2,"line-height","0.9rem"],[1,"flex","flex-row","items-center"],["for","steps",1,"select-none"],["type","number","id","steps","zz-input","","formControlName","steps","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","formControlName","automatic",1,"simple-check"]],template:function(o,n){o&1&&P(0,oc,10,4,"form",0),o&2&&V(n.configGroup?0:-1)},dependencies:[we,xe,Ne,Ut,Qt,ve,fe,to,eo,oe,le,Fe,Dt],encapsulation:2,changeDetection:0})};var Wo=class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=M({type:e,selectors:[["select","zz-select",""],["zzSelect"]],hostAttrs:[1,"select-slim"],features:[X([_e,{directive:Be,inputs:["zz-disabled","zzDisabled"]}])]})};var nc=["valor"];function rc(e,t){if(e&1&&(p(0,"option",2),x(1),d()),e&2){let o=t.$implicit,n=b();g("value",o)("selected",n.value&&o[n.displayKey()]===n.value[n.displayKey()]),f(),De(" ",o[n.displayKey()]," ")}}var Qo=class e{constructor(t){this._elementRef=t}trackValue(t,o){let n=o[this.displayKey()]?.toString();return n?t+"-"+n:t.toString()}static nextId=0;controlType="select";valorInput;id=`${this.controlType}-${e.nextId++}`;selectId=`${this.id}-select`;userAriaDescribedBy;items=v([]);displayKey=v.required();upperCase=v(!1);get disabled(){return this._disabled}set disabled(t){this._disabled=t}_disabled=!1;get value(){return this._value}set value(t){this._value=t,this.touched||this.writeValue(t)}_value=void 0;_renderer=z(jn);onValueChange(t){let o=t.target.selectedIndex;this.value=this.items()[o],this.onChange(this._value),t.stopPropagation()}touched=!1;onFocusOut(t){this.touched=!0,this.onTouched?.call(this)}writeValue(t){if(this._value=t,t){let o=t[this.displayKey()],n=this.items().findIndex(i=>i[this.displayKey()]===o);n=n===-1?0:n;let r=this.valorInput?.nativeElement.querySelector(`option:nth-of-type(${n+1})`);this._renderer.setProperty(r,"selected","selected")}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t}onChange=t=>{};onTouched=()=>{};static \u0275fac=function(o){return new(o||e)(Xt(On))};static \u0275cmp=_({type:e,selectors:[["zz-select"]],viewQuery:function(o,n){if(o&1&&Xn(nc,7),o&2){let r;Zn(r=Kn())&&(n.valorInput=r.first)}},hostVars:2,hostBindings:function(o,n){o&2&&Kt("id",n.id)("selectId",n.selectId)},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],items:[1,"items"],displayKey:[1,"displayKey"],upperCase:[1,"upperCase"],disabled:"disabled",value:"value"},features:[Qn([{provide:ir,useExisting:Gn(()=>e),multi:!0}])],decls:4,vars:4,consts:[["valor",""],["zz-select","",1,"select-slim","py-1","pl-2","pr-1","group","cursor-pointer","transition-all","ease-in-out","text-gris-900","group-focus-within:text-black","dark:bg-gris-900","dark:text-gris-100","group-focus-within:dark:text-white",3,"focusout","change","zzDisabled","id"],[1,"select-slim-option",3,"value","selected"]],template:function(o,n){if(o&1){let r=W();p(0,"select",1,0),N("focusout",function(a){return q(r),Y(n.onFocusOut(a))})("change",function(a){return q(r),Y(n.onValueChange(a))}),U(2,rc,2,3,"option",2,n.trackValue,!0),d()}o&2&&(I("uppercase",n.upperCase()),g("zzDisabled",n.disabled)("id",n.selectId),f(2),ee(n.items()))},dependencies:[rr,we,lr,cr,Wo],encapsulation:2,changeDetection:0})};function ic(e,t){if(e&1&&(p(0,"form",1)(1,"div",2)(2,"label",3),x(3,"Values:"),d(),S(4,"zz-select",4,0),d()()),e&2){let o=Jn(5),n=b();g("formGroup",n.configGroup),f(2),g("for",o.selectId),f(2),g("items",n.state.showValuesOptions)}}var Uo=class e{state=z($);configGroup=void 0;ngOnInit(){let t=this.state.paletteValuesConfig(),o=this.state.showValuesOption(t.showValues);this.configGroup=new ye({showValues:new Q(o,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(We(30),Qe((n,r)=>n.showValues?.value===r.showValues?.value),Ue(this.configGroup.value)).subscribe(n=>{let r=this.configGroup?.controls;r&&this.configGroup?.valid&&this.state.paletteValuesConfigChanged({showValues:n.showValues?.value??r.showValues.value.value})})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palette-values-config"]],decls:1,vars:1,consts:[["showValues",""],[3,"formGroup"],[1,"flex","flex-row","items-center",2,"line-height","0.9rem"],[1,"select-none",3,"for"],["displayKey","text","formControlName","showValues",1,"w-16",3,"items"]],template:function(o,n){o&1&&P(0,ic,6,3,"form",1),o&2&&V(n.configGroup?0:-1)},dependencies:[we,xe,ve,fe,oe,le,Fe,Qo],encapsulation:2,changeDetection:0})};function ac(e,t){if(e&1&&(p(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),x(4,"Height:"),d(),S(5,"input",4),d(),p(6,"label",5),S(7,"input",6),p(8,"span"),x(9,"Flat"),d()(),p(10,"label",5),S(11,"input",7),p(12,"span"),x(13,"Separate"),d()()()()),e&2){let o=b();g("formGroup",o.configGroup),f(5),g("zzDisabled",o.configGroup.controls.height.disabled)("min",1)("max",180)}}var en=class e{state=z($);configGroup=void 0;ngOnInit(){let t=this.state.paletteVisualConfig();this.configGroup=new ye({height:new Q(t.height,{nonNullable:!0,validators:[ot.min(1),ot.max(180)]}),flat:new Q(t.flat,{nonNullable:!0}),separate:new Q(t.separate,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(We(30),Qe((o,n)=>o.height===n.height&&o.flat===n.flat&&o.separate===n.separate),Ue(this.configGroup.value)).subscribe(o=>{let n=this.configGroup?.controls;n&&this.configGroup?.valid&&this.state.paletteVisualConfigChanged({height:o.height??n.height.value,flat:o.flat??n.flat.value,separate:o.separate??n.separate.value})})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palette-visual-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-4",2,"line-height","0.9rem"],[1,"flex","flex-row","items-center"],["for","height",1,"select-none"],["type","number","id","height","zz-input","","formControlName","height","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","formControlName","flat",1,"simple-check"],["type","checkbox","formControlName","separate",1,"simple-check"]],template:function(o,n){o&1&&P(0,ac,14,4,"form",0),o&2&&V(n.configGroup?0:-1)},dependencies:[we,xe,Ne,Ut,Qt,ve,fe,to,eo,oe,le,Fe,Dt],encapsulation:2,changeDetection:0})};var tn=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palette-menu"]],decls:7,vars:0,consts:[[1,"@container","flex"],[1,"flex","items-center","justify-start","w-full","gap-6","@max-[760px]:items-start","@max-[760px]:flex-col","@max-[760px]:gap-2"],[1,"opacity-80","hover:opacity-100"],[1,"flex","items-center","justify-end","w-full","gap-6","@max-[760px]:items-end","@max-[760px]:flex-col","@max-[760px]:gap-2"]],template:function(o,n){o&1&&(p(0,"div",0)(1,"div",1),S(2,"zz-palette-steps-config",2)(3,"zz-palette-visual-config",2),d(),p(4,"div",3),S(5,"zz-palette-values-config",2)(6,"zz-palette-actions"),d()())},dependencies:[Jo,en,Uo,Ko],encapsulation:2,changeDetection:0})};function sc(e,t){e&1&&S(0,"zz-color-palette",8),e&2&&g("palette",t.palette)}var oa=class e{state=z($);store=z(Re);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["zz-palettes"]],hostAttrs:["styles","display: block;  height: 100vh;  width: 100vw;  overflow-x: hidden;"],decls:15,vars:3,consts:[[1,"bg-application","w-screen","h-screen","overflow-x-hidden"],[1,"sticky","bg-application","z-20","top-0","left-0","right-0","shadow-md","dark:shadow-black/60"],[1,"grid","grid-rows-[minmax(min-content,200px)_auto]","grid-cols-[200px_auto]","lg:grid-cols-[200px_auto_200px]","gap-4","px-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"col-1","lg:col-3","row-1","pt-4"],[1,"block","w-full","h-fit",3,"height"],[1,"col-1","row-2","lg:row-1","lg:pt-4"],[1,"min-w-36","w-full","pt-3","pl-4","pr-0","lg:pr-4","relative","col-2","row-span-2"],[1,"mt-6","mb-2"],[1,"block","pb-4",3,"palette"]],template:function(o,n){if(o&1&&(p(0,"div",0)(1,"div",1),S(2,"zz-palettes-header"),d(),p(3,"main",2)(4,"div",3),S(5,"zz-color-sample",4),d(),p(6,"div",5),S(7,"zz-color-menu"),d(),p(8,"div",6),S(9,"zz-color-range-selector"),p(10,"div",7),S(11,"zz-palette-menu"),d(),S(12,"zz-color-palette",8),P(13,sc,1,1,"zz-color-palette",8),d()()(),S(14,"zz-notification")),o&2){let r;f(5),g("height",150),f(7),g("palette",n.state.palette()),f(),V((r=n.store.lockedPalette())?13:-1,r)}},dependencies:[Lo,Ro,$o,Yo,Xo,Zo,tn],encapsulation:2,changeDetection:0})};export{oa as PalettesComponent};
