import{$a as Oo,A as No,Aa as Ne,Ba as L,Ca as N,Eb as Zo,Fb as Jo,G as Lo,Gb as je,Ha as Et,Hb as vt,Ia as y,Ib as Ye,Ja as S,Jb as Me,Ka as $,Kb as qe,L as Vo,La as ue,Lb as q,M as He,Ma as I,Mb as Xe,Na as $e,Nb as Wo,Oa as Po,Ob as Ko,Pa as ee,Pb as Qo,Qa as te,Qb as we,R as j,Ra as f,Rb as Ot,Sa as h,Sb as Uo,Ta as T,Tb as er,Ua as de,Ub as tr,Va as Pt,Vb as nr,Wa as A,Wb as Ze,X as ie,Xa as w,Xb as le,Y as ae,Ya as Ao,Z as Ie,Za as Ho,_a as $o,a as Pe,ab as k,b as Io,ba as Lt,bb as ve,c as Ae,cb as se,db as Ce,ea as Ro,eb as At,fa as C,fb as Ht,ga as Vt,gb as Go,ha as K,hb as jo,ib as Yo,jb as bt,kb as qo,lb as Oe,mb as Ge,pa as p,rb as J,sa as Rt,sb as pe,ta as Fe,va as Eo,x as Fo,ya as _,yb as $t,za as g,zb as Xo}from"./chunk-3OPULTSB.js";var Ct=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-display-base",""],["zzDisplayBase"]],hostVars:2,hostBindings:function(n,o){n&2&&ue(o.tipo)}})},fe=class e extends Ct{tipo="inline-block";static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ie(e)))(o||e)}})();static \u0275dir=g({type:e,selectors:[["","zz-inline-block",""],["zzInlineBlock"]],features:[Ne]})},Je=class e extends Ct{tipo="block";static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ie(e)))(o||e)}})();static \u0275dir=g({type:e,selectors:[["","zz-block",""],["zzBlock"]],features:[Ne]})},Gt=class e extends Ct{tipo="flex";static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ie(e)))(o||e)}})();static \u0275dir=g({type:e,selectors:[["","zz-flex",""],["zzFlex"]],features:[Ne]})};var We=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["span","zz-icon",""]],hostAttrs:[1,"font-icons","text-larger-5","min-w-10","w-10","aspect-square","content-center"],features:[L([fe])]})};var Ke=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-appearance-none",""],["zzAppearanceNone"]],hostAttrs:[1,"appearance-none"]})},jt=class e{get estilos(){return"base-select"}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-appearance-base-select",""],["zzAppearanceBaseSelect"]],hostVars:2,hostBindings:function(n,o){n&2&&S("appearance",o.estilos)}})};var Qe=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-select-none",""],["zzSelectNone"]],hostAttrs:[1,"select-none"]})};var ze=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-transition-default",""],["zzTransitionDefault"]],hostAttrs:[1,"transition-all"]})};var Yt=class e{get backgroundColor(){return`var(--${this.varname})`}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-background-base",""],["zzBackgroundBase"]],hostVars:2,hostBindings:function(n,o){n&2&&S("background-color",o.backgroundColor)}})},qt=class e extends Yt{varname="bg-container";static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ie(e)))(o||e)}})();static \u0275dir=g({type:e,selectors:[["","zz-container-background",""],["zzContainerBackground"]],features:[Ne]})},Xt=class e extends Yt{varname="bg-button";static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ie(e)))(o||e)}})();static \u0275dir=g({type:e,selectors:[["","zz-button-background",""],["zzButtonBackground"]],features:[Ne]})};var Zt=class e{get estilos(){return"hidden"}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-overflow-hidden",""],["zzOverflowHidden"]],hostVars:2,hostBindings:function(n,o){n&2&&S("overflow",o.estilos)}})},Jt=class e{get estilos(){return"visible"}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-overflow-visible",""],["zzOverflowVisible"]],hostVars:2,hostBindings:function(n,o){n&2&&S("overflow",o.estilos)}})},Wt=class e{get estilos(){return"hidden"}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-overflow-y-hidden",""],["zzOverflowYHidden"]],hostVars:2,hostBindings:function(n,o){n&2&&S("overflow-y",o.estilos)}})};var Qi=.125,Ue=class e{radius=C("small",{alias:"zz-rounded",transform:t=>{let n=(t??"none").toLowerCase().trim();return n==="none"?"none":n==="normal"?"normal":n==="large"?"large":"small"}});get estilos(){let t=this.radius();if(t!=="none")return Qi*(t==="normal"?3:t==="small"?2:4)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-rounded",""],["zzRounded"]],hostVars:2,hostBindings:function(n,o){n&2&&S("border-radius",o.estilos,"rem")},inputs:{radius:[1,"zz-rounded","radius"]},features:[L([Zt])]})};var Kt=class e{hover=K(!1);onMouseEnter(){this.hover.set(!0)}onMouseOut(){this.hover.set(!1)}get backgroundColor(){if(this.hover())return"var(--bg-button-hover)"}get opacity(){if(this.hover())return"1"}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-button-hover",""],["zzButtonHover"]],hostVars:4,hostBindings:function(n,o){n&1&&A("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseOut()}),n&2&&S("background-color",o.backgroundColor)("opacity",o.opacity)}})};var Qt=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-opacity-95",""],["zzOpacity95"]],hostAttrs:[1,"opacity-95"]})};var Ut=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-active",""],["zzActive"]],hostAttrs:[1,"active:not-disabled:scale-90"]})};var en=class e{enabled=C(void 0,{alias:"show-focus-ring",transform:t=>t??!0});clases=J(()=>this.enabled()?`
          group-focus-within:ring-2 group-focus-within:ring-offset-0
          ring-gris-600/50 outline-none  
          dark:ring-gris-300/60
          focus:ring-2 focus:ring-offset-0
        `:"");static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-focus-ring",""],["zzFocusRing"]],hostVars:2,hostBindings:function(n,o){n&2&&ue(o.clases())},inputs:{enabled:[1,"show-focus-ring","enabled"]}})};var _e=class e{state=C(!1,{alias:"zz-disabled"});get opacity(){return this.state()?"0.5":void 0}get cursor(){return this.state()?"not-allowed":void 0}get userSelect(){return this.state()?"none":void 0}get shadow(){return this.state()?"0 0 #0000":void 0}get isDisabled(){return this.state().toString()==="true"?"":void 0}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-disabled",""],["zzDisabled"]],hostVars:9,hostBindings:function(n,o){n&2&&(Et("disabled",o.isDisabled),S("opacity",o.opacity)("cursor",o.cursor)("user-select",o.userSelect)("shadow",o.shadow))},inputs:{state:[1,"zz-disabled","state"]}})};var tn=class e{onClick(t){t.preventDefault(),t.stopImmediatePropagation()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-button",""]],hostAttrs:[1,"min-w-fit","mx-0.5"],hostBindings:function(n,o){n&1&&A("click",function(i){return o.onClick(i)})},features:[L([Ke,fe,Qe,ze,Xt,{directive:Ue,inputs:["zz-rounded","roundedSize"]},Kt,Qt,Ut,{directive:en,inputs:["show-focus-ring","focus-ring"]},{directive:_e,inputs:["zz-disabled","zzDisabled"]}])]})};var nn=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-icon-button",""]],features:[L([tn])]})};var ia=["zz-icon-toggle-button",""],on=class e{value=Eo(!0);toggle=Ro();trueIcon=C("radio_button_checked",{transform:t=>t?.trim()||"radio_button_checked"});falseIcon=C("radio_button_unchecked",{transform:t=>t?.trim()||"radio_button_unchecked"});iconName=J(()=>this.value()?this.trueIcon():this.falseIcon());onClick(t){this.value.update(n=>!n),this.toggle.emit(this.value()),t.stopPropagation()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["button","zz-icon-toggle-button",""]],hostBindings:function(n,o){n&1&&A("click",function(i){return o.onClick(i)})},inputs:{value:[1,"value"],trueIcon:[1,"trueIcon"],falseIcon:[1,"falseIcon"]},outputs:{value:"valueChange",toggle:"toggle"},features:[L([nn])],attrs:ia,decls:2,vars:1,consts:[["zz-icon",""]],template:function(n,o){n&1&&(f(0,"span",0),k(1),h()),n&2&&(p(),ve(o.iconName()))},dependencies:[We],encapsulation:2,changeDetection:0})};var rn=class e{darkMode=K(!1);setDarkMode(t){this.darkMode.set(t)}constructor(){pe(()=>this.apply(this.darkMode()))}apply(t){t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.querySelector("meta[name='color-scheme']")?.setAttribute("content",t?"dark":"light")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})};var an=class e{darkModeService=j(rn);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-dark-mode-toggle"]],decls:1,vars:2,consts:[["zz-icon-toggle-button","","falseIcon","dark_mode","trueIcon","light_mode",1,"m-1",2,"background-color","transparent !important",3,"toggle","focus-ring","value"]],template:function(n,o){n&1&&(f(0,"button",0),A("toggle",function(i){return o.darkModeService.setDarkMode(i)}),h()),n&2&&y("focus-ring",!1)("value",o.darkModeService.darkMode())},dependencies:[on],encapsulation:2})};var sn=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-palettes-header"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","max-w-[1600px]","leading-8"],[1,"text-3xl","m-0","font-museo-moderno","leading-7","text-orange-600","dark:text-orange-500"]],template:function(n,o){n&1&&(f(0,"header")(1,"nav",0)(2,"h1",1),k(3,"CoLoRina"),h(),T(4,"zz-dark-mode-toggle"),h()())},dependencies:[an],encapsulation:2,changeDetection:0})};var ce=class e{constructor(t,n,o,r="",i=0,a=100,l=0){this.name=t;this.label=n;this.max=o;this.unit=r;this.precision=i;this.autoSteps=a;this.min=l;this.defaultValue=this.average(l,o),this.axisValues=this.calcAxisValues(l,o,e.axisSteps),this.stepSize=(o-l)/(e.axisSteps-1)}static axisSteps=50;defaultValue;stepSize;axisValues;calcAxisValues(t,n,o=50){let r=(n-t)/(o-1);return Array.from({length:o},(i,a)=>t+a*r)}convertAverage(t,n){return this.convert(this.internalAverage(t,n))}convert(t){return`${this.clampValue(t).toFixed(this.precision)}${this.unit}`}average(t,n){return Number.parseFloat(this.internalAverage(t,n).toFixed(this.precision))}clampValue(t){return t===void 0?this.defaultValue:Math.max(this.min,Math.min(this.max,t))}internalAverage(t,n){return(Math.max(this.min,t)+Math.min(this.max,n))/2}},et=class{constructor(t,n,o=0,r){this.name=t;this.components=n;this.defaultVariableIndex=o;this.templateFn=r?.bind(this)||this.templateFn}templateFn=this.template;template(t){return`${this.name}(${t[0]} ${t[1]} ${t[2]})`}defaultValues(){return[this.components[0].defaultValue,this.components[1].defaultValue,this.components[2].defaultValue]}convert(t){return this.templateFn([this.components[0].convert(t[0]),this.components[1].convert(t[1]),this.components[2].convert(t[2])])}};var wt=[new et("rgb",[new ce("Red","R",255,"",0,25),new ce("Green","G",255,"",0,25),new ce("Blue","B",255,"",0,25)]),new et("hsl",[new ce("Hue","H",540,"deg",0,55,-180),new ce("Saturation","S",100,"%",0,20),new ce("Lightness","L",100,"%",1,35)],2),new et("oklch",[new ce("Lightness","L",1,"",3,35),new ce("Chroma","C",.4,"",3,20),new ce("Hue","H",540,"",2,55,-180)])],ln={rgb:wt[0],hsl:wt[1],oklch:wt[2]};var cn=class e{collapse=C(!1,{alias:"zz-collapse-vertical"});static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-collapse-vertical",""],["zzCollapseVertical"]],hostVars:4,hostBindings:function(n,o){n&2&&(S("height",o.collapse()?"0":"calc-size(auto, size)"),$("opacity-50",o.collapse()))},inputs:{collapse:[1,"zz-collapse-vertical","collapse"]},features:[L([Je,Wt,ze])]})};var un=class e{size=C("thin",{alias:"zz-border",transform:t=>{let n=(t??"none").toLowerCase().trim();return n==="none"?"none":["thin","normal","thick"].includes(n)?n:"thin"}});color=C("color-mix(in srgb, var(--text-color), transparent 70%)",{alias:"zz-border-color",transform:t=>{let n=(t??"").trim().replace(/ /g,"-").toLowerCase();return n===""?void 0:n}});style=C("solid",{alias:"zz-border-style",transform:t=>{let n=(t??"solid").toLowerCase().trim();return["solid","dashed","dotted","double","groove","ridge","inset","outset"].includes(n)?n:"solid"}});get borderSize(){if(this.size())return{thin:1,normal:2,thick:4}[this.size()]}get borderColor(){return this.color()}get borderStyle(){return this.style()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-border",""],["zzBorder"]],hostVars:6,hostBindings:function(n,o){n&2&&S("border-width",o.borderSize,"px")("border-color",o.borderColor)("border-style",o.borderStyle)},inputs:{size:[1,"zz-border","size"],color:[1,"zz-border-color","color"],style:[1,"zz-border-style","style"]}})};var tt=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-container",""]],features:[L([Je,qt,{directive:un,inputs:["zz-border","zzBorderSize","zz-border-color","zzBorderColor","zz-border-style","zzBorderStyle"]}])]})};function R(e,t){let n=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(a=>[a]));let o=t[0].length,r=t[0].map((a,l)=>t.map(s=>s[l])),i=e.map(a=>r.map(l=>{let s=0;if(!Array.isArray(a)){for(let c of l)s+=a*c;return s}for(let c=0;c<a.length;c++)s+=a[c]*(l[c]||0);return s}));return n===1&&(i=i[0]),o===1?i.map(a=>a[0]):i}function Dt(e){return De(e)==="string"}function De(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function wn(e,{precision:t,unit:n}){return Se(e)?"none":ri(e,t)+(n??"")}function Se(e){return Number.isNaN(e)||e instanceof Number&&e?.none}function O(e){return Se(e)?0:e}function ri(e,t){if(e===0)return 0;let n=~~e,o=0;n&&t&&(o=~~Math.log10(Math.abs(n))+1);let r=10**(t-o);return Math.floor(e*r+.5)/r}var sa={deg:1,grad:.9,rad:180/Math.PI,turn:360};function ii(e){if(!e)return;e=e.trim();let t=/^([a-z]+)\((.+?)\)$/i,n=/^-?[\d.]+$/,o=/%|deg|g?rad|turn$/,r=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,i=e.match(t);if(i){let a=[];return i[2].replace(r,(l,s)=>{let c=s.match(o),d=s;if(c){let u=c[0],m=d.slice(0,-u.length);u==="%"?(d=new Number(m/100),d.type="<percentage>"):(d=new Number(m*sa[u]),d.type="<angle>",d.unit=u)}else n.test(d)?(d=new Number(d),d.type="<number>"):d==="none"&&(d=new Number(NaN),d.none=!0);l.startsWith("/")&&(d=d instanceof Number?d:new Number(d),d.alpha=!0),typeof d=="object"&&d instanceof Number&&(d.raw=s),a.push(d)}),{name:i[1].toLowerCase(),rawName:i[1],rawArgs:i[2],args:a}}}function ai(e){return e[e.length-1]}function Mt(e,t,n){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*n}function si(e,t,n){return(n-e)/(t-e)}function bo(e,t,n){return Mt(t[0],t[1],si(e[0],e[1],n))}function li(e){return e.map(t=>t.split("|").map(n=>{n=n.trim();let o=n.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(o){let r=new String(o[1]);return r.range=[+o[2],+o[3]],r}return n}))}function ci(e,t,n){return Math.max(Math.min(n,t),e)}function zn(e,t){return Math.sign(e)===Math.sign(t)?e:-e}function he(e,t){return zn(Math.abs(e)**t,e)}function vo(e,t){return t===0?0:e/t}function ui(e,t,n=0,o=e.length){for(;n<o;){let r=n+o>>1;e[r]<t?n=r+1:o=r}return n}var la=Object.freeze({__proto__:null,bisectLeft:ui,clamp:ci,copySign:zn,interpolate:Mt,interpolateInv:si,isNone:Se,isString:Dt,last:ai,mapRange:bo,multiplyMatrices:R,parseCoordGrammar:li,parseFunction:ii,serializeNumber:wn,skipNone:O,spow:he,toPrecision:ri,type:De,zdiv:vo}),so=class{add(t,n,o){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(r){this[r]=this[r]||[],n&&this[r][o?"unshift":"push"](n)},this)}run(t,n){this[t]=this[t]||[],this[t].forEach(function(o){o.call(n&&n.context?n.context:n,n)})}},ke=new so,re={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(t){this.verbose&&globalThis?.console?.warn?.(t)}},W={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function lo(e){return Array.isArray(e)?e:W[e]}function yn(e,t,n,o={}){if(e=lo(e),t=lo(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${!e&&!t?"/":""}${t?"":"to"}`);if(e===t)return n;let r={W1:e,W2:t,XYZ:n,options:o};if(ke.run("chromatic-adaptation-start",r),r.M||(r.W1===W.D65&&r.W2===W.D50?r.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:r.W1===W.D50&&r.W2===W.D65&&(r.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),ke.run("chromatic-adaptation-end",r),r.M)return R(r.M,r.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var ca=new Set(["<number>","<percentage>","<angle>"]);function sr(e,t,n,o){return Object.entries(e.coords).map(([i,a],l)=>{let s=t.coordGrammar[l],c=o[l],d=c?.type,u;if(c.none?u=s.find(b=>ca.has(b)):u=s.find(b=>b==d),!u){let b=a.name||i;throw new TypeError(`${d??c.raw} not allowed for ${b} in ${n}()`)}let m=u.range;d==="<percentage>"&&(m||=[0,1]);let M=a.range||a.refRange;return m&&M&&(o[l]=bo(m,M,o[l])),u})}function di(e,{meta:t}={}){let n={str:String(e)?.trim()};if(ke.run("parse-start",n),n.color)return n.color;if(n.parsed=ii(n.str),n.parsed){let o=n.parsed.name;if(o==="color"){let r=n.parsed.args.shift(),i=r.startsWith("--")?r.substring(2):`--${r}`,a=[r,i],l=n.parsed.rawArgs.indexOf("/")>0?n.parsed.args.pop():1;for(let d of v.all){let u=d.getFormat("color");if(u&&(a.includes(u.id)||u.ids?.filter(m=>a.includes(m)).length)){let m=Object.keys(d.coords).map((b,D)=>n.parsed.args[D]||0),M;return u.coordGrammar&&(M=sr(d,u,"color",m)),t&&Object.assign(t,{formatId:"color",types:M}),u.id.startsWith("--")&&!r.startsWith("--")&&re.warn(`${d.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${u.id}) instead of color(${r}).`),r.startsWith("--")&&!u.id.startsWith("--")&&re.warn(`${d.name} is a standard space and supported in the CSS spec. Use color(${u.id}) instead of prefixed color(${r}).`),{spaceId:d.id,coords:m,alpha:l}}}let s="",c=r in v.registry?r:i;if(c in v.registry){let d=v.registry[c].formats?.color?.id;d&&(s=`Did you mean color(${d})?`)}throw new TypeError(`Cannot parse color(${r}). `+(s||"Missing a plugin?"))}else for(let r of v.all){let i=r.getFormat(o);if(i&&i.type==="function"){let a=1;(i.lastAlpha||ai(n.parsed.args).alpha)&&(a=n.parsed.args.pop());let l=n.parsed.args,s;return i.coordGrammar&&(s=sr(r,i,o,l)),t&&Object.assign(t,{formatId:i.name,types:s}),{spaceId:r.id,coords:l,alpha:a}}}}else for(let o of v.all)for(let r in o.formats){let i=o.formats[r];if(i.type!=="custom"||i.test&&!i.test(n.str))continue;let a=i.parse(n.str);if(a)return a.alpha??=1,t&&(t.formatId=r),a}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function z(e){if(Array.isArray(e))return e.map(z);if(!e)throw new TypeError("Empty color reference");Dt(e)&&(e=di(e));let t=e.space||e.spaceId;return t instanceof v||(e.space=v.get(t)),e.alpha===void 0&&(e.alpha=1),e}var ua=75e-6,v=(()=>{class e{constructor(n){this.id=n.id,this.name=n.name,this.base=n.base?e.get(n.base):null,this.aliases=n.aliases,this.base&&(this.fromBase=n.fromBase,this.toBase=n.toBase);let o=n.coords??this.base.coords;for(let i in o)"name"in o[i]||(o[i].name=i);this.coords=o;let r=n.white??this.base.white??"D65";this.white=lo(r),this.formats=n.formats??{};for(let i in this.formats){let a=this.formats[i];a.type||="function",a.name||=i}this.formats.color?.id||(this.formats.color=Io(Pe({},this.formats.color??{}),{id:n.cssId||this.id})),n.gamutSpace?this.gamutSpace=n.gamutSpace==="self"?this:e.get(n.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(i,a)=>!0),this.referred=n.referred,Object.defineProperty(this,"path",{value:da(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),ke.run("colorspace-init-end",this)}inGamut(n,{epsilon:o=ua}={}){if(!this.equals(this.gamutSpace))return n=this.to(this.gamutSpace,n),this.gamutSpace.inGamut(n,{epsilon:o});let r=Object.values(this.coords);return n.every((i,a)=>{let l=r[a];if(l.type!=="angle"&&l.range){if(Number.isNaN(i))return!0;let[s,c]=l.range;return(s===void 0||i>=s-o)&&(c===void 0||i<=c+o)}return!0})}get isUnbounded(){return Object.values(this.coords).every(n=>!("range"in n))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let n in this.coords)if(this.coords[n].type==="angle")return!0;return!1}getFormat(n){if(typeof n=="object")return n=lr(n,this),n;let o;return n==="default"?o=Object.values(this.formats)[0]:o=this.formats[n],o?(o=lr(o,this),o):null}equals(n){return n?this===n||this.id===n||this.id===n.id:!1}to(n,o){if(arguments.length===1){let s=z(n);[n,o]=[s.space,s.coords]}if(n=e.get(n),this.equals(n))return o;o=o.map(s=>Number.isNaN(s)?0:s);let r=this.path,i=n.path,a,l;for(let s=0;s<r.length&&r[s].equals(i[s]);s++)a=r[s],l=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${n}: no connection space was found`);for(let s=r.length-1;s>l;s--)o=r[s].toBase(o);for(let s=l+1;s<i.length;s++)o=i[s].fromBase(o);return o}from(n,o){if(arguments.length===1){let r=z(n);[n,o]=[r.space,r.coords]}return n=e.get(n),n.to(this,o)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let n=[];for(let o in this.coords){let r=this.coords[o],i=r.range||r.refRange;n.push(i?.min??0)}return n}static registry={};static get all(){return[...new Set(Object.values(e.registry))]}static register(n,o){if(arguments.length===1&&(o=arguments[0],n=o.id),o=this.get(o),this.registry[n]&&this.registry[n]!==o)throw new Error(`Duplicate color space registration: '${n}'`);if(this.registry[n]=o,arguments.length===1&&o.aliases)for(let r of o.aliases)this.register(r,o);return o}static get(n,...o){if(!n||n instanceof e)return n;if(De(n)==="string"){let i=e.registry[n.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${n}"`);return i}if(o.length)return e.get(...o);throw new TypeError(`${n} is not a valid color space`)}static resolveCoord(n,o){let r=De(n),i,a;if(r==="string"?n.includes(".")?[i,a]=n.split("."):[i,a]=[,n]:Array.isArray(n)?[i,a]=n:(i=n.space,a=n.coordId),i=e.get(i),i||(i=o),!i)throw new TypeError(`Cannot resolve coordinate reference ${n}: No color space specified and relative references are not allowed here`);if(r=De(a),r==="number"||r==="string"&&a>=0){let c=Object.entries(i.coords)[a];if(c)return Pe({space:i,id:c[0],index:a},c[1])}i=e.get(i);let l=a.toLowerCase(),s=0;for(let c in i.coords){let d=i.coords[c];if(c.toLowerCase()===l||d.name?.toLowerCase()===l)return Pe({space:i,id:c,index:s},d);s++}throw new TypeError(`No "${a}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}return e})();function da(e){let t=[e];for(let n=e;n=n.base;)t.push(n);return t}function lr(e,{coords:t}={}){if(e.coords&&!e.coordGrammar){e.type||="function",e.name||="color",e.coordGrammar=li(e.coords);let n=Object.entries(t).map(([o,r],i)=>{let a=e.coordGrammar[i][0],l=r.range||r.refRange,s=a.range,c="";return a=="<percentage>"?(s=[0,100],c="%"):a=="<angle>"&&(c="deg"),{fromRange:l,toRange:s,suffix:c}});e.serializeCoords=(o,r)=>o.map((i,a)=>{let{fromRange:l,toRange:s,suffix:c}=n[a];return l&&s&&(i=bo(l,s,i)),i=wn(i,{precision:r,unit:c}),i})}return e}var Y=new v({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),Z=class extends v{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=Y),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=n=>{let o=R(t.toXYZ_M,n);return this.white!==this.base.white&&(o=yn(this.white,this.base.white,o)),o},t.fromBase??=n=>(n=yn(this.base.white,this.white,n),R(t.fromXYZ_M,n))),t.referred??="display",super(t)}};function St(e,t){return e=z(e),!t||e.space.equals(t)?e.coords.slice():(t=v.get(t),t.from(e))}function ne(e,t){e=z(e);let{space:n,index:o}=v.resolveCoord(t,e.space);return St(e,n)[o]}function Co(e,t,n){return e=z(e),t=v.get(t),e.coords=t.to(e.space,n),e}Co.returns="color";function ye(e,t,n){if(e=z(e),arguments.length===2&&De(arguments[1])==="object"){let o=arguments[1];for(let r in o)ye(e,r,o[r])}else{typeof n=="function"&&(n=n(ne(e,t)));let{space:o,index:r}=v.resolveCoord(t,e.space),i=St(e,o);i[r]=n,Co(e,o,i)}return e}ye.returns="color";var wo=new v({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Y,fromBase:e=>yn(Y.white,"D50",e),toBase:e=>yn("D50",Y.white,e)}),ma=216/24389,cr=24/116,dn=24389/27,Kn=W.D50,oe=new v({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Kn,base:wo,fromBase(e){let n=e.map((o,r)=>o/Kn[r]).map(o=>o>ma?Math.cbrt(o):(dn*o+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>cr?Math.pow(t[0],3):(116*t[0]-16)/dn,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/dn,t[2]>cr?Math.pow(t[2],3):(116*t[2]-16)/dn].map((o,r)=>o*Kn[r])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ge(e){return(e%360+360)%360}function pa(e,t){if(e==="raw")return t;let[n,o]=t.map(ge),r=o-n;return e==="increasing"?r<0&&(o+=360):e==="decreasing"?r>0&&(n+=360):e==="longer"?-180<r&&r<180&&(r>0?n+=360:o+=360):e==="shorter"&&(r>180?n+=360:r<-180&&(o+=360)),[n,o]}var zt=new v({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:oe,fromBase(e){let[t,n,o]=e,r,i=.02;return Math.abs(n)<i&&Math.abs(o)<i?r=NaN:r=Math.atan2(o,n)*180/Math.PI,[t,Math.sqrt(n**2+o**2),ge(r)]},toBase(e){let[t,n,o]=e;return n<0&&(n=0),isNaN(o)&&(o=0),[t,n*Math.cos(o*Math.PI/180),n*Math.sin(o*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),ur=25**7,xn=Math.PI,dr=180/xn,nt=xn/180;function mr(e){let t=e*e;return t*t*t*e}function mi(e,t,{kL:n=1,kC:o=1,kH:r=1}={}){[e,t]=z([e,t]);let[i,a,l]=oe.from(e),s=zt.from(oe,[i,a,l])[1],[c,d,u]=oe.from(t),m=zt.from(oe,[c,d,u])[1];s<0&&(s=0),m<0&&(m=0);let M=(s+m)/2,b=mr(M),D=.5*(1-Math.sqrt(b/(b+ur))),B=(1+D)*a,E=(1+D)*d,F=Math.sqrt(B**2+l**2),P=Math.sqrt(E**2+u**2),U=B===0&&l===0?0:Math.atan2(l,B),xe=E===0&&u===0?0:Math.atan2(u,E);U<0&&(U+=2*xn),xe<0&&(xe+=2*xn),U*=dr,xe*=dr;let It=c-i,Ft=P-F,me=xe-U,ft=U+xe,_o=Math.abs(me),ht;F*P===0?ht=0:_o<=180?ht=me:me>180?ht=me-360:me<-180?ht=me+360:re.warn("the unthinkable has happened");let Do=2*Math.sqrt(P*F)*Math.sin(ht*nt/2),Xi=(i+c)/2,Xn=(F+P)/2,So=mr(Xn),be;F*P===0?be=ft:_o<=180?be=ft/2:ft<360?be=(ft+360)/2:be=(ft-360)/2;let ko=(Xi-50)**2,Zi=1+.015*ko/Math.sqrt(20+ko),Bo=1+.045*Xn,gt=1;gt-=.17*Math.cos((be-30)*nt),gt+=.24*Math.cos(2*be*nt),gt+=.32*Math.cos((3*be+6)*nt),gt-=.2*Math.cos((4*be-63)*nt);let To=1+.015*Xn*gt,Ji=30*Math.exp(-1*((be-275)/25)**2),Wi=2*Math.sqrt(So/(So+ur)),Ki=-1*Math.sin(2*Ji*nt)*Wi,Nt=(It/(n*Zi))**2;return Nt+=(Ft/(o*Bo))**2,Nt+=(Do/(r*To))**2,Nt+=Ki*(Ft/(o*Bo))*(Do/(r*To)),Math.sqrt(Nt)}var fa=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],ha=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],ga=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],ba=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],at=new v({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Y,fromBase(e){let n=R(fa,e).map(o=>Math.cbrt(o));return R(ga,n)},toBase(e){let n=R(ba,e).map(o=>o**3);return R(ha,n)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function co(e,t){[e,t]=z([e,t]);let[n,o,r]=at.from(e),[i,a,l]=at.from(t),s=n-i,c=o-a,d=r-l;return Math.sqrt(s**2+c**2+d**2)}var va=75e-6;function Re(e,t,{epsilon:n=va}={}){e=z(e),t||(t=e.space),t=v.get(t);let o=e.coords;return t!==e.space&&(o=t.from(e)),t.inGamut(o,{epsilon:n})}function st(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function pi(e,t,n="lab"){n=v.get(n);let o=n.from(e),r=n.from(t);return Math.sqrt(o.reduce((i,a,l)=>{let s=r[l];return isNaN(a)||isNaN(s)?i:i+(s-a)**2},0))}function Ca(e,t){return pi(e,t,"lab")}var wa=Math.PI,pr=wa/180;function ya(e,t,{l:n=2,c:o=1}={}){[e,t]=z([e,t]);let[r,i,a]=oe.from(e),[,l,s]=zt.from(oe,[r,i,a]),[c,d,u]=oe.from(t),m=zt.from(oe,[c,d,u])[1];l<0&&(l=0),m<0&&(m=0);let M=r-c,b=l-m,D=i-d,B=a-u,E=D**2+B**2-b**2,F=.511;r>=16&&(F=.040975*r/(1+.01765*r));let P=.0638*l/(1+.0131*l)+.638,U;Number.isNaN(s)&&(s=0),s>=164&&s<=345?U=.56+Math.abs(.2*Math.cos((s+168)*pr)):U=.36+Math.abs(.4*Math.cos((s+35)*pr));let xe=Math.pow(l,4),It=Math.sqrt(xe/(xe+1900)),Ft=P*(It*U+1-It),me=(M/(n*F))**2;return me+=(b/(o*P))**2,me+=E/Ft**2,Math.sqrt(me)}var fr=203,yo=new v({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Y,fromBase(e){return e.map(t=>Math.max(t*fr,0))},toBase(e){return e.map(t=>Math.max(t/fr,0))}}),mn=1.15,pn=.66,hr=2610/2**14,xa=2**14/2610,gr=3424/2**12,br=2413/2**7,vr=2392/2**7,Ma=1.7*2523/2**5,Cr=2**5/(1.7*2523),fn=-.56,Qn=16295499532821565e-27,za=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],_a=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Da=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Sa=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],fi=new v({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:yo,fromBase(e){let[t,n,o]=e,r=mn*t-(mn-1)*o,i=pn*n-(pn-1)*t,l=R(za,[r,i,o]).map(function(m){let M=gr+br*(m/1e4)**hr,b=1+vr*(m/1e4)**hr;return(M/b)**Ma}),[s,c,d]=R(Da,l);return[(1+fn)*s/(1+fn*s)-Qn,c,d]},toBase(e){let[t,n,o]=e,r=(t+Qn)/(1+fn-fn*(t+Qn)),a=R(Sa,[r,n,o]).map(function(m){let M=gr-m**Cr,b=vr*m**Cr-br;return 1e4*(M/b)**xa}),[l,s,c]=R(_a,a),d=(l+(mn-1)*c)/mn,u=(s+(pn-1)*d)/pn;return[d,u,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),uo=new v({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:fi,fromBase(e){let[t,n,o]=e,r,i=2e-4;return Math.abs(n)<i&&Math.abs(o)<i?r=NaN:r=Math.atan2(o,n)*180/Math.PI,[t,Math.sqrt(n**2+o**2),ge(r)]},toBase(e){return[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)]}});function ka(e,t){[e,t]=z([e,t]);let[n,o,r]=uo.from(e),[i,a,l]=uo.from(t),s=n-i,c=o-a;Number.isNaN(r)&&Number.isNaN(l)?(r=0,l=0):Number.isNaN(r)?r=l:Number.isNaN(l)&&(l=r);let d=r-l,u=2*Math.sqrt(o*a)*Math.sin(d/2*(Math.PI/180));return Math.sqrt(s**2+c**2+u**2)}var hi=3424/4096,gi=2413/128,bi=2392/128,wr=2610/16384,Ba=2523/32,Ta=16384/2610,yr=32/2523,Ia=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Fa=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Na=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],La=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],mo=new v({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:yo,fromBase(e){let t=R(Ia,e);return Va(t)},toBase(e){let t=Ra(e);return R(La,t)}});function Va(e){let t=e.map(function(n){let o=hi+gi*(n/1e4)**wr,r=1+bi*(n/1e4)**wr;return(o/r)**Ba});return R(Fa,t)}function Ra(e){return R(Na,e).map(function(o){let r=Math.max(o**yr-hi,0),i=gi-bi*o**yr;return 1e4*(r/i)**Ta})}function Ea(e,t){[e,t]=z([e,t]);let[n,o,r]=mo.from(e),[i,a,l]=mo.from(t);return 720*Math.sqrt((n-i)**2+.25*(o-a)**2+(r-l)**2)}var Pa=W.D65,vi=.42,xr=1/vi,Un=2*Math.PI,Ci=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],Aa=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Ha=[[460,451,288],[460,-891,-261],[460,-220,-6300]],$a={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Ve={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Oa=180/Math.PI,Mr=Math.PI/180;function wi(e,t){return e.map(o=>{let r=he(t*Math.abs(o)*.01,vi);return 400*zn(r,o)/(r+27.13)})}function Ga(e,t){let n=100/t*27.13**xr;return e.map(o=>{let r=Math.abs(o);return zn(n*he(r/(400-r),xr),o)})}function ja(e){let t=ge(e);t<=Ve.h[0]&&(t+=360);let n=ui(Ve.h,t)-1,[o,r]=Ve.h.slice(n,n+2),[i,a]=Ve.e.slice(n,n+2),l=Ve.H[n],s=(t-o)/i;return l+100*s/(s+(r-t)/a)}function Ya(e){let t=(e%400+400)%400,n=Math.floor(.01*t);t=t%100;let[o,r]=Ve.h.slice(n,n+2),[i,a]=Ve.e.slice(n,n+2);return ge((t*(a*o-i*r)-100*o*a)/(t*(a-i)-100*a))}function yi(e,t,n,o,r){let i={};i.discounting=r,i.refWhite=e,i.surround=o;let a=e.map(D=>D*100);i.la=t,i.yb=n;let l=a[1],s=R(Ci,a);o=$a[i.surround];let c=o[0];i.c=o[1],i.nc=o[2];let u=(1/(5*i.la+1))**4;i.fl=u*i.la+.1*(1-u)*(1-u)*Math.cbrt(5*i.la),i.flRoot=i.fl**.25,i.n=i.yb/l,i.z=1.48+Math.sqrt(i.n),i.nbb=.725*i.n**-.2,i.ncb=i.nbb;let m=r?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-i.la-42)/92)),1),0);i.dRgb=s.map(D=>Mt(1,l/D,m)),i.dRgbInv=i.dRgb.map(D=>1/D);let M=s.map((D,B)=>D*i.dRgb[B]),b=wi(M,i.fl);return i.aW=i.nbb*(2*b[0]+b[1]+.05*b[2]),i}var zr=yi(Pa,64/Math.PI*.2,20,"average",!1);function po(e,t){if(!(e.J!==void 0^e.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(e.C!==void 0^e.M!==void 0^e.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(e.h!==void 0^e.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(e.J===0||e.Q===0)return[0,0,0];let n=0;e.h!==void 0?n=ge(e.h)*Mr:n=Ya(e.H)*Mr;let o=Math.cos(n),r=Math.sin(n),i=0;e.J!==void 0?i=he(e.J,1/2)*.1:e.Q!==void 0&&(i=.25*t.c*e.Q/((t.aW+4)*t.flRoot));let a=0;e.C!==void 0?a=e.C/i:e.M!==void 0?a=e.M/t.flRoot/i:e.s!==void 0&&(a=4e-4*e.s**2*(t.aW+4)/t.c);let l=he(a*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),s=.25*(Math.cos(n+2)+3.8),c=t.aW*he(i,2/t.c/t.z),d=5e4/13*t.nc*t.ncb*s,u=c/t.nbb,m=23*(u+.305)*vo(l,23*d+l*(11*o+108*r)),M=m*o,b=m*r,D=Ga(R(Ha,[u,M,b]).map(B=>B*1/1403),t.fl);return R(Aa,D.map((B,E)=>B*t.dRgbInv[E])).map(B=>B/100)}function xi(e,t){let n=e.map(P=>P*100),o=wi(R(Ci,n).map((P,U)=>P*t.dRgb[U]),t.fl),r=o[0]+(-12*o[1]+o[2])/11,i=(o[0]+o[1]-2*o[2])/9,a=(Math.atan2(i,r)%Un+Un)%Un,l=.25*(Math.cos(a+2)+3.8),s=5e4/13*t.nc*t.ncb*vo(l*Math.sqrt(r**2+i**2),o[0]+o[1]+1.05*o[2]+.305),c=he(s,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),d=t.nbb*(2*o[0]+o[1]+.05*o[2]),u=he(d/t.aW,.5*t.c*t.z),m=100*he(u,2),M=4/t.c*u*(t.aW+4)*t.flRoot,b=c*u,D=b*t.flRoot,B=ge(a*Oa),E=ja(B),F=50*he(t.c*c/(t.aW+4),1/2);return{J:m,C:b,h:B,s:F,Q:M,M:D,H:E}}var qa=new v({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Y,fromBase(e){let t=xi(e,zr);return[t.J,t.M,t.h]},toBase(e){return po({J:e[0],M:e[1],h:e[2]},zr)}}),Xa=W.D65,Za=216/24389,Mi=24389/27;function Ja(e){return 116*(e>Za?Math.cbrt(e):(Mi*e+16)/116)-16}function fo(e){return e>8?Math.pow((e+16)/116,3):e/Mi}function Wa(e,t){let[n,o,r]=e,i=[],a=0;if(r===0)return[0,0,0];let l=fo(r);r>0?a=.00379058511492914*r**2+.608983189401032*r+.9155088574762233:a=9514440756550361e-21*r**2+.08693057439788597*r-21.928975842194614;let s=2e-12,c=15,d=0,u=1/0;for(;d<=c;){i=po({J:a,C:o,h:n},t);let m=Math.abs(i[1]-l);if(m<u){if(m<=s)return i;u=m}a=a-(i[1]-l)*a/(2*i[1]),d+=1}return po({J:a,C:o,h:n},t)}function Ka(e,t){let n=Ja(e[1]);if(n===0)return[0,0,0];let o=xi(e,xo);return[ge(o.h),o.C,n]}var xo=yi(Xa,200/Math.PI*fo(50),fo(50)*100,"average",!1),_t=new v({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:Y,fromBase(e){return Ka(e)},toBase(e){return Wa(e,xo)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Qa=Math.PI/180,_r=[1,.007,.0228];function Dr(e){e[1]<0&&(e=_t.fromBase(_t.toBase(e)));let t=Math.log(Math.max(1+_r[2]*e[1]*xo.flRoot,1))/_r[2],n=e[0]*Qa,o=t*Math.cos(n),r=t*Math.sin(n);return[e[2],o,r]}function Ua(e,t){[e,t]=z([e,t]);let[n,o,r]=Dr(_t.from(e)),[i,a,l]=Dr(_t.from(t));return Math.sqrt((n-i)**2+(o-a)**2+(r-l)**2)}var lt={deltaE76:Ca,deltaECMC:ya,deltaE2000:mi,deltaEJz:ka,deltaEITP:Ea,deltaEOK:co,deltaEHCT:Ua};function es(e){let t=e?Math.floor(Math.log10(Math.abs(e))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}var Sr={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Be(e,{method:t=re.gamut_mapping,space:n=void 0,deltaEMethod:o="",jnd:r=2,blackWhiteClamp:i={}}={}){if(e=z(e),Dt(arguments[1])?n=arguments[1]:n||(n=e.space),n=v.get(n),Re(e,n,{epsilon:0}))return e;let a;if(t==="css")a=ts(e,{space:n});else{if(t!=="clip"&&!Re(e,n)){Object.prototype.hasOwnProperty.call(Sr,t)&&({method:t,jnd:r,deltaEMethod:o,blackWhiteClamp:i}=Sr[t]);let l=mi;if(o!==""){for(let c in lt)if("deltae"+o.toLowerCase()===c.toLowerCase()){l=lt[c];break}}let s=Be(V(e,n),{method:"clip",space:n});if(l(e,s)>r){if(Object.keys(i).length===3){let F=v.resolveCoord(i.channel),P=ne(V(e,F.space),F.id);if(Se(P)&&(P=0),P>=i.max)return V({space:"xyz-d65",coords:W.D65},e.space);if(P<=i.min)return V({space:"xyz-d65",coords:[0,0,0]},e.space)}let c=v.resolveCoord(t),d=c.space,u=c.id,m=V(e,d);m.coords.forEach((F,P)=>{Se(F)&&(m.coords[P]=0)});let b=(c.range||c.refRange)[0],D=es(r),B=b,E=ne(m,u);for(;E-B>D;){let F=st(m);F=Be(F,{space:n,method:"clip"}),l(m,F)-r<D?B=ne(m,u):E=ne(m,u),ye(m,u,(B+E)/2)}a=V(m,n)}else a=s}else a=V(e,n);if(t==="clip"||!Re(a,n,{epsilon:0})){let l=Object.values(n.coords).map(s=>s.range||[]);a.coords=a.coords.map((s,c)=>{let[d,u]=l[c];return d!==void 0&&(s=Math.max(d,s)),u!==void 0&&(s=Math.min(s,u)),s})}}return n!==e.space&&(a=V(a,e.space)),e.coords=a.coords,e}Be.returns="color";var kr={WHITE:{space:at,coords:[1,0,0]},BLACK:{space:at,coords:[0,0,0]}};function ts(e,{space:t}={}){e=z(e),t||(t=e.space),t=v.get(t);let r=v.get("oklch");if(t.isUnbounded)return V(e,t);let i=V(e,r),a=i.coords[0];if(a>=1){let b=V(kr.WHITE,t);return b.alpha=e.alpha,V(b,t)}if(a<=0){let b=V(kr.BLACK,t);return b.alpha=e.alpha,V(b,t)}if(Re(i,t,{epsilon:0}))return V(i,t);function l(b){let D=V(b,t),B=Object.values(t.coords);return D.coords=D.coords.map((E,F)=>{if("range"in B[F]){let[P,U]=B[F].range;return ci(P,E,U)}return E}),D}let s=0,c=i.coords[1],d=!0,u=st(i),m=l(u),M=co(m,u);if(M<.02)return m;for(;c-s>1e-4;){let b=(s+c)/2;if(u.coords[1]=b,d&&Re(u,t,{epsilon:0}))s=b;else if(m=l(u),M=co(m,u),M<.02){if(.02-M<1e-4)break;d=!1,s=b}else c=b}return m}function V(e,t,{inGamut:n}={}){e=z(e),t=v.get(t);let o=t.from(e),r={space:t,coords:o,alpha:e.alpha};return n&&(r=Be(r,n===!0?void 0:n)),r}V.returns="color";function xt(e,i={}){var a=i,{precision:t=re.precision,format:n="default",inGamut:o=!0}=a,r=Ae(a,["precision","format","inGamut"]);let l;e=z(e);let s=n;n=e.space.getFormat(n)??e.space.getFormat("default")??v.DEFAULT_FORMAT;let c=e.coords.slice();if(o||=n.toGamut,o&&!Re(e)&&(c=Be(st(e),o===!0?void 0:o).coords),n.type==="custom")if(r.precision=t,n.serialize)l=n.serialize(c,e.alpha,r);else throw new TypeError(`format ${s} can only be used to parse colors, not for serialization`);else{let d=n.name||"color";n.serializeCoords?c=n.serializeCoords(c,t):t!==null&&(c=c.map(b=>wn(b,{precision:t})));let u=[...c];if(d==="color"){let b=n.id||n.ids?.[0]||e.space.id;u.unshift(b)}let m=e.alpha;t!==null&&(m=wn(m,{precision:t}));let M=e.alpha>=1||n.noAlpha?"":`${n.commas?",":" /"} ${m}`;l=`${d}(${u.join(n.commas?", ":" ")}${M})`}return l}var ns=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],os=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],_n=new Z({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:ns,fromXYZ_M:os}),hn=1.09929682680944,Br=.018053968510807,zi=new Z({id:"rec2020",name:"REC.2020",base:_n,toBase(e){return e.map(function(t){return t<Br*4.5?t/4.5:Math.pow((t+hn-1)/hn,1/.45)})},fromBase(e){return e.map(function(t){return t>=Br?hn*Math.pow(t,.45)-(hn-1):4.5*t})}}),rs=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],is=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],_i=new Z({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:rs,fromXYZ_M:is}),as=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],G=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],Di=new Z({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:as,fromXYZ_M:G}),Tr={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},Ir=Array(3).fill("<percentage> | <number>[0, 255]"),Fr=Array(3).fill("<number>[0, 255]"),ct=new Z({id:"srgb",name:"sRGB",base:Di,fromBase:e=>e.map(t=>{let n=t<0?-1:1,o=t*n;return o>.0031308?n*(1.055*o**(1/2.4)-.055):12.92*t}),toBase:e=>e.map(t=>{let n=t<0?-1:1,o=t*n;return o<=.04045?t/12.92:n*((o+.055)/1.055)**2.4}),formats:{rgb:{coords:Ir},rgb_number:{name:"rgb",commas:!0,coords:Fr,noAlpha:!0},color:{},rgba:{coords:Ir,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Fr},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,n=>{t.push(parseInt(n,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(e,t,{collapse:n=!0}={})=>{t<1&&e.push(t),e=e.map(i=>Math.round(i*255));let o=n&&e.every(i=>i%17===0);return"#"+e.map(i=>o?(i/17).toString(16):i.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){e=e.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(e==="transparent"?(t.coords=Tr.black,t.alpha=0):t.coords=Tr[e],t.coords)return t}}}}),Si=new Z({id:"p3",cssId:"display-p3",name:"P3",base:_i,fromBase:ct.fromBase,toBase:ct.toBase});re.display_space=ct;var ss;if(typeof CSS<"u"&&CSS.supports)for(let e of[oe,zi,Si]){let t=e.getMinCoords(),o=xt({space:e,coords:t,alpha:1});if(CSS.supports("color",o)){re.display_space=e;break}}function ls(e,o={}){var r=o,{space:t=re.display_space}=r,n=Ae(r,["space"]);let i=xt(e,n);if(typeof CSS>"u"||CSS.supports("color",i)||!re.display_space)i=new String(i),i.color=e;else{let a=e;if((e.coords.some(Se)||Se(e.alpha))&&!(ss??=CSS.supports("color","hsl(none 50% 50%)"))&&(a=st(e),a.coords=a.coords.map(O),a.alpha=O(a.alpha),i=xt(a,n),CSS.supports("color",i)))return i=new String(i),i.color=a,i;a=V(a,t),i=new String(xt(a,n)),i.color=a}return i}function cs(e,t){return e=z(e),t=z(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every((n,o)=>n===t.coords[o])}function Te(e){return ne(e,[Y,"y"])}function ki(e,t){ye(e,[Y,"y"],t)}function us(e){Object.defineProperty(e.prototype,"luminance",{get(){return Te(this)},set(t){ki(this,t)}})}var ds=Object.freeze({__proto__:null,getLuminance:Te,register:us,setLuminance:ki});function ms(e,t){e=z(e),t=z(t);let n=Math.max(Te(e),0),o=Math.max(Te(t),0);return o>n&&([n,o]=[o,n]),(n+.05)/(o+.05)}var ps=.56,fs=.57,hs=.62,gs=.65,Nr=.022,bs=1.414,vs=.1,Cs=5e-4,ws=1.14,Lr=.027,ys=1.14;function Vr(e){return e>=Nr?e:e+(Nr-e)**bs}function ot(e){let t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,2.4)}function xs(e,t){t=z(t),e=z(e);let n,o,r,i,a,l;t=V(t,"srgb"),[i,a,l]=t.coords;let s=ot(i)*.2126729+ot(a)*.7151522+ot(l)*.072175;e=V(e,"srgb"),[i,a,l]=e.coords;let c=ot(i)*.2126729+ot(a)*.7151522+ot(l)*.072175,d=Vr(s),u=Vr(c),m=u>d;return Math.abs(u-d)<Cs?o=0:m?(n=u**ps-d**fs,o=n*ws):(n=u**gs-d**hs,o=n*ys),Math.abs(o)<vs?r=0:o>0?r=o-Lr:r=o+Lr,r*100}function Ms(e,t){e=z(e),t=z(t);let n=Math.max(Te(e),0),o=Math.max(Te(t),0);o>n&&([n,o]=[o,n]);let r=n+o;return r===0?0:(n-o)/r}var zs=5e4;function _s(e,t){e=z(e),t=z(t);let n=Math.max(Te(e),0),o=Math.max(Te(t),0);return o>n&&([n,o]=[o,n]),o===0?zs:(n-o)/o}function Ds(e,t){e=z(e),t=z(t);let n=ne(e,[oe,"l"]),o=ne(t,[oe,"l"]);return Math.abs(n-o)}var Ss=216/24389,Rr=24/116,gn=24389/27,eo=W.D65,ho=new v({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:eo,base:Y,fromBase(e){let n=e.map((o,r)=>o/eo[r]).map(o=>o>Ss?Math.cbrt(o):(gn*o+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>Rr?Math.pow(t[0],3):(116*t[0]-16)/gn,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/gn,t[2]>Rr?Math.pow(t[2],3):(116*t[2]-16)/gn].map((o,r)=>o*eo[r])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),to=Math.pow(5,.5)*.5+.5;function ks(e,t){e=z(e),t=z(t);let n=ne(e,[ho,"l"]),o=ne(t,[ho,"l"]),r=Math.abs(Math.pow(n,to)-Math.pow(o,to)),i=Math.pow(r,1/to)*Math.SQRT2-40;return i<7.5?0:i}var Cn=Object.freeze({__proto__:null,contrastAPCA:xs,contrastDeltaPhi:ks,contrastLstar:Ds,contrastMichelson:Ms,contrastWCAG21:ms,contrastWeber:_s});function Bs(e,t,n={}){Dt(n)&&(n={algorithm:n});let i=n,{algorithm:o}=i,r=Ae(i,["algorithm"]);if(!o){let a=Object.keys(Cn).map(l=>l.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}e=z(e),t=z(t);for(let a in Cn)if("contrast"+o.toLowerCase()===a.toLowerCase())return Cn[a](e,t,r);throw new TypeError(`Unknown contrast algorithm: ${o}`)}function Dn(e){let[t,n,o]=St(e,Y),r=t+15*n+3*o;return[4*t/r,9*n/r]}function Bi(e){let[t,n,o]=St(e,Y),r=t+n+o;return[t/r,n/r]}function Ts(e){Object.defineProperty(e.prototype,"uv",{get(){return Dn(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return Bi(this)}})}var Is=Object.freeze({__proto__:null,register:Ts,uv:Dn,xy:Bi});function yt(e,t,n={}){Dt(n)&&(n={method:n});let i=n,{method:o=re.deltaE}=i,r=Ae(i,["method"]);for(let a in lt)if("deltae"+o.toLowerCase()===a.toLowerCase())return lt[a](e,t,r);throw new TypeError(`Unknown deltaE method: ${o}`)}function Fs(e,t=.25){let o=[v.get("oklch","lch"),"l"];return ye(e,o,r=>r*(1+t))}function Ns(e,t=.25){let o=[v.get("oklch","lch"),"l"];return ye(e,o,r=>r*(1-t))}var Ls=Object.freeze({__proto__:null,darken:Ns,lighten:Fs});function Ti(e,t,n=.5,o={}){return[e,t]=[z(e),z(t)],De(n)==="object"&&([n,o]=[.5,n]),kt(e,t,o)(n)}function Ii(e,t,n={}){let o;Mo(e)&&([o,n]=[e,t],[e,t]=o.rangeArgs.colors);let m=n,{maxDeltaE:r,deltaEMethod:i,steps:a=2,maxSteps:l=1e3}=m,s=Ae(m,["maxDeltaE","deltaEMethod","steps","maxSteps"]);o||([e,t]=[z(e),z(t)],o=kt(e,t,s));let c=yt(e,t),d=r>0?Math.max(a,Math.ceil(c/r)+1):a,u=[];if(l!==void 0&&(d=Math.min(d,l)),d===1)u=[{p:.5,color:o(.5)}];else{let M=1/(d-1);u=Array.from({length:d},(b,D)=>{let B=D*M;return{p:B,color:o(B)}})}if(r>0){let M=u.reduce((b,D,B)=>{if(B===0)return 0;let E=yt(D.color,u[B-1].color,i);return Math.max(b,E)},0);for(;M>r;){M=0;for(let b=1;b<u.length&&u.length<l;b++){let D=u[b-1],B=u[b],E=(B.p+D.p)/2,F=o(E);M=Math.max(M,yt(F,D.color),yt(F,B.color)),u.splice(b,0,{p:E,color:o(E)}),b++}}}return u=u.map(M=>M.color),u}function kt(e,t,n={}){if(Mo(e)){let[s,c]=[e,t];return kt(...s.rangeArgs.colors,Pe(Pe({},s.rangeArgs.options),c))}let{space:o,outputSpace:r,progression:i,premultiplied:a}=n;e=z(e),t=z(t),e=st(e),t=st(t);let l={colors:[e,t],options:n};if(o?o=v.get(o):o=v.registry[re.interpolationSpace]||e.space,r=r?v.get(r):o,e=V(e,o),t=V(t,o),e=Be(e),t=Be(t),o.coords.h&&o.coords.h.type==="angle"){let s=n.hue=n.hue||"shorter",c=[o,"h"],[d,u]=[ne(e,c),ne(t,c)];isNaN(d)&&!isNaN(u)?d=u:isNaN(u)&&!isNaN(d)&&(u=d),[d,u]=pa(s,[d,u]),ye(e,c,d),ye(t,c,u)}return a&&(e.coords=e.coords.map(s=>s*e.alpha),t.coords=t.coords.map(s=>s*t.alpha)),Object.assign(s=>{s=i?i(s):s;let c=e.coords.map((m,M)=>{let b=t.coords[M];return Mt(m,b,s)}),d=Mt(e.alpha,t.alpha,s),u={space:o,coords:c,alpha:d};return a&&(u.coords=u.coords.map(m=>m/d)),r!==o&&(u=V(u,r)),u},{rangeArgs:l})}function Mo(e){return De(e)==="function"&&!!e.rangeArgs}re.interpolationSpace="lab";function Vs(e){e.defineFunction("mix",Ti,{returns:"color"}),e.defineFunction("range",kt,{returns:"function<color>"}),e.defineFunction("steps",Ii,{returns:"array<color>"})}var Rs=Object.freeze({__proto__:null,isRange:Mo,mix:Ti,range:kt,register:Vs,steps:Ii}),Fi=new v({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ct,fromBase:e=>{let t=Math.max(...e),n=Math.min(...e),[o,r,i]=e,[a,l,s]=[NaN,0,(n+t)/2],c=t-n;if(c!==0){switch(l=s===0||s===1?0:(t-s)/Math.min(s,1-s),t){case o:a=(r-i)/c+(r<i?6:0);break;case r:a=(i-o)/c+2;break;case i:a=(o-r)/c+4}a=a*60}return l<0&&(a+=180,l=Math.abs(l)),a>=360&&(a-=360),[a,l*100,s*100]},toBase:e=>{let[t,n,o]=e;t=t%360,t<0&&(t+=360),n/=100,o/=100;function r(i){let a=(i+t/30)%12,l=n*Math.min(o,1-o);return o-l*Math.max(-1,Math.min(a-3,9-a,1))}return[r(0),r(8),r(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Ni=new v({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Fi,fromBase(e){let[t,n,o]=e;n/=100,o/=100;let r=o+n*Math.min(o,1-o);return[t,r===0?0:200*(1-o/r),100*r]},toBase(e){let[t,n,o]=e;n/=100,o/=100;let r=o*(1-n/2);return[t,r===0||r===1?0:(o-r)/Math.min(r,1-r)*100,r*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Es=new v({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Ni,fromBase(e){let[t,n,o]=e;return[t,o*(100-n)/100,100-o]},toBase(e){let[t,n,o]=e;n/=100,o/=100;let r=n+o;if(r>=1){let l=n/r;return[t,0,l*100]}let i=1-o,a=i===0?0:1-n/i;return[t,a*100,i*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Ps=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],As=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],Li=new Z({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:Ps,fromXYZ_M:As}),Hs=new Z({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:Li,toBase:e=>e.map(t=>Math.pow(Math.abs(t),563/256)*Math.sign(t)),fromBase:e=>e.map(t=>Math.pow(Math.abs(t),256/563)*Math.sign(t))}),$s=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],Os=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],Vi=new Z({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:wo,toXYZ_M:$s,fromXYZ_M:Os}),Gs=1/512,js=16/512,Ys=new Z({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:Vi,toBase(e){return e.map(t=>t<js?t/16:t**1.8)},fromBase(e){return e.map(t=>t>=Gs?t**(1/1.8):16*t)}}),qs=new v({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:at,fromBase(e){let[t,n,o]=e,r,i=2e-4;return Math.abs(n)<i&&Math.abs(o)<i?r=NaN:r=Math.atan2(o,n)*180/Math.PI,[t,Math.sqrt(n**2+o**2),ge(r)]},toBase(e){let[t,n,o]=e,r,i;return isNaN(o)?(r=0,i=0):(r=n*Math.cos(o*Math.PI/180),i=n*Math.sin(o*Math.PI/180)),[t,r,i]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),Ri=W.D65,Xs=216/24389,Er=24389/27,[Pr,Ar]=Dn({space:Y,coords:Ri}),Ei=new v({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:Ri,base:Y,fromBase(e){let t=[O(e[0]),O(e[1]),O(e[2])],n=t[1],[o,r]=Dn({space:Y,coords:t});if(!Number.isFinite(o)||!Number.isFinite(r))return[0,0,0];let i=n<=Xs?Er*n:116*Math.cbrt(n)-16;return[i,13*i*(o-Pr),13*i*(r-Ar)]},toBase(e){let[t,n,o]=e;if(t===0||Se(t))return[0,0,0];n=O(n),o=O(o);let r=n/(13*t)+Pr,i=o/(13*t)+Ar,a=t<=8?t/Er:Math.pow((t+16)/116,3);return[a*(9*r/(4*i)),a,a*((12-3*r-20*i)/(4*i))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),zo=new v({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ei,fromBase(e){let[t,n,o]=e,r,i=.02;return Math.abs(n)<i&&Math.abs(o)<i?r=NaN:r=Math.atan2(o,n)*180/Math.PI,[t,Math.sqrt(n**2+o**2),ge(r)]},toBase(e){let[t,n,o]=e;return n<0&&(n=0),isNaN(o)&&(o=0),[t,n*Math.cos(o*Math.PI/180),n*Math.sin(o*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),Zs=216/24389,Js=24389/27,Hr=G[0][0],$r=G[0][1],no=G[0][2],Or=G[1][0],Gr=G[1][1],oo=G[1][2],jr=G[2][0],Yr=G[2][1],ro=G[2][2];function rt(e,t,n){let o=t/(Math.sin(n)-e*Math.cos(n));return o<0?1/0:o}function Mn(e){let t=Math.pow(e+16,3)/1560896,n=t>Zs?t:e/Js,o=n*(284517*Hr-94839*no),r=n*(838422*no+769860*$r+731718*Hr),i=n*(632260*no-126452*$r),a=n*(284517*Or-94839*oo),l=n*(838422*oo+769860*Gr+731718*Or),s=n*(632260*oo-126452*Gr),c=n*(284517*jr-94839*ro),d=n*(838422*ro+769860*Yr+731718*jr),u=n*(632260*ro-126452*Yr);return{r0s:o/i,r0i:r*e/i,r1s:o/(i+126452),r1i:(r-769860)*e/(i+126452),g0s:a/s,g0i:l*e/s,g1s:a/(s+126452),g1i:(l-769860)*e/(s+126452),b0s:c/u,b0i:d*e/u,b1s:c/(u+126452),b1i:(d-769860)*e/(u+126452)}}function qr(e,t){let n=t/360*Math.PI*2,o=rt(e.r0s,e.r0i,n),r=rt(e.r1s,e.r1i,n),i=rt(e.g0s,e.g0i,n),a=rt(e.g1s,e.g1i,n),l=rt(e.b0s,e.b0i,n),s=rt(e.b1s,e.b1i,n);return Math.min(o,r,i,a,l,s)}var Ws=new v({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:zo,gamutSpace:ct,fromBase(e){let[t,n,o]=[O(e[0]),O(e[1]),O(e[2])],r;if(t>99.9999999)r=0,t=100;else if(t<1e-8)r=0,t=0;else{let i=Mn(t),a=qr(i,o);r=n/a*100}return[o,r,t]},toBase(e){let[t,n,o]=[O(e[0]),O(e[1]),O(e[2])],r;if(o>99.9999999)o=100,r=0;else if(o<1e-8)o=0,r=0;else{let i=Mn(o);r=qr(i,t)/100*n}return[o,r,t]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});G[0][0];G[0][1];G[0][2];G[1][0];G[1][1];G[1][2];G[2][0];G[2][1];G[2][2];function it(e,t){return Math.abs(t)/Math.sqrt(Math.pow(e,2)+1)}function Xr(e){let t=it(e.r0s,e.r0i),n=it(e.r1s,e.r1i),o=it(e.g0s,e.g0i),r=it(e.g1s,e.g1i),i=it(e.b0s,e.b0i),a=it(e.b1s,e.b1i);return Math.min(t,n,o,r,i,a)}var Ks=new v({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:zo,gamutSpace:"self",fromBase(e){let[t,n,o]=[O(e[0]),O(e[1]),O(e[2])],r;if(t>99.9999999)r=0,t=100;else if(t<1e-8)r=0,t=0;else{let i=Mn(t),a=Xr(i);r=n/a*100}return[o,r,t]},toBase(e){let[t,n,o]=[O(e[0]),O(e[1]),O(e[2])],r;if(o>99.9999999)o=100,r=0;else if(o<1e-8)o=0,r=0;else{let i=Mn(o);r=Xr(i)/100*n}return[o,r,t]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Zr=203,Jr=2610/2**14,Qs=2**14/2610,Us=2523/2**5,Wr=2**5/2523,Kr=3424/2**12,Qr=2413/2**7,Ur=2392/2**7,el=new Z({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:_n,toBase(e){return e.map(function(t){return(Math.max(t**Wr-Kr,0)/(Qr-Ur*t**Wr))**Qs*1e4/Zr})},fromBase(e){return e.map(function(t){let n=Math.max(t*Zr/1e4,0),o=Kr+Qr*n**Jr,r=1+Ur*n**Jr;return(o/r)**Us})}}),ei=.17883277,ti=.28466892,ni=.55991073,io=3.7743,tl=new Z({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:_n,toBase(e){return e.map(function(t){return t<=.5?t**2/3*io:(Math.exp((t-ni)/ei)+ti)/12*io})},fromBase(e){return e.map(function(t){return t/=io,t<=1/12?Math.sqrt(3*t):ei*Math.log(12*t-ti)+ni})}}),Pi={};ke.add("chromatic-adaptation-start",e=>{e.options.method&&(e.M=Ai(e.W1,e.W2,e.options.method))});ke.add("chromatic-adaptation-end",e=>{e.M||(e.M=Ai(e.W1,e.W2,e.options.method))});function Sn({id:e,toCone_M:t,fromCone_M:n}){Pi[e]=arguments[0]}function Ai(e,t,n="Bradford"){let o=Pi[n],[r,i,a]=R(o.toCone_M,e),[l,s,c]=R(o.toCone_M,t),d=[[l/r,0,0],[0,s/i,0],[0,0,c/a]],u=R(d,o.toCone_M);return R(o.fromCone_M,u)}Sn({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});Sn({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});Sn({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});Sn({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(W,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});W.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var nl=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],ol=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Hi=new Z({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:W.ACES,toXYZ_M:nl,fromXYZ_M:ol}),bn=2**-16,ao=-.35828683,vn=(Math.log2(65504)+9.72)/17.52,rl=new Z({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[ao,vn],name:"Red"},g:{range:[ao,vn],name:"Green"},b:{range:[ao,vn],name:"Blue"}},referred:"scene",base:Hi,toBase(e){let t=-.3013698630136986;return e.map(function(n){return n<=t?(2**(n*17.52-9.72)-bn)*2:n<vn?2**(n*17.52-9.72):65504})},fromBase(e){return e.map(function(t){return t<=0?(Math.log2(bn)+9.72)/17.52:t<bn?(Math.log2(bn+t*.5)+9.72)/17.52:(Math.log2(t)+9.72)/17.52})}}),oi=Object.freeze({__proto__:null,A98RGB:Hs,A98RGB_Linear:Li,ACEScc:rl,ACEScg:Hi,CAM16_JMh:qa,HCT:_t,HPLuv:Ks,HSL:Fi,HSLuv:Ws,HSV:Ni,HWB:Es,ICTCP:mo,JzCzHz:uo,Jzazbz:fi,LCH:zt,LCHuv:zo,Lab:oe,Lab_D65:ho,Luv:Ei,OKLCH:qs,OKLab:at,P3:Si,P3_Linear:_i,ProPhoto:Ys,ProPhoto_Linear:Vi,REC_2020:zi,REC_2020_Linear:_n,REC_2100_HLG:tl,REC_2100_PQ:el,XYZ_ABS_D65:yo,XYZ_D50:wo,XYZ_D65:Y,sRGB:ct,sRGB_Linear:Di}),H=class e{constructor(...t){let n;t.length===1&&(n=z(t[0]));let o,r,i;n?(o=n.space||n.spaceId,r=n.coords,i=n.alpha):[o,r,i]=t,Object.defineProperty(this,"space",{value:v.get(o),writable:!1,enumerable:!0,configurable:!0}),this.coords=r?r.slice():[0,0,0],this.alpha=i>1||i===void 0?1:i<0?0:i;for(let a=0;a<this.coords.length;a++)this.coords[a]==="NaN"&&(this.coords[a]=NaN);for(let a in this.space.coords)Object.defineProperty(this,a,{get:()=>this.get(a),set:l=>this.set(a,l)})}get spaceId(){return this.space.id}clone(){return new e(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...t){let n=ls(this,...t);return n.color=new e(n.color),n}static get(t,...n){return t instanceof e?t:new e(t,...n)}static defineFunction(t,n,o=n){let{instance:r=!0,returns:i}=o,a=function(...l){let s=n(...l);if(i==="color")s=e.get(s);else if(i==="function<color>"){let c=s;s=function(...d){let u=c(...d);return e.get(u)},Object.assign(s,c)}else i==="array<color>"&&(s=s.map(c=>e.get(c)));return s};t in e||(e[t]=a),r&&(e.prototype[t]=function(...l){return a(this,...l)})}static defineFunctions(t){for(let n in t)e.defineFunction(n,t[n],t[n])}static extend(t){if(t.register)t.register(e);else for(let n in t)e.defineFunction(n,t[n])}};H.defineFunctions({get:ne,getAll:St,set:ye,setAll:Co,to:V,equals:cs,inGamut:Re,toGamut:Be,distance:pi,toString:xt});Object.assign(H,{util:la,hooks:ke,WHITES:W,Space:v,spaces:v.registry,parse:di,defaults:re});for(let e of Object.keys(oi))v.register(oi[e]);for(let e in v.registry)go(e,v.registry[e]);ke.add("colorspace-init-end",e=>{go(e.id,e),e.aliases?.forEach(t=>{go(t,e)})});function go(e,t){let n=e.replace(/-/g,"_");Object.defineProperty(H.prototype,n,{get(){let o=this.getAll(e);return typeof Proxy>"u"?o:new Proxy(o,{has:(r,i)=>{try{return v.resolveCoord([t,i]),!0}catch{}return Reflect.has(r,i)},get:(r,i,a)=>{if(i&&typeof i!="symbol"&&!(i in r)){let{index:l}=v.resolveCoord([t,i]);if(l>=0)return r[l]}return Reflect.get(r,i,a)},set:(r,i,a,l)=>{if(i&&typeof i!="symbol"&&!(i in r)||i>=0){let{index:s}=v.resolveCoord([t,i]);if(s>=0)return r[s]=a,this.setAll(e,r),!0}return Reflect.set(r,i,a,l)}})},set(o){this.setAll(e,o)},configurable:!0,enumerable:!0})}H.extend(lt);H.extend({deltaE:yt});Object.assign(H,{deltaEMethods:lt});H.extend(Ls);H.extend({contrast:Bs});H.extend(Is);H.extend(ds);H.extend(Rs);H.extend(Cn);function ut(e){let t=new H(e),n=Math.max(0,Math.min(1,t.srgb.r??0))*255,o=Math.max(0,Math.min(1,t.srgb.g??0))*255,r=Math.max(0,Math.min(1,t.srgb.b??0))*255;return[Math.round(n),Math.round(o),Math.round(r)]}function $i(e){let t=ut(e),n=new H(`rgb(${t[0]} ${t[1]} ${t[2]})`).to("hsl");return[n.coords[0].valueOf(),n.coords[1].valueOf(),n.coords[2].valueOf()]}function Oi(e){let t=new H(e).to("oklch");return[t.coords[0].valueOf(),t.coords[1].valueOf(),t.coords[2].valueOf()]}function Bt(e){let t=new H(e).to("srgb"),n=t.contrastWCAG21("white"),o=t.contrastWCAG21("black");return n>2.4&&o<7.5?"white":"black"}function Gi(e){return`#${e[0].toString(16).padStart(2,"0")}${e[1].toString(16).padStart(2,"0")}${e[2].toString(16).padStart(2,"0")}`.toUpperCase()}function ji(e){e=e?.replace("#","")??"000000",e.length!==6&&(e="000000");let t=parseInt(e,16),n=t>>16&255,o=t>>8&255,r=t&255;return[n,o,r]}var Q=class e{defaultModel=ln.oklch;showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"}];colorConfig=K({model:this.defaultModel,variable:this.defaultModel.components[this.defaultModel.defaultVariableIndex],variableIndex:this.defaultModel.components.findIndex(t=>t.name===this.defaultModel.components[this.defaultModel.defaultVariableIndex].name)});axisConfig=K({alto:100,continuo:!1,pasos:12,automatico:!0,showValues:this.showValuesOptions[0]?.value??"no",separate:!1});colorBase=K(this.defaultModel.defaultValues());minmax=K([this.defaultModel.components[this.defaultModel.defaultVariableIndex].min,this.defaultModel.components[this.defaultModel.defaultVariableIndex].max]);currentColor=K(this.defaultModel.defaultValues());rgb=J(()=>ut(this.colorConfig().model.convert(this.currentColor())));modelChanged(t){this.colorConfigChanged({model:t,variable:t.components[t.defaultVariableIndex],variableIndex:t.components.findIndex(n=>n.name===t.components[t.defaultVariableIndex].name)})}variableChanged(t){let n=this.colorConfig().model;this.colorConfigChanged({model:n,variable:t,variableIndex:n.components.findIndex(o=>o.name===t.name)})}axisConfigChanged(t){this.axisConfig.set(t)}rangeChanged(t){this.minmax.set(t)}colorChanged(t){this.currentColor.set(t)}colorSelected(t){let n=this.getChannels(t);this.colorBase.set(n),this.currentColor.set(n)}colorConfigChanged(t){this.onColorConfigChanged(t),this.colorConfig.set(t)}getChannels(t){let n=this.colorConfig()?.model;if(!n||n.name==="rgb")return t;let o=new H(`rgb(${t[0]} ${t[1]} ${t[2]})`).to(n.name),r=this.ensureCoord(o.coords[0],n.components[0]),i=this.ensureCoord(o.coords[1],n.components[1]),a=this.ensureCoord(o.coords[2],n.components[2]);return[r,i,a]}ensureCoord(t,n){let o=Number.isNaN(t)?0:t;return Math.max(0,Math.min(n.max,o))}onColorConfigChanged(t){let n=this.colorConfig()?.model.convert(this.currentColor()),o=t.model?.defaultValues()??[0,0,0];if(t.model.name===this.colorConfig()?.model.name&&(o=this.currentColor()),n)switch(t.model.name){case"hsl":o=$i(n);break;case"oklch":o=Oi(n);break;default:o=ut(n)}this.colorConfig.set(t),this.minmax.set(t.variable?[t.variable.min,t.variable.max]:[0,0]),this.colorBase.set(o),this.currentColor.set(o)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})};var il=(e,t,n)=>({"bg-gris-100/85":e,"dark:bg-gris-800/85":t,bold:n}),al=(e,t,n)=>({"bg-gris-100/50":e,"dark:bg-gris-700/45":t,"semi-bold":n}),Yi=(e,t)=>t.name;function sl(e,t){if(e&1){let n=de();Ce(0),f(1,"li")(2,"span",4),A("click",function(){let r=ie(n).$implicit,i=w(2);return ae(i.state.variableChanged(r))}),k(3),h()()}if(e&2){let n=t.$implicit,o=w(2).state.colorConfig().variable.name===n.name;p(2),ue(bt(3,al,o,o,o)),p(),ve(n.name)}}function ll(e,t){if(e&1){let n=de();Ce(0),f(1,"li")(2,"div",1)(3,"span",2),A("click",function(){let r=ie(n).$implicit,i=w();return ae(i.state.modelChanged(r))}),k(4),h(),f(5,"ul",3),ee(6,sl,4,7,"li",null,Yi),h()()()}if(e&2){let n=t.$implicit,o=w().state.colorConfig().model.name===n.name;p(2),y("zzBorderSize",o?"thin":"none"),p(),ue(bt(7,il,o,o,o)),p(),ve(n.name),p(),$("p-2",o),y("zz-collapse-vertical",!o),p(),te(n.components)}}var kn=class e{models=wt;state=j(Q);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-menu"]],decls:3,vars:0,consts:[[1,"space-y-2","min-w-36","w-[14ch]"],["zz-container","",1,"rounded",2,"background-color","none !important",3,"zzBorderSize"],[1,"select-none","uppercase","text-larger-2","w-full","cursor-pointer","inline-block","transition-all","p-2","rounded","hover:bg-gris-100","dark:hover:bg-gris-800/95",3,"click"],[1,"space-y-1",3,"zz-collapse-vertical"],[1,"select-none","w-full","inline-block","cursor-pointer","transition-all","px-2","py-1","rounded","dark:hover:bg-gris-700/60",3,"click"]],template:function(n,o){n&1&&(f(0,"ul",0),ee(1,ll,8,11,"li",null,Yi),h()),n&2&&(p(),te(o.models))},dependencies:[cn,tt],encapsulation:2,changeDetection:0})};var Bn=class e{show=C(!0,{alias:"zz-shadow"});static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-shadow",""],["zzShadow"]],hostVars:4,hostBindings:function(n,o){n&2&&$("shadow-md/50",o.show())("shadow-black",o.show())},inputs:{show:[1,"zz-shadow","show"]}})};var Ee=class e{colorModel=C(void 0,{alias:"color-model"});values=C(void 0);get background(){return this.bgColor()??"black"}bgColor=J(()=>{let t=this.colorModel();if(!t)return;let n=this.values()??[0,0,0];return t.convert([n[0],n[1],n[2]])});static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","color-swatch",""]],hostVars:2,hostBindings:function(n,o){n&2&&S("background-color",o.background)},inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"]}})},Tn=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","color-swatch-panel",""]],features:[L([{directive:Ee,inputs:["color-model","color-model","values","values"]},{directive:Ue,inputs:["zz-rounded","roundedSize"]},{directive:Bn,inputs:["zz-shadow","shadow"]}])]})};function ul(e,t){if(e&1&&(Ce(0),f(1,"span"),k(2),f(3,"span",1),k(4),Oe(5,"number"),h()(),f(6,"span"),k(7),f(8,"span",1),k(9),Oe(10,"number"),h()(),f(11,"span"),k(12),f(13,"span",1),k(14),Oe(15,"number"),h()()),e&2){let n=t,o=w().colorModel().components;p(2),se("",o[0].label,": "),p(2),ve(Ge(5,6,n[0],"0.0-"+o[0].precision)),p(3),se(" ",o[1].label,": "),p(2),ve(Ge(10,9,n[1],"0.0-"+o[1].precision)),p(3),se(" ",o[2].label,": "),p(2),ve(Ge(15,12,n[2],"0.0-"+o[2].precision))}}var dt=class e{colorModel=C(ln.rgb,{alias:"color-model"});values=C(void 0,{alias:"values",transform:t=>t??[0,0,0]});vertical=C(!1,{alias:"vertical"});static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-values-display"]],inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"],vertical:[1,"vertical"]},decls:2,vars:5,consts:[[1,"flex","px-1","justify-center","font-roboto"],[1,"inline-block","text-right"]],template:function(n,o){if(n&1&&(f(0,"div",0),N(1,ul,16,15),h()),n&2){let r;$("flex-col",o.vertical())("gap-2",!o.vertical()),p(),I((r=o.values())?1:-1,r)}},dependencies:[$t],encapsulation:2,changeDetection:0})};var dl=(e,t)=>({"border-white/40":e,"border-black/40":t});function ml(e,t){if(e&1){let n=de();f(0,"input",1),A("change",function(){ie(n);let r=w();return ae(r.updateColor())}),h()}if(e&2){let n=w();ue(Yo(3,dl,n.borderColor()==="white",n.borderColor()==="black")),y("formControl",n.colorControl)}}var In=class e{colorControl=void 0;value=C("#000000",{alias:"color",transform:t=>{let n=t??"#000000";return typeof n=="string"?n.startsWith("#")?n:`#${n}`:Gi(n)}});colorChange=new Lt;borderColor=K("");constructor(){pe(()=>{this.colorControl?.setValue(this.value());let t=Bt(this.value());this.borderColor.set(t)})}ngOnInit(){let t=Bt(this.value());this.borderColor.set(t),this.colorControl=new q(this.value(),{nonNullable:!0})}updateColor(){this.colorChange.emit(ji(this.colorControl.value))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-selector"]],inputs:{value:[1,"color","value"]},outputs:{colorChange:"color-change"},decls:1,vars:1,consts:[["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"class","formControl"],["type","color",1,"rounded-md","appearance-none","[&::-webkit-color-swatch]:rounded-md","[&::-webkit-color-swatch]:border-none","[&::-webkit-color-swatch-wrapper]:p-0","shadow-md","shadow-black/20","border-2","focus:ring-1","focus:ring-gris-600/100",3,"change","formControl"]],template:function(n,o){n&1&&N(0,ml,1,6,"input",0),n&2&&I(o.colorControl?0:-1)},dependencies:[le,je,Ye,Qo],encapsulation:2})};function pl(e,t){if(e&1&&T(0,"zz-color-values-display",5),e&2){let n=w();y("values",n.state.rgb())}}var Fn=class e{height=C(120);state=j(Q);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-sample"]],inputs:{height:[1,"height"]},decls:6,vars:8,consts:[["zz-container","",1,"max-w-[25ch]","rounded-lg"],["color-swatch","",1,"text-right","p-4","rounded-lg",3,"color-model","values"],[3,"color-change","color"],[1,"transition-all","text-smaller","justify-center","w-full","min-h-10","max-h-20","py-2","flex","flex-col","items-center","text-md","dark:text-gris-100","text-gris-700"],[1,"whitespace-nowrap","w-[25ch]","text-center",2,"font-variation-settings","'wght' 450",3,"color-model","values"],[1,"opacity-70","text-smaller",2,"line-height","1rem",3,"values"]],template:function(n,o){n&1&&(f(0,"div",0)(1,"div",1)(2,"zz-color-selector",2),A("color-change",function(i){return o.state.colorSelected(i)}),h()(),f(3,"div",3),T(4,"zz-color-values-display",4),N(5,pl,1,1,"zz-color-values-display",5),h()()),n&2&&(p(),S("height",o.height(),"px"),y("color-model",o.state.colorConfig().model)("values",o.state.currentColor()),p(),y("color",o.state.rgb()),p(2),y("color-model",o.state.colorConfig().model)("values",o.state.currentColor()),p(),I(o.state.colorConfig().model.name!=="rgb"?5:-1))},dependencies:[le,Ee,dt,In,tt],encapsulation:2,changeDetection:0})};function fl(e,t){if(e&1&&k(0),e&2){let n=w(2);se(" ",n.unit," ")}}function hl(e,t){if(e&1&&(f(0,"span",1),k(1),Oe(2,"number"),h(),f(3,"span",2),N(4,fl,1,1),h()),e&2){let n=w();p(),se(" ",Ge(2,2,n.value,"1."+n.decimals+"-"+n.decimals)," "),p(3),I(n.showUnit?4:-1)}}function gl(e,t){if(e&1&&(f(0,"span",1),k(1),h()),e&2){let n=w();p(),se(" ",n.nullValueText," ")}}var Nn=class e{value=null;unit;length;nullValueText="";decimals=0;get showUnit(){return(this.unit?.length??0)>0}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-field-value"]],inputs:{value:"value",unit:"unit",length:"length",nullValueText:"nullValueText",decimals:"decimals"},features:[L([ze,Qe])],decls:3,vars:1,consts:[[1,"flex","flex-row","justify-end","opacity-95"],[1,"field-value-number"],[1,"field-value-unit"]],template:function(n,o){n&1&&(f(0,"div",0),N(1,hl,5,5)(2,gl,2,1,"span",1),h()),n&2&&(p(),I(o.value!==null?1:2))},dependencies:[$t],encapsulation:2,changeDetection:0})};var Ln=class e{controlPressed=K(!1);constructor(){window.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("keyup",this.handleKeyUp.bind(this))}handleKeyDown(t){this.controlPressed.set(t.ctrlKey)}handleKeyUp(t){this.controlPressed.set(t.ctrlKey)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})};var bl=(e,t,n,o)=>({"dark:[&::-webkit-slider-runnable-track]:bg-white/30":e,"[&::-webkit-slider-runnable-track]:bg-black/20":t,"focus:[&::-webkit-slider-runnable-track]:bg-black/50":n,"focus:dark:[&::-webkit-slider-runnable-track]:bg-white/50":o}),Vn=class e{constructor(t,n){this.el=t;this.renderer=n;pe(()=>{let o=this.accent()??!1;this.toggleAccent[o.toString()]?.forEach(r=>this.renderer.addClass(this.el.nativeElement,r)),this.toggleAccent[(!o).toString()]?.forEach(r=>this.renderer.removeClass(this.el.nativeElement,r))})}accent=C(!1);showTrack=C(!0);step=C(1,{alias:"zzStep",transform:t=>Math.max(Math.min(400,t??1),.001)});get stepCorregido(){return this.resolvedStep()}get current(){return this.value()}value=C(0,{alias:"zzValue",transform:t=>Math.max(Math.min(720,t??0),-720)});keyPressedService=j(Ln);resolvedStep=J(()=>{let t=this.step();return this.keyPressedService.controlPressed()?Number.isInteger(t)?1:t>=2?.5:.01:t});toggleAccent={false:["dark:[&::-webkit-slider-thumb]:bg-blue-400","[&::-webkit-slider-thumb]:bg-sky-400/90"],true:["dark:[&::-webkit-slider-thumb]:bg-orange-400","[&::-webkit-slider-thumb]:bg-orange-300"]};static \u0275fac=function(n){return new(n||e)(Fe(Vt),Fe(Rt))};static \u0275dir=g({type:e,selectors:[["input","type","range","zz-slider",""]],hostAttrs:[1,"h-[.75rem]","cursor-pointer","flex-row","items-center","focus:outline-none","[&::-webkit-slider-thumb]:shadow-md","[&::-webkit-slider-thumb]:shadow-black","[&::-webkit-slider-thumb]:transition-all","[&::-webkit-slider-thumb]:duration-150","focus:[&::-webkit-slider-thumb]:outline-gris-500","dark:focus:[&::-webkit-slider-thumb]:outline-gris-300","[&::-webkit-slider-thumb]:mt-[-0.35rem]","[&::-webkit-slider-thumb]:h-[.75rem]","[&::-webkit-slider-thumb]:w-[.75rem]","[&::-webkit-slider-thumb]:appearance-none","[&::-webkit-slider-thumb]:rounded-full","focus:[&::-webkit-slider-thumb]:outline-2","focus:[&::-webkit-slider-thumb]:outline-offset-0","[&::-webkit-slider-runnable-track]:h-[.125rem]","[&::-webkit-slider-runnable-track]:rounded-full","w-full"],hostVars:9,hostBindings:function(n,o){n&2&&(Pt("step",o.stepCorregido)("value",o.current),ue(qo(4,bl,o.showTrack(),o.showTrack(),o.showTrack(),o.showTrack())))},inputs:{accent:[1,"accent"],showTrack:[1,"showTrack"],step:[1,"zzStep","step"],value:[1,"zzValue","value"]},features:[L([Ke,Gt])]})};var Rn=class e{length=C(void 0,{alias:"zz-text-length",transform:t=>{let n=Math.max(0,t??0);return Number.isInteger(n)?n:void 0}});get width(){return this.length()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-text-length",""],["zzTextLength"]],hostAttrs:[1,"truncate","select-none","opacity-95"],hostVars:2,hostBindings:function(n,o){n&2&&S("width",o.width,"ch")},inputs:{length:[1,"zz-text-length","length"]}})};function vl(e,t){if(e&1&&T(0,"option",1),e&2){let n=t.$implicit;y("value",n)}}function Cl(e,t){if(e&1&&(f(0,"datalist",0),ee(1,vl,1,1,"option",1,Po),h()),e&2){let n=w();y("id",n.id),p(),te(n.values)}}var En=class e{_values=[];id;set values(t){this._values=t.sort((n,o)=>n-o).reduce((n,o)=>(n.includes(o)||n.push(o),n),[])}get values(){return this._values}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-data-list"]],inputs:{id:"id",values:"values"},decls:1,vars:1,consts:[[3,"id"],[3,"value"]],template:function(n,o){n&1&&N(0,Cl,3,1,"datalist",0),n&2&&I(o.id?0:-1)},encapsulation:2,changeDetection:0})};var wl=()=>[];function yl(e,t){if(e&1){let n=de();f(0,"label",8),A("dblclick",function(){ie(n);let r=w(2);return ae(r.control.reset())}),k(1),h()}if(e&2){let n=w(2);$("text-right",n.labelsReverse)("opacity-80",n.defaultValue!==void 0&&n.control.value===n.defaultValue),y("for",n.fieldName)("zz-text-length",n.labelLength),p(),se(" ",n.label," ")}}function xl(e,t){e&1&&T(0,"div")}function Ml(e,t){if(e&1&&T(0,"zz-field-value",9),e&2){let n=w(2);$("opacity-70",n.defaultValue!==void 0&&n.control.value===n.defaultValue),y("value",n.control.value)("length",n.valueLength)("decimals",n.decimales)("unit",n.unit)}}function zl(e,t){if(e&1&&(f(0,"div",2)(1,"div",3),N(2,yl,2,7,"label",4)(3,xl,1,0,"div")(4,Ml,1,6,"zz-field-value",5),h(),T(5,"input",6,0)(7,"zz-data-list",7),h()),e&2){let n,o,r=w();$("flex-col-reverse",!r.labelsAbove),y("formGroup",r.formGroup),p(),$("flex-row-reverse",r.labelsReverse),p(),I(r.showLabel?2:3),p(2),I(r.showValue?4:-1),p(),y("zzStep",(n=r.step)!==null&&n!==void 0?n:1)("accent",r.defaultValue!==void 0&&r.control.value!==r.defaultValue)("formControlName",r.fieldName)("zzValue",r.control.value)("showTrack",r.showTrack())("min",r.min)("max",r.max),Et("aria-label","Input for "+r.label)("list",r.fieldName+"-list"),p(2),y("id",r.fieldName+"-list")("values",(o=r.stops)!==null&&o!==void 0?o:jo(18,wl))}}var mt=class e{constructor(t){this._parentFormGroupDirective=t}fieldName="";labelsAbove=!0;labelsReverse=!1;label="";valueLength;unit="";showTrack=C(!0);min=0;max=10;step=1;stops=[];labelLength;_defaultValue=0;get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}_showLabel=!1;get showLabel(){return this._showLabel&&(this.labelLength??1)>0}set showLabel(t){this._showLabel=t}_showValue=!1;get showValue(){return this._showValue&&(this.valueLength??1)>0}set showValue(t){this._showValue=t}get decimales(){let t=0;if((this.step??1)!==1&&!Number.isInteger(this.step)&&(t=this.step.toString().split(".")[1]?.length??0),(this.min??0)!==0&&!Number.isInteger(this.min)){let n=this.min.toString();t=Math.max(t,n.split(".")[1]?.length??0)}if((this.max??10)!==10&&!Number.isInteger(this.max)){let n=this.max.toString();t=Math.max(t,n.split(".")[1]?.length??0)}return t}get formGroup(){return this._parentFormGroupDirective?.control}get control(){return this._parentFormGroupDirective?.control.controls[this.fieldName]}static \u0275fac=function(n){return new(n||e)(Fe(we,8))};static \u0275cmp=_({type:e,selectors:[["zz-slider-field"]],inputs:{fieldName:"fieldName",labelsAbove:[0,"labels-above","labelsAbove"],labelsReverse:[0,"labels-reverse","labelsReverse"],label:"label",valueLength:"valueLength",unit:"unit",showTrack:[1,"showTrack"],min:"min",max:"max",step:"step",stops:"stops",labelLength:"labelLength",defaultValue:"defaultValue",showLabel:"showLabel",showValue:"showValue"},decls:1,vars:1,consts:[["slider",""],["zz-overflow-visible","",1,"w-full","p-1","bg-transparent","flex","flex-col",3,"flex-col-reverse","formGroup"],["zz-overflow-visible","",1,"w-full","p-1","bg-transparent","flex","flex-col",3,"formGroup"],["zz-overflow-visible","",1,"flex","flex-row","items-base","justify-between"],[3,"for","zz-text-length","text-right","opacity-80"],[3,"value","length","decimals","unit","opacity-70"],["zz-slider","","type","range",3,"zzStep","accent","formControlName","zzValue","showTrack","min","max"],[3,"id","values"],[3,"dblclick","for","zz-text-length"],[3,"value","length","decimals","unit"]],template:function(n,o){n&1&&N(0,zl,8,19,"div",1),n&2&&I(o.control?0:-1)},dependencies:[le,je,Ko,Ye,Me,we,Ot,Vn,Nn,Rn,En,Jt],encapsulation:2})};function _l(e,t){if(e&1&&T(0,"div",1),e&2){let n=t.$implicit,o=w();y("color-model",o.colorConfig().model)("values",n)}}var pt=class e{colorConfig=C(void 0,{alias:"color-config"});height=C(30,{transform:t=>{if(t===void 0)return 30;let n=Number.isInteger(t)?t:30;return Math.max(1,Math.min(400,n))}});colorBase=C(void 0,{alias:"color-base"});swatches=void 0;ngOnInit(){this.swatches=J(()=>{let t=this.colorConfig();if(!t)return[];let n=t.variable,o=this.colorBase()??t.model.defaultValues();return n.axisValues.map(r=>{let i=[...o];return i[t.variableIndex]=r,i})})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-axis"]],inputs:{colorConfig:[1,"color-config","colorConfig"],height:[1,"height"],colorBase:[1,"color-base","colorBase"]},decls:3,vars:2,consts:[[1,"flex","flex-row","justify-between"],["color-swatch","",1,"axis-swatch",3,"color-model","values"]],template:function(n,o){n&1&&(f(0,"div",0),ee(1,_l,1,2,"div",1,$e),h()),n&2&&(S("height",o.height(),"px"),p(),te(o.swatches()))},dependencies:[Ee],encapsulation:2,changeDetection:0})};function Dl(e,t){if(e&1&&(f(0,"div",1)(1,"span",2),k(2,"arrow_range"),h()(),T(3,"zz-slider-field",3)(4,"zz-color-axis",4)(5,"zz-slider-field",5)),e&2){w();let n=Ht(1),o=w();p(3),y("showTrack",!1)("min",n.variable.min)("max",n.variable.max)("step",o.componentStep(n.variable.precision))("label",n.variable.name)("defaultValue",n.variable.max)("showLabel",!0)("labelLength",10)("unit",n.variable.unit)("showValue",!0)("valueLength",9),p(),y("color-config",n)("color-base",o.currentColor())("height",o.height()),p(),y("showTrack",!1)("labels-above",!1)("labels-reverse",!0)("min",n.variable.min)("max",n.variable.max)("step",o.componentStep(n.variable.precision))("label",n.variable.name)("defaultValue",n.variable.min)("showLabel",!1)("labelLength",10)("unit",n.variable.unit)("showValue",!0)("valueLength",9)}}function Sl(e,t){if(e&1&&(f(0,"form",0),Ce(1),N(2,Dl,6,27),h()),e&2){let n=w();y("formGroup",n.formDual),p();let o=At(n.colorConfig());p(),I(o?2:-1)}}var Pn=class e{colorConfig=C(void 0,{alias:"color-config"});currentColor=C(void 0);value=C(void 0);height=C(30,{transform:t=>{if(t===void 0)return 30;let n=Number.isInteger(t)?t:30;return Math.max(1,Math.min(400,n))}});minmaxChange=new Lt;formDual=void 0;constructor(){pe(()=>{let t=this.minMax(this.colorConfig(),this.value());this.formDual?.patchValue({min:t.min,max:t.max},{emitEvent:!0})})}ngOnInit(){let t=this.minMax(this.colorConfig(),this.value());this.formDual=new qe({min:new q(t.min,{nonNullable:!0}),max:new q(t.max,{nonNullable:!0})}),this.formDual.valueChanges.subscribe(n=>{this.minmaxChange.emit([n.min??this.formDual?.controls.min.value??0,n.max??this.formDual?.controls.max.value??0])})}minMax(t,n){if(t===void 0||n===void 0)return{min:0,max:0};let o=(t.variable.max+t.variable.min)/2,r=n>o?t.variable.max:n*2-t.variable.min;return{min:n<o?t.variable.min:n*2-t.variable.max,max:r}}componentStep(t){return 1/Math.pow(10,t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-dual-axis-slider"]],hostAttrs:[1,"block","w-full"],inputs:{colorConfig:[1,"color-config","colorConfig"],currentColor:[1,"currentColor"],value:[1,"value"],height:[1,"height"]},outputs:{minmaxChange:"minmaxChange"},decls:1,vars:1,consts:[[1,"relative",3,"formGroup"],[1,"absolute","left-1/2","top-1"],["zz-icon","",1,"h-6"],["fieldName","max",1,"relative","z-2","font-bold",3,"showTrack","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","color-base","height"],["fieldName","min",1,"relative","z-2","-mt-2.5","block",3,"showTrack","labels-above","labels-reverse","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"]],template:function(n,o){n&1&&N(0,Sl,3,3,"form",0),n&2&&I(o.formDual!==void 0?0:-1)},dependencies:[mt,pt,le,Xe,Me,we,We],encapsulation:2,changeDetection:0})};var kl=(e,t,n)=>({model:e,variable:t,variableIndex:n});function Bl(e,t){if(e&1){let n=de();f(0,"zz-dual-axis-slider",4),A("minmaxChange",function(r){ie(n);let i=w(3);return ae(i.onVariableChange(r))}),h()}if(e&2){let n=w().$implicit,o=w(),r=w();y("color-config",o)("value",r.state.colorBase()[n])("currentColor",r.state.currentColor())("height",r.height)}}function Tl(e,t){if(e&1&&T(0,"zz-slider-field",5)(1,"zz-color-axis",6),e&2){let n=w().$implicit,o=Ht(0),r=w(),i=w();y("showTrack",!1)("fieldName","v"+n)("min",o.min)("max",o.max)("step",i.componentStep(o.precision))("label",o.name)("defaultValue",o.defaultValue)("showLabel",!0)("labelLength",10)("unit",o.unit)("showValue",!0)("valueLength",9),p(),y("color-config",bt(15,kl,r.model,o,n))("color-base",i.state.currentColor())("height",i.height)}}function Il(e,t){if(e&1&&(Ce(0),f(1,"div"),N(2,Bl,1,4,"zz-dual-axis-slider",3)(3,Tl,2,19),h()),e&2){let n=t.$implicit,o=w(),r=w();At(o.model.components[n]),p(),S("min-height",70+r.height,"px"),p(),I(n===o.variableIndex?2:3)}}function Fl(e,t){if(e&1&&(f(0,"form",1),ee(1,Il,4,4,"div",2,$e),h()),e&2){let n=w();y("formGroup",n.configGroup),p(),te(n.indices)}}var An=class e{state=j(Q);height=30;indices=[0,1,2];configGroup=void 0;constructor(){pe(()=>{let t=this.state.colorBase()??[0,0,0];this.configGroup?.patchValue({v0:t[0],v1:t[1],v2:t[2]},{emitEvent:!0})})}ngOnInit(){let t=this.state.colorBase()??[0,0,0];this.configGroup=new qe({v0:new q(t[0],{nonNullable:!0}),v1:new q(t[1],{nonNullable:!0}),v2:new q(t[2],{nonNullable:!0})}),this.configGroup.valueChanges.subscribe(()=>{let{v0:n,v1:o,v2:r}=this.configGroup?.value??{v0:0,v1:0,v2:0},i=[n,o,r];this.state.colorChanged(i)})}onVariableChange(t){this.configGroup.patchValue({["v"+this.state.colorConfig().variableIndex]:(t[0]+t[1])/2}),this.state.rangeChanged(t)}componentStep(t){return 1/Math.pow(10,t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-range-selector"]],decls:2,vars:1,consts:[[1,"h-fit",2,"background-color","none !important","border-width","0px !important"],[1,"min-w-fit","h-fit",3,"formGroup"],[3,"minHeight"],[1,"block",3,"color-config","value","currentColor","height"],[1,"block",3,"minmaxChange","color-config","value","currentColor","height"],[1,"relative","z-2",3,"showTrack","fieldName","min","max","step","label","defaultValue","showLabel","labelLength","unit","showValue","valueLength"],[1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","color-base","height"]],template:function(n,o){if(n&1&&(f(0,"div",0),N(1,Fl,3,1,"form",1),h()),n&2){let r;p(),I((r=o.state.colorConfig())?1:-1,r)}},dependencies:[mt,Ze,Xe,Me,le,we,pt,Pn],encapsulation:2,changeDetection:0})};var Hn=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-input",""],["zzInput"]],hostAttrs:[1,"py-1","ring-none","px-1","transition-all","transition-discrete","focus:px-0","focus:[&::-webkit-inner-spin-button]:block","[&::-webkit-inner-spin-button]:hidden","outline-none","border-b-1","border-b-gris-500/80","dark:focus:border-b-sky-600","focus:border-b-sky-600","w-12","text-right","dark:text-gris-100","text-gris-900","invalid:dark:border-b-red-500","invalid:border-b-red-700","dark:bg-gris-900"],features:[L([fe,{directive:_e,inputs:["zz-disabled","zzDisabled"]}])]})};var $n=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","zz-width-full",""],["zzWidthFull"]],hostAttrs:[1,"w-full"]})};var On=class e{get baseSelectClass(){return!0}static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["select","zz-select",""],["zzSelect"]],hostAttrs:[1,"[&::picker-icon]:font-icons","[&::picker-icon]:opacity-80","[&::picker-icon]:text-larger-5","[&::picker-icon]:leading-[1lh]","transition-all","ring-none","outline-none","border-b-1","border-b-gris-500/80","dark:focus:border-b-sky-600","focus:border-b-sky-600"],hostVars:2,hostBindings:function(n,o){n&2&&$("zz-select",o.baseSelectClass)},features:[L([jt,fe,$n,{directive:_e,inputs:["zz-disabled","zzDisabled"]}])]})};var Ll=["valor"];function Vl(e,t){if(e&1&&(f(0,"option",2),k(1),h()),e&2){let n=t.$implicit,o=w();y("value",n)("selected",o.value&&n[o.displayKey()]===o.value[o.displayKey()]),p(),se(" ",n[o.displayKey()]," ")}}var Gn=class e{constructor(t){this._elementRef=t}trackValue(t,n){let o=n[this.displayKey()]?.toString();return o?t+"-"+o:t.toString()}static nextId=0;controlType="select";valorInput;id=`${this.controlType}-${e.nextId++}`;selectId=`${this.id}-select`;userAriaDescribedBy;items=C([]);displayKey=C.required();upperCase=C(!1);get disabled(){return this._disabled}set disabled(t){this._disabled=t}_disabled=!1;get value(){return this._value}set value(t){this._value=t,this.touched||this.writeValue(t)}_value=void 0;_renderer=j(Rt);onValueChange(t){let n=t.target.selectedIndex;this.value=this.items()[n],this.onChange(this._value),t.stopPropagation()}touched=!1;onFocusOut(t){this.touched=!0,this.onTouched?.call(this)}writeValue(t){if(this._value=t,t){let n=t[this.displayKey()],o=this.items().findIndex(i=>i[this.displayKey()]===n);o=o===-1?0:o;let r=this.valorInput?.nativeElement.querySelector(`option:nth-of-type(${o+1})`);this._renderer.setProperty(r,"selected","selected")}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t}onChange=t=>{};onTouched=()=>{};static \u0275fac=function(n){return new(n||e)(Fe(Vt))};static \u0275cmp=_({type:e,selectors:[["zz-select"]],viewQuery:function(n,o){if(n&1&&Ao(Ll,7),n&2){let r;Ho(r=$o())&&(o.valorInput=r.first)}},hostVars:2,hostBindings:function(n,o){n&2&&Pt("id",o.id)("selectId",o.selectId)},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],items:[1,"items"],displayKey:[1,"displayKey"],upperCase:[1,"upperCase"],disabled:"disabled",value:"value"},features:[Go([{provide:Zo,useExisting:Vo(()=>e),multi:!0}])],decls:4,vars:4,consts:[["valor",""],["zz-select","",1,"py-1","pl-2","pr-1","group","cursor-pointer","transition-all","ease-in-out","text-gris-900","group-focus-within:text-black","dark:bg-gris-900","dark:text-gris-100","group-focus-within:dark:text-white",3,"focusout","change","zzDisabled","id"],[3,"value","selected"]],template:function(n,o){if(n&1){let r=de();f(0,"select",1,0),A("focusout",function(a){return ie(r),ae(o.onFocusOut(a))})("change",function(a){return ie(r),ae(o.onValueChange(a))}),ee(2,Vl,2,3,"option",2,o.trackValue,!0),h()}n&2&&($("uppercase",o.upperCase()),y("zzDisabled",o.disabled)("id",o.selectId),p(2),te(o.items()))},dependencies:[Xo,Ze,Uo,er,On],styles:['.zz-select::picker-icon{content:"arrow_drop_down"}  .zz-select:open::picker-icon{content:"arrow_drop_up"}  .zz-select option{padding-inline:calc(var(--spacing) * 3);padding-block:calc(var(--spacing) * 1);color:light-dark(var(--color-gris-800),var(--color-gris-50));transition:background-color .15s}  .zz-select option::checkmark{display:none}  .zz-select option:focus{background-color:light-dark(var(--color-gris-200),var(--color-gris-600));outline:none}  .zz-select option:checked{color:light-dark(white,white);background-color:light-dark(var(--color-sky-500),var(--color-sky-700))}  .zz-select option:checked:hover{color:light-dark(white,white);background:light-dark(var(--color-sky-600),var(--color-sky-600))}  .zz-select::picker(select){appearance:base-select;transition:all .15s allow-discrete;outline:none;background-color:light-dark(white,var(--color-gris-800));border-color:color-mix(in srgb,light-dark(black,white),transparent 80%)}'],changeDetection:0})};var jn=class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=g({type:e,selectors:[["","type","checkbox","zz-simple-check",""]],hostAttrs:[1,"appearance-none","text-inherit","inline-block","min-w-4","w-4","h-4","p-1","cursor-pointer","bg-white","dark:bg-gris-900","rounded-[25%]","border-[2px]","border-white","dark:border-gris-900","outline-[1px]","outline-gris-500","dark:outline-gris-400","focus:ring-[2px]","focus:ring-gris-900","dark:focus:ring-gris-100","transition-all","duration-100","checked:bg-sky-400","dark:checked:bg-sky-600"]})};function Rl(e,t){if(e&1&&(f(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),k(5,"Steps:"),h(),T(6,"input",6),h(),f(7,"label",7),T(8,"input",8),f(9,"span"),k(10,"Auto"),h()(),f(11,"div",9)(12,"label",10),k(13,"Height:"),h(),T(14,"input",11),h()(),f(15,"div",12)(16,"label",7),T(17,"input",13),f(18,"span"),k(19,"Flat"),h()(),f(20,"label",7),T(21,"input",14),f(22,"span"),k(23,"Separate"),h()()(),f(24,"div",4)(25,"label",15),k(26,"Values:"),h(),T(27,"zz-select",16,0),h()()()),e&2){let n=Oo(28),o=w();y("formGroup",o.configGroup),p(6),y("zzDisabled",o.configGroup.controls.pasos.disabled)("min",2)("max",100),p(8),y("zzDisabled",o.configGroup.controls.alto.disabled)("min",1)("max",180),p(11),y("for",n.selectId),p(2),y("items",o.showValuesOptions)}}var Yn=class e{state=j(Q);configGroup=void 0;showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"}];ngOnInit(){let t=this.state.axisConfig(),n=this.showValuesOptions.find(o=>o.value===t.showValues);this.configGroup=new qe({alto:new q(t.alto,{nonNullable:!0,validators:[vt.min(1),vt.max(180)]}),continuo:new q(t.continuo,{nonNullable:!0}),pasos:new q(t.pasos,{nonNullable:!0,validators:[vt.min(2),vt.max(100)]}),automatico:new q(t.automatico,{nonNullable:!0}),showValues:new q(n,{nonNullable:!0}),separate:new q(t.separate,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(Fo(30),No((o,r)=>JSON.stringify(o)===JSON.stringify(r)),Lo(this.configGroup.value)).subscribe(o=>{let r=this.configGroup?.controls;r&&this.configGroup?.valid&&this.state.axisConfigChanged({alto:o.alto??r.alto.value,continuo:o.continuo??r.continuo.value,pasos:o.pasos??r.pasos.value,automatico:o.automatico??r.automatico.value,showValues:o.showValues?.value??r.showValues.value.value,separate:o.separate??r.separate.value})})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-axis-advanced-config"]],decls:1,vars:1,consts:[["showValues",""],[1,"h-fit","w-full","text-smaller",2,"line-height","0.9rem",3,"formGroup"],[1,"flex","items-center","justify-between","flex-wrap"],[1,"flex","flex-row","items-center","gap-2"],[1,"flex","flex-row","items-center"],["for","pasos",1,"select-none"],["type","number","id","pasos","zz-input","","formControlName","pasos","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","zz-simple-check","","formControlName","automatico"],[1,"flex","flex-row","items-center","ml-3"],["for","alto",1,"select-none"],["type","number","id","alto","zz-input","","formControlName","alto","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-4"],["type","checkbox","zz-simple-check","","formControlName","continuo"],["type","checkbox","zz-simple-check","","formControlName","separate"],[1,"select-none",3,"for"],["displayKey","text","formControlName","showValues",1,"w-16",3,"items"]],template:function(n,o){n&1&&N(0,Rl,29,9,"form",1),n&2&&I(o.configGroup?0:-1)},dependencies:[Ze,Xe,je,Wo,Jo,Ye,Me,nr,tr,le,we,Ot,Hn,jn,Gn],encapsulation:2,changeDetection:0})};function El(e,t){if(e&1&&(f(0,"div",5),k(1," \u26A0 "),h()),e&2){let n=w().$implicit;S("color",n.fore),$("opacity-60",n.clamp)}}function Pl(e,t){if(e&1&&(f(0,"div",6),T(1,"zz-color-values-display",7),h()),e&2){let n=w().$implicit,o=w(2);S("color",n.fore),p(),y("color-model",o.state.colorConfig().model)("values",n.valores)("vertical",!0)}}function Al(e,t){if(e&1&&(f(0,"div",6),T(1,"zz-color-values-display",8),h()),e&2){let n=w().$implicit;S("color",n.fore),p(),y("values",n.color)("vertical",!0)}}function Hl(e,t){if(e&1&&(f(0,"div",2),N(1,El,2,4,"div",3)(2,Pl,2,5,"div",4)(3,Al,2,4,"div",4),h()),e&2){let n=t.$implicit,o=w(),r=w();y("shadow",!o.continuo)("roundedSize",o.continuo?"none":"large")("color-model",r.state.colorConfig().model)("values",n.valores),p(),I(r.showClamp()?1:-1),p(),I(o.showValues==="yes"?2:-1),p(),I(o.showValues==="rgb"?3:-1)}}function $l(e,t){if(e&1&&(f(0,"div",1),ee(1,Hl,4,7,"div",2,$e),h()),e&2){let n=t,o=w();S("height",n.alto,"px"),$("space-x-1",n.separate),p(),te(o.swatches())}}var qn=class e{state=j(Q);showClamp=C(!1);swatches=void 0;pasos=void 0;ngOnInit(){this.pasos=J(()=>{let t=this.state.colorConfig();if(!t)return 10;let n=this.state.axisConfig(),o=n?.pasos??10;if(n?.automatico??!0){let r=t.variable,i=this.state.minmax()[0],a=this.state.minmax()[1];return Math.min(o,Math.max(2,Math.ceil(Math.abs(a-i)/(r.max-r.min)*r.autoSteps)))}return o}),this.swatches=J(()=>{let t=this.state.colorConfig();if(!t)return[];let n=this.state.currentColor()??t.model.defaultValues(),o=this.pasos(),r=this.state.minmax()[0],a=(this.state.minmax()[1]-r)/(o-1),l=Array.from({length:o},(s,c)=>{let d=r+c*a,u=[...n];u[t.variableIndex]=d;let m=t.model.convert([u[0],u[1],u[2]]),M=ut(m);return{valores:u,color:M,fore:Bt(m)}});if(l.length>0){let s=l[0].color;for(let c=1;c<l.length;c++){let d=l[c].color,u=Math.abs(d[0]-s[0]),m=Math.abs(d[1]-s[1]),M=Math.abs(d[2]-s[2]);u<=7&&m<=3&&M<=14&&(l[c-1].clamp=!0,l[c].clamp=!0),s=d}}return l})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-color-palette"]],inputs:{showClamp:[1,"showClamp"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"space-x-1","height"],[1,"flex","flex-row","justify-between"],["color-swatch-panel","",1,"axis-swatch",3,"shadow","roundedSize","color-model","values"],[1,"text-larger-2","absolute","select-none","bottom-1","right-2","opacity-0","transition-opacity","duration-500","ease-in-out",3,"opacity-60","color"],[1,"text-smaller-2",3,"color"],[1,"text-larger-2","absolute","select-none","bottom-1","right-2","opacity-0","transition-opacity","duration-500","ease-in-out"],[1,"text-smaller-2"],[3,"color-model","values","vertical"],[3,"values","vertical"]],template:function(n,o){if(n&1&&N(0,$l,3,4,"div",0),n&2){let r;I((r=o.state.axisConfig())?0:-1,r)}},dependencies:[Tn,dt],encapsulation:2,changeDetection:0})};var qi=class e{state=j(Q);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["zz-palettes"]],hostAttrs:["styles","display: block;  height: 100vh;  width: 100vw;  overflow-x: hidden;"],decls:11,vars:2,consts:[[1,"flex","flex-row","items-top","justify-center","gap-8","pl-5","pr-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"py-2"],[1,"min-w-36","w-full","pt-1","relative","flex","flex-col"],[1,"mt-6","mb-4","opacity-80","hover:opacity-100"],[1,"block","pb-4",3,"showClamp"],[1,"py-2","hidden","lg:block"],[1,"block",3,"height"]],template:function(n,o){n&1&&(f(0,"div"),T(1,"zz-palettes-header"),h(),f(2,"main",0)(3,"div",1),T(4,"zz-color-menu"),h(),f(5,"div",2),T(6,"zz-color-range-selector")(7,"zz-axis-advanced-config",3)(8,"zz-color-palette",4),h(),f(9,"div",5),T(10,"zz-color-sample",6),h()()),n&2&&(p(8),y("showClamp",!0),p(2),y("height",200))},dependencies:[sn,kn,Fn,An,Yn,qn],encapsulation:2,changeDetection:0})};export{qi as PalettesComponent};
