import{a as ae,b as le,c as se,d as ce,e as me,f as pe,g as ue,h as de,j as fe,k as Ce,l as ge,n as xe,o as he,p as be,q as ve,r as _e}from"./chunk-HAMJMTOF.js";import{Aa as V,B,Ca as $,Da as v,H,Ib as K,Ja as m,Jb as U,Ka as R,Kb as w,La as k,Lb as W,Ma as F,Mb as q,Na as _,Nb as Q,Ob as h,Pb as X,Qa as I,Qb as Z,Ra as E,Sa as r,Ta as i,Tb as ee,Ua as p,Ub as oe,Va as b,Xa as x,Xb as te,Y as f,Ya as c,Yb as ne,Z as C,Zb as ie,_b as re,ca as y,cb as j,db as u,eb as A,ga as P,gb as Y,ia as d,kb as J,mb as G,qa as l,y as L,za as g}from"./chunk-CLI2ESYH.js";var M=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["zz-layout-header"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-between","m-auto","pl-6","pr-4","max-w-[1600px]","leading-8"],[1,"text-3xl","m-0","font-museo-moderno","leading-7","text-orange-600","dark:text-orange-500"]],template:function(e,t){e&1&&(r(0,"header")(1,"nav",0)(2,"h1",1),u(3,"CoLoRina"),i(),p(4,"zz-dark-mode-toggle"),i()())},dependencies:[_e],encapsulation:2})};var S=class n{collapse=P(!1,{alias:"zz-collapse-vertical"});static \u0275fac=function(e){return new(e||n)};static \u0275dir=V({type:n,selectors:[["","zz-collapse-vertical",""],["zzCollapseVertical"]],hostVars:4,hostBindings:function(e,t){e&2&&(R("height",t.collapse()?"0":"calc-size(auto, size)"),k("opacity-50",t.collapse()))},inputs:{collapse:[1,"zz-collapse-vertical","collapse"]},features:[$([fe,ae,ge])]})};var Ve=(n,o,e)=>({"bg-gris-100/85":n,"dark:bg-gris-800/85":o,bold:e}),ke=(n,o,e)=>({"bg-gris-100/50":n,"dark:bg-gris-700/45":o,"semi-bold":e}),we=(n,o)=>o.name;function Me(n,o){if(n&1){let e=b();r(0,"li")(1,"span",4),x("click",function(){let s=f(e).$implicit,a=c(2);return C(a.variableSelected(s))}),u(2),i()()}if(n&2){let e=o.$implicit,t=c(2);l(),F(G(3,ke,t.currentVariable().name===e.name,t.currentVariable().name===e.name,t.currentVariable().name===e.name)),l(),A(e.name)}}function Se(n,o){if(n&1){let e=b();Y(0),r(1,"li")(2,"div",1)(3,"span",2),x("click",function(){let s=f(e).$implicit,a=c();return C(a.modelSelected(s))}),u(4),i(),r(5,"ul",3),I(6,Me,3,7,"li",null,we),i()()()}if(n&2){let e=o.$implicit,t=c().currentModel().name===e.name;l(2),m("zzBorderSize",t?"thin":"none"),l(),F(G(7,Ve,t,t,t)),l(),A(e.name),l(),k("p-2",t),m("zz-collapse-vertical",!t),l(),E(e.components)}}var D=class n{models=le;currentModel=d(se.oklch);currentVariable=d(this.currentModel().components[this.currentModel().defaultVariableIndex]);currentVariableIndex=d(this.currentModel().components.findIndex(o=>o.name===this.currentModel().components[this.currentModel().defaultVariableIndex].name));colorConfigChange=new y;ngOnInit(){let o=this.currentModel();this.colorConfigChange.emit({model:o,variable:o.components[o.defaultVariableIndex],variableIndex:o.components.findIndex(e=>e.name===o.components[o.defaultVariableIndex].name)})}modelSelected(o){this.currentModel.set(o),this.currentVariable.set(o.components[o.defaultVariableIndex]),this.currentVariableIndex.set(o.components.findIndex(e=>e.name===o.components[o.defaultVariableIndex].name)),this.colorConfigChange.emit({model:o,variable:o.components[o.defaultVariableIndex],variableIndex:o.components.findIndex(e=>e.name===o.components[o.defaultVariableIndex].name)})}variableSelected(o){this.currentVariable.set(o),this.currentVariableIndex.set(this.currentModel().components.findIndex(e=>e.name===o.name)),this.colorConfigChange.emit({model:this.currentModel(),variable:o,variableIndex:this.currentModel().components.findIndex(e=>e.name===o.name)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["zz-color-menu"]],outputs:{colorConfigChange:"colorConfigChange"},decls:3,vars:0,consts:[[1,"space-y-2","min-w-36","w-[14ch]"],["zz-container","",1,"rounded",2,"background-color","none !important",3,"zzBorderSize"],[1,"select-none","uppercase","text-larger-2","w-full","cursor-pointer","inline-block","transition-all","p-2","rounded","hover:bg-gris-100","dark:hover:bg-gris-800/95",3,"click"],[1,"space-y-1",3,"zz-collapse-vertical"],[1,"select-none","w-full","inline-block","cursor-pointer","transition-all","px-2","py-1","rounded","dark:hover:bg-gris-700/60",3,"click"]],template:function(e,t){e&1&&(r(0,"ul",0),I(1,Se,8,11,"li",null,we),i()),e&2&&(l(),E(t.models))},dependencies:[S,Ce],encapsulation:2})};var N=class n{static \u0275fac=function(e){return new(e||n)};static \u0275dir=V({type:n,selectors:[["","type","checkbox","zz-simple-check",""]],hostAttrs:[1,"appearance-none","text-inherit","inline-block","min-w-4","w-4","h-4","p-1","cursor-pointer","bg-white","dark:bg-gris-900","rounded-[25%]","border-[2px]","border-white","dark:border-gris-900","outline-[1px]","outline-gris-500","dark:outline-gris-400","focus:ring-[2px]","focus:ring-gris-900","dark:focus:ring-gris-100","transition-all","duration-100","checked:bg-sky-400","dark:checked:bg-sky-600"]})};function De(n,o){if(n&1&&(r(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),u(5,"Steps:"),i(),p(6,"input",6),i(),r(7,"label",7),p(8,"input",8),r(9,"span"),u(10,"Auto"),i()(),r(11,"div",9)(12,"label",10),u(13,"Height:"),i(),p(14,"input",11),i()(),r(15,"div",12)(16,"label",7),p(17,"input",13),r(18,"span"),u(19,"Flat"),i()(),r(20,"label",7),p(21,"input",14),r(22,"span"),u(23,"Separate"),i()()(),r(24,"div",4)(25,"label",15),u(26,"Values:"),i(),p(27,"zz-select",16,0),i()()()),n&2){let e=j(28),t=c();m("formGroup",t.configGroup),l(6),m("zzDisabled",t.configGroup.controls.pasos.disabled)("min",2)("max",100),l(8),m("zzDisabled",t.configGroup.controls.alto.disabled)("min",1)("max",180),l(11),m("for",e),l(2),m("items",t.showValuesOptions)}}var T=class n{configGroup=void 0;axisConfigChange=new y;showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"}];ngOnInit(){this.configGroup=new Q({alto:new h(100,{nonNullable:!0,validators:[w.min(1),w.max(180)]}),continuo:new h(!1,{nonNullable:!0}),pasos:new h(12,{nonNullable:!0,validators:[w.min(2),w.max(100)]}),automatico:new h(!0,{nonNullable:!0}),showValues:new h(this.showValuesOptions[0],{nonNullable:!0}),separate:new h(!1,{nonNullable:!0})}),this.configGroup.valueChanges.pipe(L(30),B((o,e)=>JSON.stringify(o)===JSON.stringify(e)),H(this.configGroup.value)).subscribe(o=>{let e=this.configGroup?.controls;e&&this.configGroup?.valid&&this.axisConfigChange.emit({alto:o.alto??e.alto.value,continuo:o.continuo??e.continuo.value,pasos:o.pasos??e.pasos.value,automatico:o.automatico??e.automatico.value,showValues:o.showValues?.value??e.showValues.value.value,separate:o.separate??e.separate.value})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["zz-axis-advanced-config"]],outputs:{axisConfigChange:"axisConfigChange"},decls:1,vars:1,consts:[["showValues",""],[1,"h-fit","w-full","text-smaller",2,"line-height","0.9rem",3,"formGroup"],[1,"flex","items-center","justify-between","flex-wrap"],[1,"flex","flex-row","items-center","gap-2"],[1,"flex","flex-row","items-center"],["for","pasos",1,"select-none"],["type","number","id","pasos","zz-input","","formControlName","pasos","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer"],["type","checkbox","zz-simple-check","","formControlName","automatico"],[1,"flex","flex-row","items-center","ml-3"],["for","alto",1,"select-none"],["type","number","id","alto","zz-input","","formControlName","alto","value","10",3,"zzDisabled","min","max"],[1,"flex","flex-row","items-center","gap-4"],["type","checkbox","zz-simple-check","","formControlName","continuo"],["type","checkbox","zz-simple-check","","formControlName","separate"],[1,"select-none",3,"for"],["displayKey","text","formControlName","showValues",1,"w-16",3,"items"]],template:function(e,t){e&1&&v(0,De,29,9,"form",1),e&2&&_(t.configGroup?0:-1)},dependencies:[ie,X,U,Z,K,W,q,ne,te,re,ee,oe,xe,N,he],encapsulation:2})};var Ne=()=>({alto:30,continuo:!0,pasos:60,automatico:!0,showValues:"no"});function Te(n,o){if(n&1){let e=b();r(0,"zz-color-range-selector",6),x("colorChange",function(s){f(e);let a=c();return C(a.colorChange(s))})("rangeChange",function(s){f(e);let a=c();return C(a.rangeChange(s))}),i(),r(1,"zz-axis-advanced-config",7),x("axisConfigChange",function(s){f(e);let a=c();return C(a.configChanged(s))}),i(),p(2,"zz-color-axis",8)}if(n&2){let e=o,t=c();m("color-config",e)("axis-config",J(9,Ne))("color-base",t.colorBase()),l(2),m("color-config",e)("axis-config",t.axisConfig())("color-base",t.currentColor())("showClamp",!0)("min",t.minmax()[0])("max",t.minmax()[1])}}function Fe(n,o){if(n&1){let e=b();r(0,"zz-color-sample",9),x("newColor",function(s){f(e);let a=c();return C(a.onNewColor(s))}),i()}if(n&2){let e=c();m("height",200)("color-model",o.model)("current-color",e.currentColor())}}var ze=class n{colorConfig=d(void 0);axisConfig=d(void 0);colorBase=d([0,0,0]);minmax=d([0,0]);currentColor=d([0,0,0]);configChanged(o){this.axisConfig.set(o)}colorConfigChanged(o){let e=this.colorConfig()?.model.convert(this.currentColor()),t=o.model?.defaultValues()??[0,0,0];if(o.model.name===this.colorConfig()?.model.name&&(t=this.currentColor()),e)switch(o.model.name){case"hsl":t=pe(e);break;case"oklch":t=ue(e);break;default:t=me(e)}this.colorConfig.set(o),this.minmax.set(o.variable?[o.variable.min,o.variable.max]:[0,0]),this.colorBase.set(t),this.currentColor.set(t)}colorChange(o){this.currentColor.set(o)}rangeChange(o){this.minmax.set(o)}onNewColor(o){let e=this.getChannels(o);this.colorBase.set(e),this.currentColor.set(e)}getChannels(o){let e=this.colorConfig()?.model;if(!e||e.name==="rgb")return o;let t=new ce(`rgb(${o[0]} ${o[1]} ${o[2]})`).to(e.name),s=this.ensureCoord(t.coords[0],e.components[0]),a=this.ensureCoord(t.coords[1],e.components[1]),ye=this.ensureCoord(t.coords[2],e.components[2]);return[s,a,ye]}ensureCoord(o,e){let t=Number.isNaN(o)?0:o;return Math.max(0,Math.min(e.max,t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["zz-layout"]],decls:9,vars:2,consts:[[1,"flex","flex-row","items-top","justify-center","gap-8","pl-5","pr-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"py-2"],[3,"colorConfigChange"],[1,"min-w-36","w-full","pt-1","relative","flex","flex-col"],[1,"py-2","hidden","lg:block"],[1,"block",3,"height","color-model","current-color"],[3,"colorChange","rangeChange","color-config","axis-config","color-base"],[1,"mt-6","mb-4",3,"axisConfigChange"],[1,"block","pb-4",3,"color-config","axis-config","color-base","showClamp","min","max"],[1,"block",3,"newColor","height","color-model","current-color"]],template:function(e,t){if(e&1&&(r(0,"div"),p(1,"zz-layout-header"),i(),r(2,"main",0)(3,"div",1)(4,"zz-color-menu",2),x("colorConfigChange",function(a){return t.colorConfigChanged(a)}),i()(),r(5,"div",3),v(6,Te,3,10),i(),r(7,"div",4),v(8,Fe,1,3,"zz-color-sample",5),i()()),e&2){let s,a;l(6),_((s=t.colorConfig())?6:-1,s),l(2),_((a=t.colorConfig())?8:-1,a)}},dependencies:[M,D,ve,be,de,T],styles:["[_nghost-%COMP%]{display:block;height:100vh;width:100vw;overflow-x:hidden}"]})};export{ze as LayoutComponent};
