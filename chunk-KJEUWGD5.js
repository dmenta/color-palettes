import{a as De,b as wt,c as Vt,d as Me,e as Pt,f as Dt,g as Mt,h as ke,i as Ft,j as Te,k as Tt,l as Et,m as Lt}from"./chunk-LCN3ZFES.js";import{$a as g,$b as Y,Ab as R,C as ie,Ea as m,Fa as ee,Ga as pt,Gb as xt,Ha as v,Hb as _t,I as ae,Ib as yt,Jb as St,Ma as ut,N as lt,Na as c,O as xe,Oa as k,Ob as kt,Pa as _,Pb as Ie,Qb as ce,Ra as b,Rb as pe,Sa as W,Sb as X,T as h,Ta as mt,Tb as A,Ua as N,Ub as j,Va as F,Vb as z,Wa as r,Wb as K,Xa as s,Xb as ze,Ya as u,Yb as It,Z as V,Za as I,_ as P,_a as ye,_b as G,a as Q,ab as p,ac as zt,b as Ce,bc as Nt,cc as Ne,db as Se,dc as Fe,eb as we,ec as U,fa as rt,fb as Ve,fc as E,gb as dt,hb as d,ia as et,ib as Pe,ja as f,jb as H,ka as st,kb as ft,la as D,lb as B,mb as le,nb as re,ob as ht,pb as gt,qb as Ct,rb as se,sb as tt,tb as vt,ua as $,ub as bt,va as l,ya as ct,z as ne,za as _e,zb as w}from"./chunk-6UX733VL.js";var ve=.001,T=class{constructor(t,e,o=1,i="",a=100,C=2,x){this.name=t;this.range=e;this.valueStep=o;this.unit=i;this.autoSteps=a;this.templateFn=x?.bind(this)||this.templateFn,o<1&&(this.precision=Math.ceil(Math.log10(1/o))),this.defaultValue=this.average(e),this.axisValues=this.calcAxisValues(e,C)}templateFn=this.template;defaultValue;axisValues;precision=0;convert(t){return this.templateFn(this.clampValue(t))}bestRange(t){let e=Gt(this.range),o=t>e?this.range.max:t*2-this.range.min;return{min:t<e?this.range.min:t*2-this.range.max,max:o}}calcAxisValues(t,e){let o=(ot(t)-2*this.valueStep)/(e-1);return Array.from({length:e},(i,a)=>this.valueStep+t.min+a*o)}template(t){return`${xt(t,"en-US",`1.0-${this.precision}`)}${this.unit}`}average(t){let e=Gt(t);return Number.parseFloat(e.toFixed(this.precision))}clampValue(t){return t===void 0?this.defaultValue:Math.max(this.range.min,Math.min(this.range.max,t))}},te=class{constructor(t,e,o=0,i){this.name=t;this.components=e;this.defaultVariableIndex=o;this.templateFn=i?.bind(this)||this.templateFn}templateFn=this.template;template(t){return`${this.name}(${t[0]} ${t[1]} ${t[2]})`}defaultValues(){return[this.components[0].defaultValue,this.components[1].defaultValue,this.components[2].defaultValue]}convert(t){return this.templateFn([this.components[0].convert(t[0]),this.components[1].convert(t[1]),this.components[2].convert(t[2])])}displayValues(t){return this.components.map((e,o)=>({label:e.name.label,value:e.convert(t[o])}))}};function ot(n){return n.max-n.min}function Gt(n){return(n.max+n.min)/2}function Ot(n,t){return!(n.colorModelName!==t.colorModelName||n.variable.name.caption!==t.variable.name.caption||n.variable.name.label!==t.variable.name.label||!Ee(n.color,t.color)||Math.abs(n.range.min-t.range.min)>=ve||Math.abs(n.range.max-t.range.max)>=ve)}function Ee(n,t){return Math.abs(n[0]-t[0])<ve&&Math.abs(n[1]-t[1])<ve&&Math.abs(n[2]-t[2])<ve}var ue=[new te("oklch",[new T({caption:"Lightness",label:"L"},{min:0,max:1},.005,"",35),new T({caption:"Chroma",label:"C"},{min:0,max:.44},.004,"",20),new T({caption:"Hue",label:"H"},{min:-180,max:540},1,"",55,9)]),new te("hsl",[new T({caption:"Hue",label:"H"},{min:-180,max:540},1,"deg",55,9),new T({caption:"Saturation",label:"S"},{min:0,max:100},1,"%",20),new T({caption:"Lightness",label:"L"},{min:0,max:100},1,"%",35)],2),new te("rgb",[new T({caption:"Red",label:"R"},{min:0,max:255},1,"",25),new T({caption:"Green",label:"G"},{min:0,max:255},1,"",25),new T({caption:"Blue",label:"B"},{min:0,max:255},1,"",25)]),new te("hex",[new T({caption:"Red",label:"R"},{min:0,max:255},1,"",25,2,n=>Math.round(n).toString(16).padStart(2,"0").toUpperCase()),new T({caption:"Green",label:"G"},{min:0,max:255},1,"",25,2,n=>Math.round(n).toString(16).padStart(2,"0").toUpperCase()),new T({caption:"Blue",label:"B"},{min:0,max:255},1,"",25,2,n=>Math.round(n).toString(16).padStart(2,"0").toUpperCase())],0,n=>`#${n[0]}${n[1]}${n[2]}`)],L={oklch:ue[0],hsl:ue[1],rgb:ue[2],hex:ue[3]};var Le=L.oklch,Rt={colorConfig:{colorModelName:Le.name,variable:Le.components[2],variableIndex:Le.components.findIndex(n=>n.name.caption===Le.components[2].name.caption),color:{0:.641,1:.161,2:344.6},range:{min:191,max:498}},paletteStepsConfig:{steps:8,automatic:!0},paletteVisualConfig:{height:100,flat:!1,separate:!0},paletteValuesConfig:{showValues:"no"}};var y=class n{store=h(ke);initialState=this.store.get("color-state")??Rt;_showValuesOptions=[{text:"No",value:"no"},{text:"Yes",value:"yes"},{text:"RGB",value:"rgb"},{text:"HEX",value:"hex"}];colorModel=D(L[this.initialState.colorConfig.colorModelName]);variableConfig=D({variable:this.colorModel().components[this.initialState.colorConfig.variableIndex],variableIndex:this.initialState.colorConfig.variableIndex});range=D(this.initialState.colorConfig.range);get showValuesOptions(){return this._showValuesOptions}currentColor=D(this.initialState.colorConfig.color);colorConfig=D(Ce(Q({colorModel:this.colorModel()},this.variableConfig()),{color:this.currentColor(),range:this.range()}));paletteStepsConfig=D(this.initialState.paletteStepsConfig);paletteVisualConfig=D(this.initialState.paletteVisualConfig);paletteValuesConfig=D(this.initialState.paletteValuesConfig);rgb=w(()=>De(this.colorModel().convert(this.currentColor())).values);currentState=w(()=>({colorConfig:{colorModelName:this.colorModel().name,variable:this.colorConfig().variable,variableIndex:this.colorConfig().variableIndex,color:this.currentColor(),range:this.range()},paletteStepsConfig:this.paletteStepsConfig(),paletteVisualConfig:this.paletteVisualConfig(),paletteValuesConfig:this.paletteValuesConfig()}));palette=w(()=>{let t=Ce(Q({},this.colorConfig()),{color:this.currentColor(),range:this.range()}),e=this.paletteStepsConfig(),o=this.currentColor()??t.colorModel.defaultValues(),i=t.range.min,a=t.range.max,C=e?.steps??10;if(e?.automatic??!0){let oe=t.variable;C=Math.min(C,Math.max(2,Math.ceil(Math.abs(a-i)/ot(oe.range)*oe.autoSteps)))}let x=(a-i)/(C-1),O=Array.from({length:C},(oe,Z)=>{let be=i+Z*x,ge=Q({},o);ge[t.variableIndex]=be;let it=t.colorModel.convert([ge[0],ge[1],ge[2]]),at=De(it);return{valores:ge,color:it,rgbValues:at.values,rgb:at.color}});if(O.length>0){let oe=O[0].rgbValues;for(let Z=1;Z<O.length;Z++){let be=O[Z].rgbValues;Mt(be,oe)&&(O[Z-1].clamp=!0,O[Z].clamp=!0),oe=be}}return{model:t.colorModel.name,swatches:O}});constructor(){R(()=>this.store.save("color-state",this.currentState()))}loadPalette(t){let e={variable:L[t.palette.model].components[t.state.colorConfig.variableIndex],variableIndex:t.state.colorConfig.variableIndex};this.paletteStepsConfigChanged(t.state.stepsConfig),this.colorModel.set(L[t.palette.model]),this.variableConfig.set(e),this.currentColor.set(t.state.colorConfig.color),this.range.set(t.state.colorConfig.range),this.colorConfig.set({colorModel:this.colorModel(),variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()})}showValuesOption(t){return this._showValuesOptions.find(e=>e.value===t)}colorModelChanged(t){this.onColorModelChanged(t),this.colorConfig.set({colorModel:t,variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()})}variableChanged(t){this.onVariableConfigChanged(t,this.currentColor()),this.colorConfig.update(e=>Ce(Q({},e),{variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()}))}paletteStepsConfigChanged(t){this.paletteStepsConfig.set(t)}paletteVisualConfigChanged(t){this.paletteVisualConfig.set(t)}paletteValuesConfigChanged(t){this.paletteValuesConfig.set(t)}rangeChanged(t){this.range.set(t)}colorChanged(t){this.currentColor.set(t)}colorSelected(t){let e=Dt(t,this.colorModel());this.colorConfig.update(o=>Ce(Q({},o),{color:e,range:o.variable.bestRange(e[o.variableIndex])}))}currentPaletteInfo(){return{palette:this.palette(),state:{colorConfig:{colorModelName:this.colorModel().name,variable:this.variableConfig().variable,variableIndex:this.variableConfig().variableIndex,color:this.currentColor(),range:this.range()},stepsConfig:this.paletteStepsConfig()}}}onColorModelChanged(t){let e=this.colorModel().convert(this.currentColor()),o=t.defaultValues()??[0,0,0];if(e)switch(t.name){case"hsl":o=wt(e);break;case"oklch":o=Vt(e);break;default:o=De(e).values}this.colorModel.set(t),this.onVariableConfigChanged(t.components[t.defaultVariableIndex],o),this.currentColor.set(o)}onVariableConfigChanged(t,e){let o=this.colorModel().components.findIndex(i=>i.name===t.name);this.variableConfig.set({variable:t,variableIndex:o}),this.range.set(t.bestRange(e[o]))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Kt=(n,t)=>t.name,Ut=(n,t)=>t.name.caption;function qt(n,t){if(n&1){let e=I();B(0),r(1,"li")(2,"div")(3,"button",2),g("click",function(){let i=V(e).$implicit,a=p(2);return P(a.state.variableChanged(i))}),d(4),s()()()}if(n&2){let e=t.$implicit;p();let o=re(0),i=p().state.colorConfig().variable.name.caption===e.name.caption;l(2),_("selected",i),l(),c("disabled",!o||i),l(),H(" ",e.name.caption," ")}}function Qt(n,t){if(n&1){let e=I();B(0),r(1,"li")(2,"div")(3,"button",1),g("click",function(){let i=V(e).$implicit,a=p();return P(a.state.colorModelChanged(i))}),d(4),s()(),r(5,"ul"),N(6,qt,5,4,"li",null,Ut),s()()}if(n&2){let e=t.$implicit,o=le(p().state.colorConfig().colorModel.name===e.name);l(),_("selected",o),l(2),c("disabled",o),l(),H(" ",e.name," "),l(2),F(e.components)}}var Ge=class n{models=ue.filter(t=>t.name!=="hex");state=h(y);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-color-menu"]],decls:4,vars:0,consts:[[3,"selected"],[1,"py-2","uppercase",3,"click","disabled"],[1,"py-1",3,"click","disabled"]],template:function(e,o){e&1&&(r(0,"nav")(1,"menu"),N(2,Qt,8,5,"li",0,Kt),s()()),e&2&&(l(2),F(o.models))},encapsulation:2,changeDetection:0})};var q=class n{colorModel=f(void 0,{alias:"color-model"});values=f(void 0);get background(){return this.bgColor()??"black"}bgColor=w(()=>{let t=this.colorModel();if(!t)return;let e=this.values()??[0,0,0];return t.convert([e[0],e[1],e[2]])});static \u0275fac=function(e){return new(e||n)};static \u0275dir=ee({type:n,selectors:[["","color-swatch",""]],hostVars:2,hostBindings:function(e,o){e&2&&k("background-color",o.background)},inputs:{colorModel:[1,"color-model","colorModel"],values:[1,"values"]}})},At=class n{static \u0275fac=function(e){return new(e||n)};static \u0275dir=ee({type:n,selectors:[["","color-swatch-panel",""]],features:[pt([{directive:q,inputs:["color-model","color-model","values","values"]}])]})};function Wt(n,t){if(n&1&&(r(0,"div",4),d(1),s()),n&2){let e=t.$implicit;l(),ft("",e.label,": ",e.value,"")}}function Xt(n,t){if(n&1){let e=I();r(0,"div",2),g("click",function(){V(e);let i=p();return P(i.copy())}),r(1,"div",3),N(2,Wt,2,2,"div",4,W),s()()}if(n&2){let e=p();k("color",e.useContrast()?e.contrast():"currentColor"),_("w-[9ch]",e.vertical()),l(),_("flex-col",e.vertical())("gap-2",!e.vertical())("leading-4",e.vertical()),l(),F(e.parts())}}function Yt(n,t){if(n&1){let e=I();r(0,"div",5),g("click",function(){V(e);let i=p();return P(i.copy())}),d(1),s()}if(n&2){let e=p();k("color",e.useContrast()?e.contrast():"currentColor"),l(),H(" ",e.full(),`
`)}}var me=class n{copyService=h(Te);colorModelName=f("rgb",{alias:"color-model-name"});values=f(void 0,{alias:"values",transform:t=>t??[0,0,0]});useContrast=f(!0,{alias:"use-contrast"});vertical=f(!1,{alias:"vertical"});full=w(()=>L[this.colorModelName()].convert(this.values()));parts=w(()=>L[this.colorModelName()].displayValues(this.values()??[0,0,0]));contrast=w(()=>Me(this.full()));copy(){this.copyService.copy(this.full(),"Color copied!")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-color-values-display"]],inputs:{colorModelName:[1,"color-model-name","colorModelName"],values:[1,"values"],useContrast:[1,"use-contrast","useContrast"],vertical:[1,"vertical"]},decls:2,vars:1,consts:[["title","click to copy",1,"flex","justify-center","font-noto","cursor-copy","group","hover:opacity-100","opacity-85","underline-offset-2",3,"color","w-[9ch]"],["title","click to copy",1,"w-[7ch]","flex","px-1","justify-center","font-noto","cursor-copy","hover:opacity-100","opacity-85","underline-offset-2","hover:underline","decoration-current/70",3,"color"],["title","click to copy",1,"flex","justify-center","font-noto","cursor-copy","group","hover:opacity-100","opacity-85","underline-offset-2",3,"click"],[1,"flex","w-fit"],[1,"group-hover:underline","decoration-current/70"],["title","click to copy",1,"w-[7ch]","flex","px-1","justify-center","font-noto","cursor-copy","hover:opacity-100","opacity-85","underline-offset-2","hover:underline","decoration-current/70",3,"click"]],template:function(e,o){e&1&&v(0,Xt,4,10,"div",0)(1,Yt,2,3,"div",1),e&2&&b(o.colorModelName()!=="hex"?0:1)},encapsulation:2,changeDetection:0})};var Oe=class n{height=f(120);state=h(y);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-color-sample"]],inputs:{height:[1,"height"]},decls:7,vars:14,consts:[[1,"border-panel","max-w-[25ch]","rounded-lg"],["color-swatch","",1,"text-right","p-4","rounded-lg",3,"color-model","values"],[3,"color-change","color"],[1,"transition-all","text-smaller","justify-center","w-full","min-h-18","max-h-20","py-2","flex","flex-col","items-center","text-md","dark:text-gris-100","text-gris-700"],[1,"whitespace-nowrap","w-[25ch]","text-center","font-semibold",2,"font-variation-settings","'wght' 450",3,"color-model-name","use-contrast","values"],["color-model-name","rgb",1,"opacity-80","text-smaller",2,"line-height","1rem",3,"values","use-contrast"],["color-model-name","hex",1,"opacity-80","text-smaller",2,"line-height","1rem",3,"values","use-contrast"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"zz-color-selector",2),g("color-change",function(a){return o.state.colorSelected(a)}),s()(),r(3,"div",3),u(4,"zz-color-values-display",4)(5,"zz-color-values-display",5)(6,"zz-color-values-display",6),s()()),e&2&&(l(),k("height",o.height(),"px"),c("color-model",o.state.colorConfig().colorModel)("values",o.state.currentColor()),l(),c("color",o.state.rgb()),l(2),c("color-model-name",o.state.colorConfig().colorModel.name)("use-contrast",!1)("values",o.state.currentColor()),l(),_("hidden",o.state.colorConfig().colorModel.name==="rgb"),c("values",o.state.rgb())("use-contrast",!1),l(),c("values",o.state.rgb())("use-contrast",!1))},dependencies:[E,q,me,Tt],encapsulation:2,changeDetection:0})};var Jt=["zz-field-value",""],Re=class n{value=f(null);unit="";length;nullValueText="";decimals=0;text=w(()=>{let t=this.value();return t===null?this.nullValueText??"N/A":t.toFixed(this.decimals??0)+(this.unit??"")});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["","zz-field-value",""]],hostAttrs:[1,"select-none","transition-colors"],inputs:{value:[1,"value"],unit:"unit",length:"length",nullValueText:"nullValueText",decimals:"decimals"},attrs:Jt,decls:1,vars:1,template:function(e,o){e&1&&d(0),e&2&&H("",o.text(),`
`)},encapsulation:2,changeDetection:0})};var Ae=class n{controlPressed=D(!1);accent=f(!1);showTrack=f(!0);step=f(1,{alias:"zzStep",transform:t=>Math.max(Math.min(400,t??1),.001)});get stepCorregido(){return this.resolvedStep()}get current(){return this.value()}value=f(0,{alias:"zzValue",transform:t=>Math.max(Math.min(720,t??0),-720)});onControlKeyDown(t){this.controlPressed()||(this.controlPressed.set(!0),t.preventDefault())}onControlKeyUp(t){this.controlPressed()&&(this.controlPressed.set(!1),t.preventDefault())}resolvedStep=w(()=>{let t=this.step();return this.controlPressed()?10*t:t});static \u0275fac=function(e){return new(e||n)};static \u0275dir=ee({type:n,selectors:[["input","type","range","zz-slider",""]],hostVars:6,hostBindings:function(e,o){e&1&&g("keydown.control",function(a){return o.onControlKeyDown(a)})("keyup.control",function(a){return o.onControlKeyUp(a)}),e&2&&(ye("step",o.stepCorregido)("value",o.current),_("slider-track",o.showTrack())("slider-accent",o.accent()))},inputs:{accent:[1,"accent"],showTrack:[1,"showTrack"],step:[1,"zzStep","step"],value:[1,"zzValue","value"]}})};function Zt(n,t){if(n&1&&u(0,"option",1),n&2){let e=t.$implicit;c("value",e)}}function eo(n,t){if(n&1&&(r(0,"datalist",0),N(1,Zt,1,1,"option",1,mt),s()),n&2){let e=p();c("id",e.id),l(),F(e.values)}}var $e=class n{_values=[];id;set values(t){this._values=t.sort((e,o)=>e-o).reduce((e,o)=>(e.includes(o)||e.push(o),e),[])}get values(){return this._values}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-data-list"]],inputs:{id:"id",values:"values"},decls:1,vars:1,consts:[[3,"id"],[3,"value"]],template:function(e,o){e&1&&v(0,eo,3,1,"datalist",0),e&2&&b(o.id?0:-1)},encapsulation:2,changeDetection:0})};var to=()=>[];function oo(n,t){if(n&1){let e=I();r(0,"label",8),g("dblclick",function(){V(e);let i=p(2);return P(i.control.reset())}),d(1),s()}if(n&2){let e=p(2);_("text-right",e.labelsReverse)("opacity-80",e.defaultValue!==void 0&&e.control.value===e.defaultValue),c("for",e.fieldName),l(),H(" ",e.label," ")}}function no(n,t){if(n&1&&(u(0,"div",9),vt(1,"async")),n&2){let e,o,i,a=p(2);_("opacity-70",a.defaultValue!==void 0&&a.control.value===a.defaultValue),c("value",(e=bt(1,6,a.control.valueChanges))!==null&&e!==void 0?e:a.control.value)("length",(o=a.valueLength)!==null&&o!==void 0?o:10)("decimals",a.decimales)("unit",(i=a.unit)!==null&&i!==void 0?i:"")}}function io(n,t){if(n&1&&(r(0,"div",2)(1,"div",3)(2,"div"),v(3,oo,2,6,"label",4),s(),v(4,no,2,8,"div",5),s(),u(5,"input",6,0)(7,"zz-data-list",7),s()),n&2){let e,o,i=p();_("flex-col-reverse",!i.labelsAbove),c("formGroup",i.formGroup),l(),_("flex-row-reverse",i.labelsReverse),l(2),b(i.showLabel?3:-1),l(),b(i.showValue?4:-1),l(),c("zzStep",(e=i.step)!==null&&e!==void 0?e:1)("accent",i.defaultValue!==void 0&&i.control.value!==i.defaultValue)("formControlName",i.fieldName)("zzValue",i.control.value)("showTrack",i.showTrack())("min",i.min)("max",i.max),ut("aria-label","Input for "+i.label)("list",i.fieldName+"-list"),l(2),c("id",i.fieldName+"-list")("values",(o=i.stops)!==null&&o!==void 0?o:gt(18,to))}}var de=class n{constructor(t){this._parentFormGroupDirective=t}fieldName="";labelsAbove=!0;labelsReverse=!1;label="";valueLength;unit="";showTrack=f(!0);min=0;max=10;step=1;stops=[];labelLength;_defaultValue=0;get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}_showLabel=!1;get showLabel(){return this._showLabel&&(this.labelLength??1)>0}set showLabel(t){this._showLabel=t}_showValue=!1;get showValue(){return this._showValue&&(this.valueLength??1)>0}set showValue(t){this._showValue=t}get decimales(){let t=0;if((this.step??1)!==1&&!Number.isInteger(this.step)&&(t=this.step.toString().split(".")[1]?.length??0),(this.min??0)!==0&&!Number.isInteger(this.min)){let e=this.min.toString();t=Math.max(t,e.split(".")[1]?.length??0)}if((this.max??10)!==10&&!Number.isInteger(this.max)){let e=this.max.toString();t=Math.max(t,e.split(".")[1]?.length??0)}return t}get formGroup(){return this._parentFormGroupDirective?.control}get control(){return this._parentFormGroupDirective?.control.controls[this.fieldName]}static \u0275fac=function(e){return new(e||n)(_e(G,8))};static \u0275cmp=m({type:n,selectors:[["zz-slider-field"]],inputs:{fieldName:"fieldName",labelsAbove:[0,"labels-above","labelsAbove"],labelsReverse:[0,"labels-reverse","labelsReverse"],label:"label",valueLength:"valueLength",unit:"unit",showTrack:[1,"showTrack"],min:"min",max:"max",step:"step",stops:"stops",labelLength:"labelLength",defaultValue:"defaultValue",showLabel:"showLabel",showValue:"showValue"},decls:1,vars:1,consts:[["slider",""],[1,"w-full","p-1","flex","flex-col","select-none",3,"flex-col-reverse","formGroup"],[1,"w-full","p-1","flex","flex-col","select-none",3,"formGroup"],[1,"flex","flex-row","items-base","justify-between"],[1,"transition-colors",3,"for","text-right","opacity-80"],["zz-field-value","",3,"value","length","decimals","unit","opacity-70"],["zz-slider","","type","range",3,"zzStep","accent","formControlName","zzValue","showTrack","min","max"],[3,"id","values"],[1,"transition-colors",3,"dblclick","for"],["zz-field-value","",3,"value","length","decimals","unit"]],template:function(e,o){e&1&&v(0,io,8,19,"div",1),e&2&&b(o.control?0:-1)},dependencies:[E,ce,It,X,A,G,Y,Ae,Re,yt,$e],encapsulation:2,changeDetection:0})};var he=class n{colorConfig=f(void 0,{alias:"color-config"});height=f(30,{transform:t=>{if(t===void 0)return 30;let e=Number.isInteger(t)?t:30;return Math.max(1,Math.min(400,e))}});currentColor=f(void 0,{alias:"current-color"});gradient=void 0;colorSpaces={oklch:"oklch",rgb:"srgb",hsl:"hsl",hex:"srgb"};ngOnInit(){this.gradient=w(()=>{let t=this.colorConfig();if(!t)return"";let e=t.colorModel,o=this.currentColor()??e.defaultValues(),i=100/(t.variable.axisValues.length-1),a=t.variable.axisValues.map((C,x)=>{let O=Q({},o);return O[t.variableIndex]=C,`${e.convert(O)} ${(x*i).toFixed(2)}%`});return`linear-gradient(to right in ${this.colorSpaces[e.name]}, ${a})`})}static \u0275fac=function(e){return new(e||n)};static \u0275dir=ee({type:n,selectors:[["","zz-color-axis",""]],hostVars:4,hostBindings:function(e,o){e&2&&k("height",o.height(),"px")("background",o.gradient())},inputs:{colorConfig:[1,"color-config","colorConfig"],height:[1,"height"],currentColor:[1,"current-color","currentColor"]}})};var $t=(n,t,e)=>[n,t,e];function ao(n,t){if(n&1&&(r(0,"div",1),d(1,"arrow_range"),s(),u(2,"zz-slider-field",2)(3,"div",3)(4,"zz-slider-field",4)),n&2){p();let e=re(1),o=p();l(2),c("showTrack",!1)("min",e.variable.range.min)("max",e.variable.range.max)("step",e.variable.valueStep)("label",e.variable.name.caption)("defaultValue",e.variable.range.max)("stops",se(29,$t,e.variable.range.min,e.variable.defaultValue,e.variable.range.max))("showLabel",!0)("labelLength",10)("unit",e.variable.unit)("showValue",!0)("valueLength",9),l(),c("color-config",e)("current-color",o.currentColor())("height",o.height()),l(),c("showTrack",!1)("labels-above",!1)("labels-reverse",!0)("min",e.variable.range.min)("max",e.variable.range.max)("step",e.variable.valueStep)("label",e.variable.name.caption)("defaultValue",e.variable.range.min)("stops",se(33,$t,e.variable.range.min,e.variable.defaultValue,e.variable.range.max))("showLabel",!1)("labelLength",10)("unit",e.variable.unit)("showValue",!0)("valueLength",9)}}function lo(n,t){if(n&1&&(r(0,"form",0),B(1),v(2,ao,5,37),s()),n&2){let e=p();c("formGroup",e.formDual),l();let o=le(e.state.colorConfig());l(),b(o?2:-1)}}var He=class n{valueChangeSubscription=null;state=h(y);currentColor=f(void 0,{alias:"current-color"});height=f(30,{transform:t=>{if(t===void 0)return 30;let e=Number.isInteger(t)?t:30;return Math.max(1,Math.min(400,e))}});rangeChange=new rt;formDual=void 0;constructor(){R(()=>{this.formDual?.patchValue({min:this.state.colorConfig().range.min,max:this.state.colorConfig().range.max},{emitEvent:!0})})}ngOnInit(){this.formDual=new j({min:new z(this.state.colorConfig().range.min,{nonNullable:!0}),max:new z(this.state.colorConfig().range.max,{nonNullable:!0})}),this.valueChangeSubscription=this.formDual.valueChanges.subscribe(t=>{this.rangeChange.emit({min:t.min??this.formDual?.controls.min.value??0,max:t.max??this.formDual?.controls.max.value??0})})}ngOnDestroy(){this.valueChangeSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-dual-axis-slider"]],hostAttrs:[1,"block","w-full"],inputs:{currentColor:[1,"current-color","currentColor"],height:[1,"height"]},outputs:{rangeChange:"rangeChange"},decls:1,vars:1,consts:[[1,"relative","select-none",3,"formGroup"],[1,"absolute","left-24","right-24","text-center","top-0","font-icons","text-larger-5","min-w-8","h-10"],["fieldName","max",1,"relative","z-2","font-bold",3,"showTrack","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"],["zz-color-axis","",1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","current-color","height"],["fieldName","min",1,"relative","z-2","-mt-2.5","block",3,"showTrack","labels-above","labels-reverse","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"]],template:function(e,o){e&1&&v(0,lo,3,3,"form",0),e&2&&b(o.formDual!==void 0?0:-1)},dependencies:[de,he,E,K,A,G],encapsulation:2,changeDetection:0})};var Ht=(n,t,e)=>[n,t,e],Bt=(n,t,e,o,i)=>({colorModel:n,variable:t,variableIndex:e,color:o,range:i});function ro(n,t){if(n&1){let e=I();r(0,"form",1)(1,"div",2)(2,"zz-dual-axis-slider",3),g("rangeChange",function(i){V(e);let a=p();return P(a.onVariableChange(i))}),s(),r(3,"div"),B(4)(5),u(6,"zz-slider-field",4)(7,"div",5),s(),r(8,"div"),B(9)(10),u(11,"zz-slider-field",6)(12,"div",5),s()()()}if(n&2){let e=t,o=p();c("formGroup",o.configGroup),l(),k("min-height",3*(70+o.height),"px"),l(),_("row-2",e.variableIndex===1)("row-3",e.variableIndex===2),c("current-color",o.state.currentColor())("height",o.height);let i=e.variableIndex===0?1:0,a=e.colorModel.components[i];l(4),c("showTrack",!1)("min",a.range.min)("max",a.range.max)("step",a.valueStep)("label",a.name.caption)("defaultValue",a.defaultValue)("stops",se(39,Ht,a.range.min,a.defaultValue,a.range.max))("showLabel",!0)("labelLength",10)("unit",a.unit)("showValue",!0)("valueLength",9),l(),c("color-config",tt(43,Bt,e.colorModel,a,i,o.state.currentColor(),a.range))("current-color",o.state.currentColor())("height",o.height);let C=e.variableIndex===2?1:2,x=e.colorModel.components[C];l(4),c("showTrack",!1)("min",x.range.min)("max",x.range.max)("step",x.valueStep)("label",x.name.caption)("defaultValue",x.defaultValue)("stops",se(49,Ht,x.range.min,x.defaultValue,x.range.max))("showLabel",!0)("labelLength",10)("unit",x.unit)("showValue",!0)("valueLength",9),l(),c("color-config",tt(53,Bt,e.colorModel,x,C,o.state.currentColor(),x.range))("current-color",o.state.currentColor())("height",o.height)}}var Be=class n{valueChangeSubscription=null;state=h(y);height=30;indices=[0,1,2];configGroup=void 0;constructor(){R(()=>{let t=this.state.colorConfig(),e=t.color??[0,0,0],o=e[0],i=e[1],a=t.variableIndex;a===0?(o=e[1],i=e[2]):a===1&&(i=e[2]),this.configGroup?.patchValue({v0:o,v1:i,v2:e[t.variableIndex]},{emitEvent:!0})})}ngOnInit(){let t=this.state.colorConfig().color??[0,0,0];this.configGroup=new j({v0:new z(t[0],{nonNullable:!0}),v1:new z(t[1],{nonNullable:!0}),v2:new z(t[2],{nonNullable:!0})}),this.valueChangeSubscription=this.configGroup.valueChanges.subscribe(()=>{let{v0:e,v1:o,v2:i}=this.configGroup?.value??{v0:0,v1:0,v2:0},a=[e,o,i],C=this.state.colorConfig().variableIndex;a[C]=i,C===0?(a[1]=e,a[2]=o):C===1&&(a[2]=o),this.state.colorChanged(a)})}onVariableChange(t){this.state.rangeChanged(t),this.configGroup.patchValue({v2:(t.min+t.max)/2},{emitEvent:!0})}ngOnDestroy(){this.valueChangeSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-color-range-selector"]],decls:2,vars:1,consts:[[1,"h-fit",2,"background-color","none !important","border-width","0px !important"],[1,"min-w-fit","h-fit",3,"formGroup"],[1,"grid","grid-rows-3"],[1,"block",3,"rangeChange","current-color","height"],["fieldName","v0",1,"relative","z-2",3,"showTrack","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"],["zz-color-axis","",1,"-mt-2.5","block","rounded-md","overflow-hidden",3,"color-config","current-color","height"],["fieldName","v1",1,"relative","z-2",3,"showTrack","min","max","step","label","defaultValue","stops","showLabel","labelLength","unit","showValue","valueLength"]],template:function(e,o){if(e&1&&(r(0,"div",0),v(1,ro,13,59,"form",1),s()),e&2){let i;l(),b((i=o.state.colorConfig())?1:-1,i)}},dependencies:[de,U,K,A,E,G,he,He],encapsulation:2,changeDetection:0})};var so=n=>({"rounded-lg shadow-md/50  shadow-black":n});function co(n,t){if(n&1&&(r(0,"div",4),u(1,"zz-color-values-display",5),s()),n&2){let e=p().$implicit,o=re(3),i=p(3);l(),c("use-contrast",!0)("color-model-name",o.showValues==="rgb"?"rgb":o.showValues==="hex"?"hex":i.colorModel().name)("values",o.showValues==="yes"?e.valores:e.rgbValues)("vertical",!0)}}function po(n,t){if(n&1&&(r(0,"div",2)(1,"div",3),d(2," \u26A0 "),s(),B(3),v(4,co,2,4,"div",4),s()),n&2){let e=t.$implicit,o=t.$index,i=p(2),a=p();c("ngClass",Ct(9,so,!i.flat))("color-model",a.colorModel())("values",e.valores),l(),k("color",a.constrasts()[o]),_("opacity-60",e.clamp),l(2);let C=le(a.state.paletteValuesConfig());l(),b(C.showValues!=="no"?4:-1)}}function uo(n,t){if(n&1&&(r(0,"div",1),N(1,po,5,11,"div",2,W),s()),n&2){let e=p();k("height",e.height,"px"),_("space-x-1",e.separate),l(),F(t.swatches)}}function mo(n,t){if(n&1&&v(0,uo,3,4,"div",0),n&2){let e,o=p();b((e=o.palette())?0:-1,e)}}var je=class n{state=h(y);palette=f(void 0);constrasts=w(()=>{let t=this.palette();if(!t)return;let e=t.model;if(!e)return;let o=L[e];if(o)return t.swatches.map(i=>{let a=i.valores;return Me(o.convert(a))})});colorModel=w(()=>{let t=this.palette()?.model;if(t)return L[t]});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-color-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"space-x-1","height"],[1,"flex","flex-row","justify-between"],["color-swatch","",1,"palette-swatch",3,"ngClass","color-model","values"],[1,"text-larger-2","absolute","select-none","bottom-1","right-2","opacity-0","transition-opacity","duration-500","ease-in-out"],[1,"text-smaller-1"],[3,"use-contrast","color-model-name","values","vertical"]],template:function(e,o){if(e&1&&v(0,mo,1,1),e&2){let i;b((i=o.state.paletteVisualConfig())?0:-1,i)}},dependencies:[q,me,_t],encapsulation:2,changeDetection:0})};function nt(n,t){return!(!ho(n.palette,t.palette)||!fo(n.state,t.state))}function fo(n,t){return!(!Ot(n.colorConfig,t.colorConfig)||!vo(n.stepsConfig,t.stepsConfig))}function ho(n,t){return!(n.model!==t.model||!go(n.swatches,t.swatches))}function go(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(!Co(n[e],t[e]))return!1;return!0}function Co(n,t){return!(!n||!t||!Ee(n.valores,t.valores)||!Ee(n.rgbValues,t.rgbValues)||n.clamp!==t.clamp)}function vo(n,t){return n.steps===t.steps&&n.automatic===t.automatic}var J=class n{store=h(ke);notificationService=h(Ft);saved=D(this.store.get("saved-palettes")??[]);lockedPalette=D(this.store.get("locked-palette")??void 0);lock(t){let e=this.lockedPalette();if(e&&nt(e,t)){this.notificationService.warn("Already locked!");return}this.store.save("locked-palette",t),this.lockedPalette.set(t),this.notificationService.success("Palette locked!")}unlock(){this.store.delete("locked-palette"),this.lockedPalette.set(void 0)}remove(t){this.saved.update(e=>{let o=[...e];return o.splice(t,1),o}),this.store.save("saved-palettes",this.saved())}save(t){let e=this.saved().findIndex(o=>nt(o,t));if(e>=0){this.notificationService.warn(`Already saved at #${e+1}`);return}this.saved.update(o=>[t,...o].slice(0,100)),this.store.save("saved-palettes",this.saved()),this.notificationService.success("Palette saved!")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ke=class n{baseDate=new Date(2025,0,1).valueOf();store=h(J);state=h(y);copyService=h(Te);handleCopyShortcut(t){t.preventDefault(),this.copy()}handleSaveShortcut(t){t.preventDefault(),this.save()}handleLockShortcut(t){t.preventDefault(),this.lock()}handleUnlockShortcut(t){t.preventDefault(),this.unlock()}save(){this.store.save(this.state.currentPaletteInfo())}lock(){this.store.lock(this.state.currentPaletteInfo())}unlock(){this.store.unlock()}copy(){let t=this.paletteValues(this.state.palette());this.copyService.copy(t,"Palette colors copied!")}saveSVG(){this.paletteToSVG(this.state.palette().swatches.map(t=>t.rgb))}paletteValues(t){let e=[],o=[],i=[];for(let x of t.swatches)e.push(x.rgb),o.push(Pt(x.rgbValues)),i.push(x.color);let a=i.join(`\r
`),C=o.join(`\r
`);if(a?.startsWith("rgb"))return`${a}\r
\r
${C}`;{let x=e.join(`\r
`);return`${a}\r
\r
${x}\r
\r
${C}`}}paletteToSVG(t,e=40){let o=`<svg xmlns="http://www.w3.org/2000/svg" width="${t.length*e}" height="50">
      <rect width="100%" height="100%" fill="white"/>
      ${t.map((x,O)=>`<rect x="${O*e}" y="0" width="${e}" height="${e}" fill="${x}"/>`).join(`
`)}
    </svg>`,i=new Blob([o],{type:"image/svg+xml"}),a=URL.createObjectURL(i),C=document.createElement("a");C.href=a,C.download=`colorina-palette-${new Date().valueOf()-this.baseDate}.svg`,C.click(),URL.revokeObjectURL(a)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palette-actions"]],hostBindings:function(e,o){e&1&&g("keydown.control.shift.c",function(a){return o.handleCopyShortcut(a)},!1,$)("keydown.control.shift.s",function(a){return o.handleSaveShortcut(a)},!1,$)("keydown.control.shift.k",function(a){return o.handleLockShortcut(a)},!1,$)("keydown.control.shift.u",function(a){return o.handleUnlockShortcut(a)},!1,$)},decls:11,vars:1,consts:[[1,"flex","items-center"],["title","Unlock palette (Ctrl+Shift+U)",1,"icon-button","not-disabled:text-green-600","dark:not-disabled:text-green-400",3,"click"],["title","Lock palette (Ctrl+Shift+L)",1,"icon-button","not-disabled:text-red-600","dark:not-disabled:text-red-500",3,"click","disabled"],["title","Save palette  (Ctrl+Shift+S)",1,"icon-button",3,"click"],["title","Download palette as SVG (Ctrl+Shift+G)",1,"font-button",3,"click"],["title","Copy palette values (Ctrl+Shift+C)",1,"icon-button",3,"click"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"button",1),g("click",function(){return o.lock()}),d(2," cached "),s(),r(3,"button",2),g("click",function(){return o.unlock()}),d(4," sync_disabled "),s(),r(5,"button",3),g("click",function(){return o.save()}),d(6,"save"),s(),r(7,"button",4),g("click",function(){return o.saveSVG()}),d(8,"SVG"),s(),r(9,"button",5),g("click",function(){return o.copy()}),d(10,"content_copy"),s()()),e&2&&(l(3),c("disabled",o.store.lockedPalette()===void 0))},encapsulation:2,changeDetection:0})};function bo(n,t){if(n&1&&(r(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),d(4,"Steps:"),s(),u(5,"input",4),s(),r(6,"label",5),u(7,"input",6),r(8,"span",7),d(9,"Auto"),s()()()()),n&2){let e=p();c("formGroup",e.configGroup),l(5),c("min",2)("max",100)}}var Ue=class n{valueChangeSubscription=null;state=h(y);configGroup=void 0;constructor(){R(()=>{let t=this.state.paletteStepsConfig();t.steps!==this.configGroup?.controls.steps.value&&this.configGroup?.controls.steps.setValue(t.steps,{emitEvent:!1}),t.automatic!==this.configGroup?.controls.automatic.value&&this.configGroup?.controls.automatic.setValue(t.automatic,{emitEvent:!1})})}ngOnInit(){let t=this.state.paletteStepsConfig();this.configGroup=new j({steps:new z(t.steps,{nonNullable:!0,validators:[pe.min(2),pe.max(100)]}),automatic:new z(t.automatic,{nonNullable:!0})}),this.valueChangeSubscription=this.configGroup.valueChanges.pipe(ne(30),ie((e,o)=>e.steps===o.steps&&e.automatic===o.automatic),ae(this.configGroup.value)).subscribe(e=>{let o=this.configGroup?.controls;o&&this.configGroup?.valid&&this.state.paletteStepsConfigChanged({steps:e.steps??o.steps.value,automatic:e.automatic??o.automatic.value})})}ngOnDestroy(){this.valueChangeSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palette-steps-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-2"],[1,"flex","flex-row","items-center"],["for","steps",1,"select-none"],["type","number","id","steps","formControlName","steps","value","10",3,"min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer","has-disabled:cursor-default"],["type","checkbox","formControlName","automatic",1,"peer"],[1,"peer-disabled:opacity-50"]],template:function(e,o){e&1&&v(0,bo,10,3,"form",0),e&2&&b(o.configGroup?0:-1)},dependencies:[U,K,ce,ze,Ie,X,A,Fe,Ne,E,G,Y],encapsulation:2,changeDetection:0})};var xo=["valor"];function _o(n,t){if(n&1&&(r(0,"option",2),d(1),s()),n&2){let e=t.$implicit,o=p();c("value",e)("selected",o.value&&e[o.displayKey()]===o.value[o.displayKey()]),l(),H(" ",e[o.displayKey()]," ")}}var qe=class n{constructor(t){this._elementRef=t}trackValue(t,e){let o=e[this.displayKey()]?.toString();return o?t+"-"+o:t.toString()}static nextId=0;controlType="select";valorInput;id=`${this.controlType}-${n.nextId++}`;selectId=`${this.id}-select`;userAriaDescribedBy;items=f([]);displayKey=f.required();upperCase=f(!1);get disabled(){return this._disabled}set disabled(t){this._disabled=t}_disabled=!1;get value(){return this._value}set value(t){this._value=t,this.touched||this.writeValue(t)}_value=void 0;_renderer=h(ct);onValueChange(t){let e=t.target.selectedIndex;this.value=this.items()[e],this.onChange(this._value),t.stopPropagation()}touched=!1;onFocusOut(t){this.touched=!0,this.onTouched?.call(this)}writeValue(t){if(this._value=t,t){let e=t[this.displayKey()],o=this.items().findIndex(a=>a[this.displayKey()]===e);o=o===-1?0:o;let i=this.valorInput?.nativeElement.querySelector(`option:nth-of-type(${o+1})`);this._renderer.setProperty(i,"selected","selected")}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t}onChange=t=>{};onTouched=()=>{};static \u0275fac=function(e){return new(e||n)(_e(st))};static \u0275cmp=m({type:n,selectors:[["zz-select"]],viewQuery:function(e,o){if(e&1&&Se(xo,7),e&2){let i;we(i=Ve())&&(o.valorInput=i.first)}},hostVars:2,hostBindings:function(e,o){e&2&&ye("id",o.id)("selectId",o.selectId)},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],items:[1,"items"],displayKey:[1,"displayKey"],upperCase:[1,"upperCase"],disabled:"disabled",value:"value"},features:[ht([{provide:kt,useExisting:lt(()=>n),multi:!0}])],decls:4,vars:4,consts:[["valor",""],[1,"-mb-0.5","py-1","pl-2","pr-1","group","cursor-pointer","transition-all","ease-in-out","text-gris-900","group-focus-within:text-black","dark:bg-gris-900","dark:text-gris-100","group-focus-within:dark:text-white",3,"focusout","change","disabled","id"],[3,"value","selected"]],template:function(e,o){if(e&1){let i=I();r(0,"select",1,0),g("focusout",function(C){return V(i),P(o.onFocusOut(C))})("change",function(C){return V(i),P(o.onValueChange(C))}),N(2,_o,2,3,"option",2,o.trackValue,!0),s()}e&2&&(_("uppercase",o.upperCase()),c("disabled",o.disabled)("id",o.selectId),l(2),F(o.items()))},dependencies:[St,U,zt,Nt],encapsulation:2,changeDetection:0})};function yo(n,t){if(n&1&&(r(0,"form",1)(1,"div",2)(2,"label",3),d(3,"Values:"),s(),u(4,"zz-select",4,0),s()()),n&2){let e=dt(5),o=p();c("formGroup",o.configGroup),l(2),c("for",e.selectId),l(2),c("items",o.state.showValuesOptions)}}var Qe=class n{valueChangeSubscription=null;state=h(y);configGroup=void 0;ngOnInit(){let t=this.state.paletteValuesConfig(),e=this.state.showValuesOption(t.showValues);this.configGroup=new j({showValues:new z(e,{nonNullable:!0})}),this.valueChangeSubscription=this.configGroup.valueChanges.pipe(ne(30),ie((o,i)=>o.showValues?.value===i.showValues?.value),ae(this.configGroup.value)).subscribe(o=>{let i=this.configGroup?.controls;i&&this.configGroup?.valid&&this.state.paletteValuesConfigChanged({showValues:o.showValues?.value??i.showValues.value.value})})}ngOnDestroy(){this.valueChangeSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palette-values-config"]],decls:1,vars:1,consts:[["showValues",""],[3,"formGroup"],[1,"flex","flex-row","items-center"],[1,"select-none",3,"for"],["displayKey","text","formControlName","showValues",1,"w-16",3,"items"]],template:function(e,o){e&1&&v(0,yo,6,3,"form",1),e&2&&b(o.configGroup?0:-1)},dependencies:[U,K,X,A,E,G,Y,qe],encapsulation:2,changeDetection:0})};function So(n,t){if(n&1&&(r(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),d(4,"Height:"),s(),u(5,"input",4),s(),r(6,"label",5),u(7,"input",6),r(8,"span",7),d(9,"Flat"),s()(),r(10,"label",5),u(11,"input",8),r(12,"span",7),d(13,"Separate"),s()()()()),n&2){let e=p();c("formGroup",e.configGroup),l(5),c("min",1)("max",180)}}var We=class n{valueChangeSubscription=null;state=h(y);configGroup=void 0;ngOnInit(){let t=this.state.paletteVisualConfig();this.configGroup=new j({height:new z(t.height,{nonNullable:!0,validators:[pe.min(1),pe.max(180)]}),flat:new z(t.flat,{nonNullable:!0}),separate:new z(t.separate,{nonNullable:!0})}),this.valueChangeSubscription=this.configGroup.valueChanges.pipe(ne(30),ie((e,o)=>e.height===o.height&&e.flat===o.flat&&e.separate===o.separate),ae(this.configGroup.value)).subscribe(e=>{let o=this.configGroup?.controls;o&&this.configGroup?.valid&&this.state.paletteVisualConfigChanged({height:e.height??o.height.value,flat:e.flat??o.flat.value,separate:e.separate??o.separate.value})})}ngOnDestroy(){this.valueChangeSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palette-visual-config"]],decls:1,vars:1,consts:[[3,"formGroup"],[1,"flex","flex-row","items-center","gap-4"],[1,"flex","flex-row","items-center"],["for","height",1,"select-none"],["type","number","id","height","formControlName","height","value","10",3,"min","max"],[1,"flex","flex-row","items-center","gap-2","select-none","cursor-pointer","has-disabled:cursor-default"],["type","checkbox","formControlName","flat",1,"peer"],[1,"peer-disabled:opacity-50"],["type","checkbox","formControlName","separate",1,"peer"]],template:function(e,o){e&1&&v(0,So,14,3,"form",0),e&2&&b(o.configGroup?0:-1)},dependencies:[U,K,ce,ze,Ie,X,A,Fe,Ne,E,G,Y],encapsulation:2,changeDetection:0})};var Xe=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palette-menu"]],decls:7,vars:0,consts:[[1,"@container","flex"],[1,"flex","items-center","justify-start","w-full","gap-6","@max-[760px]:items-start","@max-[760px]:flex-col","@max-[760px]:gap-2"],[1,"opacity-90","hover:opacity-100"],[1,"flex","items-center","justify-end","w-full","-mb-0.5","gap-6","@max-[760px]:items-end","@max-[760px]:flex-col","@max-[760px]:gap-2"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1),u(2,"zz-palette-steps-config",2)(3,"zz-palette-visual-config",2),s(),r(4,"div",3),u(5,"zz-palette-values-config",2)(6,"zz-palette-actions"),s()())},dependencies:[Ue,We,Qe,Ke],encapsulation:2,changeDetection:0})};function wo(n,t){if(n&1&&u(0,"div",2),n&2){let e=t.$implicit,o=p(2);c("color-model",o.colorModel())("values",e.valores)}}function Vo(n,t){n&1&&(r(0,"div",1),N(1,wo,1,2,"div",2,W),s()),n&2&&(k("height",24,"px"),l(),F(t.swatches))}var Ye=class n{palette=f(void 0);colorModel=w(()=>{let t=this.palette()?.model;if(t)return L[t]});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-mini-palette"]],inputs:{palette:[1,"palette"]},decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between",3,"height"],[1,"flex","flex-row","justify-between"],["color-swatch","",1,"palette-swatch",3,"color-model","values"]],template:function(e,o){if(e&1&&v(0,Vo,3,2,"div",0),e&2){let i;b((i=o.palette())?0:-1,i)}},dependencies:[q],encapsulation:2,changeDetection:0})};var Po=["item"];function Do(n,t){if(n&1){let e=I();r(0,"button",3,0),g("click",function(){let i=V(e).$implicit,a=p();return P(a.paletteClick(i))}),r(2,"div",4)(3,"span",5),d(4),s(),u(5,"zz-mini-palette",6),r(6,"button",7),g("click",function(i){let a=V(e).$index,C=p();return P(C.removePalette(i,a))}),d(7," close "),s()()()}if(n&2){let e=t.$implicit,o=t.$index,i=p();c("disabled",!i.active()),l(4),Pe(o+1),l(),c("palette",e.palette),l(),c("disabled",!i.active())}}var Je=class n{focusedIndex=0;items;active=f(!1);palettes=f([]);paletteSelected=et();paletteRemoved=et();handleDownEvent(t){this.focusedIndex=Math.min(this.focusedIndex+1,this.items.length-1),this.focusItem()}handleUpEvent(t){this.focusedIndex=Math.max(this.focusedIndex-1,0),this.focusItem()}constructor(){R(()=>{this.active()&&(this.focusedIndex=0,this.focusItem())})}paletteClick(t){this.paletteSelected.emit(t)}removePalette(t,e){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),this.paletteRemoved.emit(e)}focusItem(){setTimeout(()=>{this.items.toArray()[this.focusedIndex].nativeElement.focus()},100)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palette-list"]],viewQuery:function(e,o){if(e&1&&Se(Po,5),e&2){let i;we(i=Ve())&&(o.items=i)}},hostBindings:function(e,o){e&1&&g("keydown.arrowdown",function(a){return o.handleDownEvent(a)},!1,$)("keydown.arrowup",function(a){return o.handleUpEvent(a)},!1,$)},inputs:{active:[1,"active"],palettes:[1,"palettes"]},outputs:{paletteSelected:"paletteSelected",paletteRemoved:"paletteRemoved"},decls:3,vars:0,consts:[["item",""],[1,"h-fit","select-none"],[1,"block","w-full",3,"disabled"],[1,"block","w-full",3,"click","disabled"],[1,"last:pb-3","first:pt-3","transition-colors","duration-100","ease-in-out","flex","items-center","gap-2","group","hover:bg-gris-100/50","dark:hover:bg-gris-900/70","px-2","py-1.5"],[1,"transition-opacity","duration-100","ease-in-out","text-smaller-2","group-hover:opacity-100","opacity-85","block","w-3","text-right"],[1,"block","w-full","cursor-pointer","rounded","overflow-hidden",3,"palette"],["title","Remove palette",1,"-mx-1","icon-button","text-larger","group-hover:opacity-100",3,"click","disabled"]],template:function(e,o){e&1&&(r(0,"div",1),N(1,Do,8,4,"button",2,W),s()),e&2&&(l(),F(o.palettes()))},dependencies:[Ye],encapsulation:2,changeDetection:0})};function Mo(n,t){if(n&1){let e=I();r(0,"div",7)(1,"zz-palette-list",8),g("paletteSelected",function(i){V(e);let a=p();return P(a.state.loadPalette(i))})("paletteRemoved",function(i){V(e);let a=p();return P(a.store.remove(i))}),s()()}if(n&2){let e=p();_("collapsable-collapsed",!e.open()),l(),c("active",e.open())("palettes",e.store.saved())}}var Ze=class n{store=h(J);state=h(y);abort=void 0;open=D(!1);handleKeyboardEvent(t){t.preventDefault(),this.openState(!this.open())}handleEscapeEvent(t){this.openState(!1)}constructor(){R(()=>{this.store.saved().length===0&&this.openState(!1)})}toggleOpen(t){t.preventDefault(),t.stopImmediatePropagation(),this.openState(!this.open())}openState(t){if(this.abort?.abort(),this.open.set(t),this.open()){this.abort=new AbortController;let e=this.abort.signal;window.addEventListener("click",this.onClick.bind(this),{once:!0,signal:e})}}onClick(t){this.openState(!1)}ngOnDestroy(){this.abort?.abort()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palette-selector"]],hostBindings:function(e,o){e&1&&g("keydown.control.shift.p",function(a){return o.handleKeyboardEvent(a)},!1,$)("keydown.escape",function(a){return o.handleEscapeEvent(a)},!1,$)},decls:11,vars:5,consts:[[1,"relative"],["type","button",1,"not-disabled:hover:bg-gris-100/50","not-disabled:dark:hover:bg-gris-950/50","px-4","py-1","w-24",3,"click","disabled"],[1,"flex","flex-row","items-center","gap-2","justify-between"],[1,"whitespace-nowrap"],[1,"font-icons"],[1,"collapsable","absolute","top-8","left-0","z-48","rounded","shadow-md/50","shadow-black","max-h-96","overflow-y-auto",3,"collapsable-collapsed"],[1,"fixed","top-0","left-0","z-30","bg-black/10","dark:bg-black/20","block","opacity-100","w-screen","h-screen"],[1,"collapsable","absolute","top-8","left-0","z-48","rounded","shadow-md/50","shadow-black","max-h-96","overflow-y-auto"],[1,"border-panel","block","bg-white","dark:bg-gris-800","w-56",3,"paletteSelected","paletteRemoved","active","palettes"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"button",1),g("click",function(a){return o.toggleOpen(a)}),r(2,"span",2)(3,"span",3),d(4,"Saved palettes "),r(5,"kbd"),d(6,"Ctrl+Shift+P"),s()(),r(7,"span",4),d(8),s()()(),v(9,Mo,2,4,"div",5),u(10,"div",6),s()),e&2&&(l(),c("disabled",o.store.saved().length===0),l(7),Pe(o.open()?"arrow_drop_up":"arrow_drop_down"),l(),b(o.store.saved().length>0?9:-1),l(),_("hidden",!o.open()))},dependencies:[Je],encapsulation:2,changeDetection:0})};function ko(n,t){n&1&&u(0,"zz-color-palette",9),n&2&&c("palette",t.palette)}var jt=class n{drawerOpen=D(!1);state=h(y);store=h(J);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["zz-palettes"]],hostAttrs:["styles","display: block;  height: 100vh;  width: 100vw;  overflow-x: hidden;"],decls:16,vars:3,consts:[[1,"bg-application","w-screen","h-screen","overflow-x-hidden"],[1,"sticky","bg-application","z-20","top-0","left-0","right-0","shadow-md","dark:shadow-black/60"],[3,"toggleDrawer"],[1,"grid","grid-rows-[minmax(min-content,200px)_auto]","grid-cols-[200px_auto]","lg:grid-cols-[200px_auto_200px]","gap-4","px-6","pt-2","m-auto","max-w-[1600px]","w-screen"],[1,"col-1","lg:col-3","row-1","pt-4"],[1,"block","w-full","h-fit",3,"height"],[1,"col-1","row-2","lg:row-1","lg:pt-4"],[1,"min-w-36","w-full","pt-3","pl-4","pr-0","lg:pr-4","relative","col-2","row-span-2"],[1,"mt-6","mb-4"],[1,"block","pb-4",3,"palette"]],template:function(e,o){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"zz-header",2),g("toggleDrawer",function(){return o.drawerOpen.set(!o.drawerOpen())}),u(3,"zz-palette-selector"),s()(),r(4,"main",3)(5,"div",4),u(6,"zz-color-sample",5),s(),r(7,"div",6),u(8,"zz-color-menu"),s(),r(9,"div",7),u(10,"zz-color-range-selector"),r(11,"div",8),u(12,"zz-palette-menu"),s(),u(13,"zz-color-palette",9),v(14,ko,1,1,"zz-color-palette",9),s()()(),u(15,"zz-notification")),e&2){let i;l(6),c("height",150),l(7),c("palette",o.state.palette()),l(),b((i=o.store.lockedPalette())?14:-1,i)}},dependencies:[Ge,Oe,Be,je,Et,Xe,Ze,Lt],encapsulation:2,changeDetection:0})};export{jt as PalettesComponent};
